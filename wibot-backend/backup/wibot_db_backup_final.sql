--
-- PostgreSQL database dump
--

\restrict azymbu8NaLOZETVApf1RlVWgEgfkcBXGHnXCavZJCF9VLwh3Cm5Z5suuPUUaiSI

-- Dumped from database version 14.20
-- Dumped by pg_dump version 14.20

SET statement_timeout = 0;
SET lock_timeout = 0;
SET idle_in_transaction_session_timeout = 0;
SET client_encoding = 'UTF8';
SET standard_conforming_strings = on;
SELECT pg_catalog.set_config('search_path', '', false);
SET check_function_bodies = false;
SET xmloption = content;
SET client_min_messages = warning;
SET row_security = off;

--
-- Name: pgcrypto; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS pgcrypto WITH SCHEMA public;


--
-- Name: EXTENSION pgcrypto; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION pgcrypto IS 'cryptographic functions';


--
-- Name: uuid-ossp; Type: EXTENSION; Schema: -; Owner: -
--

CREATE EXTENSION IF NOT EXISTS "uuid-ossp" WITH SCHEMA public;


--
-- Name: EXTENSION "uuid-ossp"; Type: COMMENT; Schema: -; Owner: 
--

COMMENT ON EXTENSION "uuid-ossp" IS 'generate universally unique identifiers (UUIDs)';


--
-- Name: increment_workflow_version(); Type: FUNCTION; Schema: public; Owner: widip
--

CREATE FUNCTION public.increment_workflow_version() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
			BEGIN
				IF NEW."versionCounter" IS NOT DISTINCT FROM OLD."versionCounter" THEN
					NEW."versionCounter" = OLD."versionCounter" + 1;
				END IF;
				RETURN NEW;
			END;
			$$;


ALTER FUNCTION public.increment_workflow_version() OWNER TO widip;

--
-- Name: update_updated_at_column(); Type: FUNCTION; Schema: public; Owner: widip
--

CREATE FUNCTION public.update_updated_at_column() RETURNS trigger
    LANGUAGE plpgsql
    AS $$
BEGIN
    NEW.updated_at = NOW();
    RETURN NEW;
END;
$$;


ALTER FUNCTION public.update_updated_at_column() OWNER TO widip;

SET default_tablespace = '';

SET default_table_access_method = heap;

--
-- Name: annotation_tag_entity; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.annotation_tag_entity (
    id character varying(16) NOT NULL,
    name character varying(24) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.annotation_tag_entity OWNER TO widip;

--
-- Name: auth_identity; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.auth_identity (
    "userId" uuid,
    "providerId" character varying(64) NOT NULL,
    "providerType" character varying(32) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.auth_identity OWNER TO widip;

--
-- Name: auth_provider_sync_history; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.auth_provider_sync_history (
    id integer NOT NULL,
    "providerType" character varying(32) NOT NULL,
    "runMode" text NOT NULL,
    status text NOT NULL,
    "startedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    "endedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL,
    scanned integer NOT NULL,
    created integer NOT NULL,
    updated integer NOT NULL,
    disabled integer NOT NULL,
    error text
);


ALTER TABLE public.auth_provider_sync_history OWNER TO widip;

--
-- Name: auth_provider_sync_history_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

CREATE SEQUENCE public.auth_provider_sync_history_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.auth_provider_sync_history_id_seq OWNER TO widip;

--
-- Name: auth_provider_sync_history_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: widip
--

ALTER SEQUENCE public.auth_provider_sync_history_id_seq OWNED BY public.auth_provider_sync_history.id;


--
-- Name: binary_data; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.binary_data (
    "fileId" uuid NOT NULL,
    "sourceType" character varying(50) NOT NULL,
    "sourceId" character varying(255) NOT NULL,
    data bytea NOT NULL,
    "mimeType" character varying(255),
    "fileName" character varying(255),
    "fileSize" integer NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    CONSTRAINT "CHK_binary_data_sourceType" CHECK ((("sourceType")::text = ANY ((ARRAY['execution'::character varying, 'chat_message_attachment'::character varying])::text[])))
);


ALTER TABLE public.binary_data OWNER TO widip;

--
-- Name: COLUMN binary_data."sourceType"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.binary_data."sourceType" IS 'Source the file belongs to, e.g. ''execution''';


--
-- Name: COLUMN binary_data."sourceId"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.binary_data."sourceId" IS 'ID of the source, e.g. execution ID';


--
-- Name: COLUMN binary_data.data; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.binary_data.data IS 'Raw, not base64 encoded';


--
-- Name: COLUMN binary_data."fileSize"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.binary_data."fileSize" IS 'In bytes';


--
-- Name: chat_hub_agents; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.chat_hub_agents (
    id uuid NOT NULL,
    name character varying(256) NOT NULL,
    description character varying(512),
    "systemPrompt" text NOT NULL,
    "ownerId" uuid NOT NULL,
    "credentialId" character varying(36),
    provider character varying(16) NOT NULL,
    model character varying(64) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    tools json DEFAULT '[]'::json NOT NULL
);


ALTER TABLE public.chat_hub_agents OWNER TO widip;

--
-- Name: COLUMN chat_hub_agents.provider; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_agents.provider IS 'ChatHubProvider enum: "openai", "anthropic", "google", "n8n"';


--
-- Name: COLUMN chat_hub_agents.model; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_agents.model IS 'Model name used at the respective Model node, ie. "gpt-4"';


--
-- Name: COLUMN chat_hub_agents.tools; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_agents.tools IS 'Tools available to the agent as JSON node definitions';


--
-- Name: chat_hub_messages; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.chat_hub_messages (
    id uuid NOT NULL,
    "sessionId" uuid NOT NULL,
    "previousMessageId" uuid,
    "revisionOfMessageId" uuid,
    "retryOfMessageId" uuid,
    type character varying(16) NOT NULL,
    name character varying(128) NOT NULL,
    content text NOT NULL,
    provider character varying(16),
    model character varying(64),
    "workflowId" character varying(36),
    "executionId" integer,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "agentId" character varying(36),
    status character varying(16) DEFAULT 'success'::character varying NOT NULL,
    attachments json
);


ALTER TABLE public.chat_hub_messages OWNER TO widip;

--
-- Name: COLUMN chat_hub_messages.type; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_messages.type IS 'ChatHubMessageType enum: "human", "ai", "system", "tool", "generic"';


--
-- Name: COLUMN chat_hub_messages.provider; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_messages.provider IS 'ChatHubProvider enum: "openai", "anthropic", "google", "n8n"';


--
-- Name: COLUMN chat_hub_messages.model; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_messages.model IS 'Model name used at the respective Model node, ie. "gpt-4"';


--
-- Name: COLUMN chat_hub_messages."agentId"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_messages."agentId" IS 'ID of the custom agent (if provider is "custom-agent")';


--
-- Name: COLUMN chat_hub_messages.status; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_messages.status IS 'ChatHubMessageStatus enum, eg. "success", "error", "running", "cancelled"';


--
-- Name: COLUMN chat_hub_messages.attachments; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_messages.attachments IS 'File attachments for the message (if any), stored as JSON. Files are stored as base64-encoded data URLs.';


--
-- Name: chat_hub_sessions; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.chat_hub_sessions (
    id uuid NOT NULL,
    title character varying(256) NOT NULL,
    "ownerId" uuid NOT NULL,
    "lastMessageAt" timestamp(3) with time zone,
    "credentialId" character varying(36),
    provider character varying(16),
    model character varying(64),
    "workflowId" character varying(36),
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "agentId" character varying(36),
    "agentName" character varying(128),
    tools json DEFAULT '[]'::json NOT NULL
);


ALTER TABLE public.chat_hub_sessions OWNER TO widip;

--
-- Name: COLUMN chat_hub_sessions.provider; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_sessions.provider IS 'ChatHubProvider enum: "openai", "anthropic", "google", "n8n"';


--
-- Name: COLUMN chat_hub_sessions.model; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_sessions.model IS 'Model name used at the respective Model node, ie. "gpt-4"';


--
-- Name: COLUMN chat_hub_sessions."agentId"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_sessions."agentId" IS 'ID of the custom agent (if provider is "custom-agent")';


--
-- Name: COLUMN chat_hub_sessions."agentName"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_sessions."agentName" IS 'Cached name of the custom agent (if provider is "custom-agent")';


--
-- Name: COLUMN chat_hub_sessions.tools; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.chat_hub_sessions.tools IS 'Tools available to the agent as JSON node definitions';


--
-- Name: conversations; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.conversations (
    conversation_id uuid DEFAULT gen_random_uuid() NOT NULL,
    user_id integer,
    title character varying(255),
    created_at timestamp without time zone DEFAULT now(),
    updated_at timestamp without time zone DEFAULT now()
);


ALTER TABLE public.conversations OWNER TO widip;

--
-- Name: TABLE conversations; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON TABLE public.conversations IS 'Conversations chat WIBOT';


--
-- Name: credentials_entity; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.credentials_entity (
    name character varying(128) NOT NULL,
    data text NOT NULL,
    type character varying(128) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    id character varying(36) NOT NULL,
    "isManaged" boolean DEFAULT false NOT NULL,
    "isGlobal" boolean DEFAULT false NOT NULL
);


ALTER TABLE public.credentials_entity OWNER TO widip;

--
-- Name: data_table; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.data_table (
    id character varying(36) NOT NULL,
    name character varying(128) NOT NULL,
    "projectId" character varying(36) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.data_table OWNER TO widip;

--
-- Name: data_table_column; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.data_table_column (
    id character varying(36) NOT NULL,
    name character varying(128) NOT NULL,
    type character varying(32) NOT NULL,
    index integer NOT NULL,
    "dataTableId" character varying(36) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.data_table_column OWNER TO widip;

--
-- Name: COLUMN data_table_column.type; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.data_table_column.type IS 'Expected: string, number, boolean, or date (not enforced as a constraint)';


--
-- Name: COLUMN data_table_column.index; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.data_table_column.index IS 'Column order, starting from 0 (0 = first column)';


--
-- Name: event_destinations; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.event_destinations (
    id uuid NOT NULL,
    destination jsonb NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.event_destinations OWNER TO widip;

--
-- Name: execution_annotation_tags; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.execution_annotation_tags (
    "annotationId" integer NOT NULL,
    "tagId" character varying(24) NOT NULL
);


ALTER TABLE public.execution_annotation_tags OWNER TO widip;

--
-- Name: execution_annotations; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.execution_annotations (
    id integer NOT NULL,
    "executionId" integer NOT NULL,
    vote character varying(6),
    note text,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.execution_annotations OWNER TO widip;

--
-- Name: execution_annotations_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

CREATE SEQUENCE public.execution_annotations_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.execution_annotations_id_seq OWNER TO widip;

--
-- Name: execution_annotations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: widip
--

ALTER SEQUENCE public.execution_annotations_id_seq OWNED BY public.execution_annotations.id;


--
-- Name: execution_data; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.execution_data (
    "executionId" integer NOT NULL,
    "workflowData" json NOT NULL,
    data text NOT NULL
);


ALTER TABLE public.execution_data OWNER TO widip;

--
-- Name: execution_entity; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.execution_entity (
    id integer NOT NULL,
    finished boolean NOT NULL,
    mode character varying NOT NULL,
    "retryOf" character varying,
    "retrySuccessId" character varying,
    "startedAt" timestamp(3) with time zone,
    "stoppedAt" timestamp(3) with time zone,
    "waitTill" timestamp(3) with time zone,
    status character varying NOT NULL,
    "workflowId" character varying(36) NOT NULL,
    "deletedAt" timestamp(3) with time zone,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.execution_entity OWNER TO widip;

--
-- Name: execution_entity_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

CREATE SEQUENCE public.execution_entity_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.execution_entity_id_seq OWNER TO widip;

--
-- Name: execution_entity_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: widip
--

ALTER SEQUENCE public.execution_entity_id_seq OWNED BY public.execution_entity.id;


--
-- Name: execution_metadata; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.execution_metadata (
    id integer NOT NULL,
    "executionId" integer NOT NULL,
    key character varying(255) NOT NULL,
    value text NOT NULL
);


ALTER TABLE public.execution_metadata OWNER TO widip;

--
-- Name: execution_metadata_temp_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

CREATE SEQUENCE public.execution_metadata_temp_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.execution_metadata_temp_id_seq OWNER TO widip;

--
-- Name: execution_metadata_temp_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: widip
--

ALTER SEQUENCE public.execution_metadata_temp_id_seq OWNED BY public.execution_metadata.id;


--
-- Name: folder; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.folder (
    id character varying(36) NOT NULL,
    name character varying(128) NOT NULL,
    "parentFolderId" character varying(36),
    "projectId" character varying(36) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.folder OWNER TO widip;

--
-- Name: folder_tag; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.folder_tag (
    "folderId" character varying(36) NOT NULL,
    "tagId" character varying(36) NOT NULL
);


ALTER TABLE public.folder_tag OWNER TO widip;

--
-- Name: insights_by_period; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.insights_by_period (
    id integer NOT NULL,
    "metaId" integer NOT NULL,
    type integer NOT NULL,
    value bigint NOT NULL,
    "periodUnit" integer NOT NULL,
    "periodStart" timestamp(0) with time zone DEFAULT CURRENT_TIMESTAMP
);


ALTER TABLE public.insights_by_period OWNER TO widip;

--
-- Name: COLUMN insights_by_period.type; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.insights_by_period.type IS '0: time_saved_minutes, 1: runtime_milliseconds, 2: success, 3: failure';


--
-- Name: COLUMN insights_by_period."periodUnit"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.insights_by_period."periodUnit" IS '0: hour, 1: day, 2: week';


--
-- Name: insights_by_period_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

ALTER TABLE public.insights_by_period ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.insights_by_period_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: insights_metadata; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.insights_metadata (
    "metaId" integer NOT NULL,
    "workflowId" character varying(16),
    "projectId" character varying(36),
    "workflowName" character varying(128) NOT NULL,
    "projectName" character varying(255) NOT NULL
);


ALTER TABLE public.insights_metadata OWNER TO widip;

--
-- Name: insights_metadata_metaId_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

ALTER TABLE public.insights_metadata ALTER COLUMN "metaId" ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public."insights_metadata_metaId_seq"
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: insights_raw; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.insights_raw (
    id integer NOT NULL,
    "metaId" integer NOT NULL,
    type integer NOT NULL,
    value bigint NOT NULL,
    "timestamp" timestamp(0) with time zone DEFAULT CURRENT_TIMESTAMP NOT NULL
);


ALTER TABLE public.insights_raw OWNER TO widip;

--
-- Name: COLUMN insights_raw.type; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.insights_raw.type IS '0: time_saved_minutes, 1: runtime_milliseconds, 2: success, 3: failure';


--
-- Name: insights_raw_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

ALTER TABLE public.insights_raw ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.insights_raw_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: installed_nodes; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.installed_nodes (
    name character varying(200) NOT NULL,
    type character varying(200) NOT NULL,
    "latestVersion" integer DEFAULT 1 NOT NULL,
    package character varying(241) NOT NULL
);


ALTER TABLE public.installed_nodes OWNER TO widip;

--
-- Name: installed_packages; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.installed_packages (
    "packageName" character varying(214) NOT NULL,
    "installedVersion" character varying(50) NOT NULL,
    "authorName" character varying(70),
    "authorEmail" character varying(70),
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.installed_packages OWNER TO widip;

--
-- Name: invalid_auth_token; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.invalid_auth_token (
    token character varying(512) NOT NULL,
    "expiresAt" timestamp(3) with time zone NOT NULL
);


ALTER TABLE public.invalid_auth_token OWNER TO widip;

--
-- Name: messages; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.messages (
    message_id integer NOT NULL,
    conversation_id uuid,
    user_id integer,
    role character varying(20) NOT NULL,
    content text NOT NULL,
    tokens integer DEFAULT 0,
    attachments jsonb,
    created_at timestamp without time zone DEFAULT now(),
    CONSTRAINT messages_role_check CHECK (((role)::text = ANY ((ARRAY['user'::character varying, 'assistant'::character varying])::text[])))
);


ALTER TABLE public.messages OWNER TO widip;

--
-- Name: TABLE messages; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON TABLE public.messages IS 'Messages des conversations';


--
-- Name: COLUMN messages.role; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.messages.role IS 'user ou assistant uniquement';


--
-- Name: COLUMN messages.attachments; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.messages.attachments IS 'Metadonnees fichiers joints (optionnel)';


--
-- Name: messages_message_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

CREATE SEQUENCE public.messages_message_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.messages_message_id_seq OWNER TO widip;

--
-- Name: messages_message_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: widip
--

ALTER SEQUENCE public.messages_message_id_seq OWNED BY public.messages.message_id;


--
-- Name: migrations; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.migrations (
    id integer NOT NULL,
    "timestamp" bigint NOT NULL,
    name character varying NOT NULL
);


ALTER TABLE public.migrations OWNER TO widip;

--
-- Name: migrations_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

CREATE SEQUENCE public.migrations_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.migrations_id_seq OWNER TO widip;

--
-- Name: migrations_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: widip
--

ALTER SEQUENCE public.migrations_id_seq OWNED BY public.migrations.id;


--
-- Name: n8n_chat_histories; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.n8n_chat_histories (
    id integer NOT NULL,
    session_id character varying(255) NOT NULL,
    message jsonb NOT NULL
);


ALTER TABLE public.n8n_chat_histories OWNER TO widip;

--
-- Name: n8n_chat_histories_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

CREATE SEQUENCE public.n8n_chat_histories_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.n8n_chat_histories_id_seq OWNER TO widip;

--
-- Name: n8n_chat_histories_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: widip
--

ALTER SEQUENCE public.n8n_chat_histories_id_seq OWNED BY public.n8n_chat_histories.id;


--
-- Name: oauth_access_tokens; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.oauth_access_tokens (
    token character varying NOT NULL,
    "clientId" character varying NOT NULL,
    "userId" uuid NOT NULL
);


ALTER TABLE public.oauth_access_tokens OWNER TO widip;

--
-- Name: oauth_authorization_codes; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.oauth_authorization_codes (
    code character varying(255) NOT NULL,
    "clientId" character varying NOT NULL,
    "userId" uuid NOT NULL,
    "redirectUri" character varying NOT NULL,
    "codeChallenge" character varying NOT NULL,
    "codeChallengeMethod" character varying(255) NOT NULL,
    "expiresAt" bigint NOT NULL,
    state character varying,
    used boolean DEFAULT false NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.oauth_authorization_codes OWNER TO widip;

--
-- Name: COLUMN oauth_authorization_codes."expiresAt"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.oauth_authorization_codes."expiresAt" IS 'Unix timestamp in milliseconds';


--
-- Name: oauth_clients; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.oauth_clients (
    id character varying NOT NULL,
    name character varying(255) NOT NULL,
    "redirectUris" json NOT NULL,
    "grantTypes" json NOT NULL,
    "clientSecret" character varying(255),
    "clientSecretExpiresAt" bigint,
    "tokenEndpointAuthMethod" character varying(255) DEFAULT 'none'::character varying NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.oauth_clients OWNER TO widip;

--
-- Name: COLUMN oauth_clients."tokenEndpointAuthMethod"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.oauth_clients."tokenEndpointAuthMethod" IS 'Possible values: none, client_secret_basic or client_secret_post';


--
-- Name: oauth_refresh_tokens; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.oauth_refresh_tokens (
    token character varying(255) NOT NULL,
    "clientId" character varying NOT NULL,
    "userId" uuid NOT NULL,
    "expiresAt" bigint NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.oauth_refresh_tokens OWNER TO widip;

--
-- Name: COLUMN oauth_refresh_tokens."expiresAt"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.oauth_refresh_tokens."expiresAt" IS 'Unix timestamp in milliseconds';


--
-- Name: oauth_user_consents; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.oauth_user_consents (
    id integer NOT NULL,
    "userId" uuid NOT NULL,
    "clientId" character varying NOT NULL,
    "grantedAt" bigint NOT NULL
);


ALTER TABLE public.oauth_user_consents OWNER TO widip;

--
-- Name: COLUMN oauth_user_consents."grantedAt"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.oauth_user_consents."grantedAt" IS 'Unix timestamp in milliseconds';


--
-- Name: oauth_user_consents_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

ALTER TABLE public.oauth_user_consents ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.oauth_user_consents_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: processed_data; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.processed_data (
    "workflowId" character varying(36) NOT NULL,
    context character varying(255) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    value text NOT NULL
);


ALTER TABLE public.processed_data OWNER TO widip;

--
-- Name: project; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.project (
    id character varying(36) NOT NULL,
    name character varying(255) NOT NULL,
    type character varying(36) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    icon json,
    description character varying(512)
);


ALTER TABLE public.project OWNER TO widip;

--
-- Name: project_relation; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.project_relation (
    "projectId" character varying(36) NOT NULL,
    "userId" uuid NOT NULL,
    role character varying NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.project_relation OWNER TO widip;

--
-- Name: role; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.role (
    slug character varying(128) NOT NULL,
    "displayName" text,
    description text,
    "roleType" text,
    "systemRole" boolean DEFAULT false NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.role OWNER TO widip;

--
-- Name: COLUMN role.slug; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.role.slug IS 'Unique identifier of the role for example: "global:owner"';


--
-- Name: COLUMN role."displayName"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.role."displayName" IS 'Name used to display in the UI';


--
-- Name: COLUMN role.description; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.role.description IS 'Text describing the scope in more detail of users';


--
-- Name: COLUMN role."roleType"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.role."roleType" IS 'Type of the role, e.g., global, project, or workflow';


--
-- Name: COLUMN role."systemRole"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.role."systemRole" IS 'Indicates if the role is managed by the system and cannot be edited';


--
-- Name: role_scope; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.role_scope (
    "roleSlug" character varying(128) NOT NULL,
    "scopeSlug" character varying(128) NOT NULL
);


ALTER TABLE public.role_scope OWNER TO widip;

--
-- Name: scope; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.scope (
    slug character varying(128) NOT NULL,
    "displayName" text,
    description text
);


ALTER TABLE public.scope OWNER TO widip;

--
-- Name: COLUMN scope.slug; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.scope.slug IS 'Unique identifier of the scope for example: "project:create"';


--
-- Name: COLUMN scope."displayName"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.scope."displayName" IS 'Name used to display in the UI';


--
-- Name: COLUMN scope.description; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.scope.description IS 'Text describing the scope in more detail of users';


--
-- Name: settings; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.settings (
    key character varying(255) NOT NULL,
    value text NOT NULL,
    "loadOnStartup" boolean DEFAULT false NOT NULL
);


ALTER TABLE public.settings OWNER TO widip;

--
-- Name: shared_credentials; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.shared_credentials (
    "credentialsId" character varying(36) NOT NULL,
    "projectId" character varying(36) NOT NULL,
    role text NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.shared_credentials OWNER TO widip;

--
-- Name: shared_workflow; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.shared_workflow (
    "workflowId" character varying(36) NOT NULL,
    "projectId" character varying(36) NOT NULL,
    role text NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.shared_workflow OWNER TO widip;

--
-- Name: tag_entity; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.tag_entity (
    name character varying(24) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    id character varying(36) NOT NULL
);


ALTER TABLE public.tag_entity OWNER TO widip;

--
-- Name: test_case_execution; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.test_case_execution (
    id character varying(36) NOT NULL,
    "testRunId" character varying(36) NOT NULL,
    "executionId" integer,
    status character varying NOT NULL,
    "runAt" timestamp(3) with time zone,
    "completedAt" timestamp(3) with time zone,
    "errorCode" character varying,
    "errorDetails" json,
    metrics json,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    inputs json,
    outputs json
);


ALTER TABLE public.test_case_execution OWNER TO widip;

--
-- Name: test_run; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.test_run (
    id character varying(36) NOT NULL,
    "workflowId" character varying(36) NOT NULL,
    status character varying NOT NULL,
    "errorCode" character varying,
    "errorDetails" json,
    "runAt" timestamp(3) with time zone,
    "completedAt" timestamp(3) with time zone,
    metrics json,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.test_run OWNER TO widip;

--
-- Name: user; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public."user" (
    id uuid DEFAULT gen_random_uuid() NOT NULL,
    email character varying(255),
    "firstName" character varying(32),
    "lastName" character varying(32),
    password character varying(255),
    "personalizationAnswers" json,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    settings json,
    disabled boolean DEFAULT false NOT NULL,
    "mfaEnabled" boolean DEFAULT false NOT NULL,
    "mfaSecret" text,
    "mfaRecoveryCodes" text,
    "lastActiveAt" date,
    "roleSlug" character varying(128) DEFAULT 'global:member'::character varying NOT NULL
);


ALTER TABLE public."user" OWNER TO widip;

--
-- Name: user_api_keys; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.user_api_keys (
    id character varying(36) NOT NULL,
    "userId" uuid NOT NULL,
    label character varying(100) NOT NULL,
    "apiKey" character varying NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    scopes json,
    audience character varying DEFAULT 'public-api'::character varying NOT NULL
);


ALTER TABLE public.user_api_keys OWNER TO widip;

--
-- Name: user_token_usage; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.user_token_usage (
    usage_id integer NOT NULL,
    user_id integer,
    month date NOT NULL,
    used_tokens bigint DEFAULT 0,
    quota_tokens bigint DEFAULT 50000
);


ALTER TABLE public.user_token_usage OWNER TO widip;

--
-- Name: TABLE user_token_usage; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON TABLE public.user_token_usage IS 'Compteur tokens mensuel par utilisateur';


--
-- Name: user_token_usage_usage_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

CREATE SEQUENCE public.user_token_usage_usage_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.user_token_usage_usage_id_seq OWNER TO widip;

--
-- Name: user_token_usage_usage_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: widip
--

ALTER SEQUENCE public.user_token_usage_usage_id_seq OWNED BY public.user_token_usage.usage_id;


--
-- Name: users; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.users (
    user_id integer NOT NULL,
    username character varying(100) NOT NULL,
    password_hash character varying(255) NOT NULL,
    email character varying(255),
    role character varying(50) DEFAULT 'user'::character varying,
    created_at timestamp without time zone DEFAULT now(),
    is_active boolean DEFAULT true
);


ALTER TABLE public.users OWNER TO widip;

--
-- Name: TABLE users; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON TABLE public.users IS 'Utilisateurs WIBOT';


--
-- Name: COLUMN users.password_hash; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.users.password_hash IS 'Hash bcrypt du mot de passe';


--
-- Name: users_user_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

CREATE SEQUENCE public.users_user_id_seq
    AS integer
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1;


ALTER TABLE public.users_user_id_seq OWNER TO widip;

--
-- Name: users_user_id_seq; Type: SEQUENCE OWNED BY; Schema: public; Owner: widip
--

ALTER SEQUENCE public.users_user_id_seq OWNED BY public.users.user_id;


--
-- Name: variables; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.variables (
    key character varying(50) NOT NULL,
    type character varying(50) DEFAULT 'string'::character varying NOT NULL,
    value character varying(255),
    id character varying(36) NOT NULL,
    "projectId" character varying(36)
);


ALTER TABLE public.variables OWNER TO widip;

--
-- Name: webhook_entity; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.webhook_entity (
    "webhookPath" character varying NOT NULL,
    method character varying NOT NULL,
    node character varying NOT NULL,
    "webhookId" character varying,
    "pathLength" integer,
    "workflowId" character varying(36) NOT NULL
);


ALTER TABLE public.webhook_entity OWNER TO widip;

--
-- Name: workflow_dependency; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.workflow_dependency (
    id integer NOT NULL,
    "workflowId" character varying(36) NOT NULL,
    "workflowVersionId" integer NOT NULL,
    "dependencyType" character varying(32) NOT NULL,
    "dependencyKey" character varying(255) NOT NULL,
    "dependencyInfo" json,
    "indexVersionId" smallint DEFAULT 1 NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL
);


ALTER TABLE public.workflow_dependency OWNER TO widip;

--
-- Name: COLUMN workflow_dependency."workflowVersionId"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.workflow_dependency."workflowVersionId" IS 'Version of the workflow';


--
-- Name: COLUMN workflow_dependency."dependencyType"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.workflow_dependency."dependencyType" IS 'Type of dependency: "credential", "nodeType", "webhookPath", or "workflowCall"';


--
-- Name: COLUMN workflow_dependency."dependencyKey"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.workflow_dependency."dependencyKey" IS 'ID or name of the dependency';


--
-- Name: COLUMN workflow_dependency."dependencyInfo"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.workflow_dependency."dependencyInfo" IS 'Additional info about the dependency, interpreted based on type';


--
-- Name: COLUMN workflow_dependency."indexVersionId"; Type: COMMENT; Schema: public; Owner: widip
--

COMMENT ON COLUMN public.workflow_dependency."indexVersionId" IS 'Version of the index structure';


--
-- Name: workflow_dependency_id_seq; Type: SEQUENCE; Schema: public; Owner: widip
--

ALTER TABLE public.workflow_dependency ALTER COLUMN id ADD GENERATED BY DEFAULT AS IDENTITY (
    SEQUENCE NAME public.workflow_dependency_id_seq
    START WITH 1
    INCREMENT BY 1
    NO MINVALUE
    NO MAXVALUE
    CACHE 1
);


--
-- Name: workflow_entity; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.workflow_entity (
    name character varying(128) NOT NULL,
    active boolean NOT NULL,
    nodes json NOT NULL,
    connections json NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    settings json,
    "staticData" json,
    "pinData" json,
    "versionId" character(36) NOT NULL,
    "triggerCount" integer DEFAULT 0 NOT NULL,
    id character varying(36) NOT NULL,
    meta json,
    "parentFolderId" character varying(36) DEFAULT NULL::character varying,
    "isArchived" boolean DEFAULT false NOT NULL,
    "versionCounter" integer DEFAULT 1 NOT NULL,
    description text,
    "activeVersionId" character varying(36)
);


ALTER TABLE public.workflow_entity OWNER TO widip;

--
-- Name: workflow_history; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.workflow_history (
    "versionId" character varying(36) NOT NULL,
    "workflowId" character varying(36) NOT NULL,
    authors character varying(255) NOT NULL,
    "createdAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    "updatedAt" timestamp(3) with time zone DEFAULT CURRENT_TIMESTAMP(3) NOT NULL,
    nodes json NOT NULL,
    connections json NOT NULL,
    name character varying(128),
    autosaved boolean DEFAULT false NOT NULL,
    description text
);


ALTER TABLE public.workflow_history OWNER TO widip;

--
-- Name: workflow_statistics; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.workflow_statistics (
    count integer DEFAULT 0,
    "latestEvent" timestamp(3) with time zone,
    name character varying(128) NOT NULL,
    "workflowId" character varying(36) NOT NULL,
    "rootCount" integer DEFAULT 0
);


ALTER TABLE public.workflow_statistics OWNER TO widip;

--
-- Name: workflows_tags; Type: TABLE; Schema: public; Owner: widip
--

CREATE TABLE public.workflows_tags (
    "workflowId" character varying(36) NOT NULL,
    "tagId" character varying(36) NOT NULL
);


ALTER TABLE public.workflows_tags OWNER TO widip;

--
-- Name: auth_provider_sync_history id; Type: DEFAULT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.auth_provider_sync_history ALTER COLUMN id SET DEFAULT nextval('public.auth_provider_sync_history_id_seq'::regclass);


--
-- Name: execution_annotations id; Type: DEFAULT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_annotations ALTER COLUMN id SET DEFAULT nextval('public.execution_annotations_id_seq'::regclass);


--
-- Name: execution_entity id; Type: DEFAULT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_entity ALTER COLUMN id SET DEFAULT nextval('public.execution_entity_id_seq'::regclass);


--
-- Name: execution_metadata id; Type: DEFAULT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_metadata ALTER COLUMN id SET DEFAULT nextval('public.execution_metadata_temp_id_seq'::regclass);


--
-- Name: messages message_id; Type: DEFAULT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.messages ALTER COLUMN message_id SET DEFAULT nextval('public.messages_message_id_seq'::regclass);


--
-- Name: migrations id; Type: DEFAULT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.migrations ALTER COLUMN id SET DEFAULT nextval('public.migrations_id_seq'::regclass);


--
-- Name: n8n_chat_histories id; Type: DEFAULT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.n8n_chat_histories ALTER COLUMN id SET DEFAULT nextval('public.n8n_chat_histories_id_seq'::regclass);


--
-- Name: user_token_usage usage_id; Type: DEFAULT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.user_token_usage ALTER COLUMN usage_id SET DEFAULT nextval('public.user_token_usage_usage_id_seq'::regclass);


--
-- Name: users user_id; Type: DEFAULT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.users ALTER COLUMN user_id SET DEFAULT nextval('public.users_user_id_seq'::regclass);


--
-- Data for Name: annotation_tag_entity; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.annotation_tag_entity (id, name, "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: auth_identity; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.auth_identity ("userId", "providerId", "providerType", "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: auth_provider_sync_history; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.auth_provider_sync_history (id, "providerType", "runMode", status, "startedAt", "endedAt", scanned, created, updated, disabled, error) FROM stdin;
\.


--
-- Data for Name: binary_data; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.binary_data ("fileId", "sourceType", "sourceId", data, "mimeType", "fileName", "fileSize", "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: chat_hub_agents; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.chat_hub_agents (id, name, description, "systemPrompt", "ownerId", "credentialId", provider, model, "createdAt", "updatedAt", tools) FROM stdin;
\.


--
-- Data for Name: chat_hub_messages; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.chat_hub_messages (id, "sessionId", "previousMessageId", "revisionOfMessageId", "retryOfMessageId", type, name, content, provider, model, "workflowId", "executionId", "createdAt", "updatedAt", "agentId", status, attachments) FROM stdin;
\.


--
-- Data for Name: chat_hub_sessions; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.chat_hub_sessions (id, title, "ownerId", "lastMessageAt", "credentialId", provider, model, "workflowId", "createdAt", "updatedAt", "agentId", "agentName", tools) FROM stdin;
\.


--
-- Data for Name: conversations; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.conversations (conversation_id, user_id, title, created_at, updated_at) FROM stdin;
963eb9f1-fdcc-4cd5-918b-29fae40c17a0	1	ABC	2025-12-26 16:45:37.418661	2025-12-26 22:14:44.38768
b88ac204-9035-4930-a37c-463f8b32af0c	1	hey	2025-12-26 22:14:50.80329	2025-12-26 22:14:50.80329
ced314f9-dacb-466f-96f5-e34cba3687a4	1	peux tu me resumer le contenu de ce document ?	2025-12-26 22:20:17.527594	2025-12-26 22:20:17.527594
\.


--
-- Data for Name: credentials_entity; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.credentials_entity (name, data, type, "createdAt", "updatedAt", id, "isManaged", "isGlobal") FROM stdin;
Mistral API	U2FsdGVkX19Z3BW3AMsDd0VNRbBX/vXV/O2ewtF801jHI6swIgOOxY7zuDpQyTE6LGBqypTRqJqO7EhXYrXaFw==	mistralCloudApi	2025-12-26 07:45:05.04+00	2025-12-26 07:45:05.039+00	b9hl3JA2taufCYVr	f	f
WIBOT PostgreSQL	U2FsdGVkX1+paHudBh/UOpu5jzZ6Zx6am+jnSEFRpI44cGKTJeDtc09drKcpTlUN0KY2n3bv6HdnbPxABjKEx8nW5X1G3JMzA0lP4ACUYrD7nuIrPqfkLC7sRjFRTBs07QTHewPDAw74vPlyvbfv5g==	postgres	2025-12-26 07:46:04.383+00	2025-12-26 07:46:04.382+00	yY2GzRzLXTG4anFZ	f	f
Ollama account	U2FsdGVkX19vmdbMb3FtVWd+qzgLh2CyH0ulrCierRw=	ollamaApi	2025-12-26 08:58:11.402+00	2025-12-26 08:58:11.401+00	Wzf3r27D8BuEckRY	f	f
\.


--
-- Data for Name: data_table; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.data_table (id, name, "projectId", "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: data_table_column; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.data_table_column (id, name, type, index, "dataTableId", "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: event_destinations; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.event_destinations (id, destination, "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: execution_annotation_tags; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.execution_annotation_tags ("annotationId", "tagId") FROM stdin;
\.


--
-- Data for Name: execution_annotations; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.execution_annotations (id, "executionId", vote, note, "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: execution_data; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.execution_data ("executionId", "workflowData", data) FROM stdin;
74	{"id":"zZSHB9BHjR30ThPP","name":"WIBOT - Auth Login","active":true,"activeVersionId":"1e31f7d7-5e68-47eb-863c-91d1ec7b0819","isArchived":false,"createdAt":"2025-12-26T17:23:18.804Z","updatedAt":"2025-12-26T17:24:10.395Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"POST","path":"auth/login","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c8898033-10a2-436a-915d-a01f108756c6","name":"Webhook Login","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1104,208],"webhookId":"auth-login"},{"parameters":{"resource":"database","operation":"select","schema":"public","table":"users","returnAll":false,"limit":1,"where":{"values":[{"column":"username","condition":"equal","value":"={{ $json.body.username }}"},{"column":"is_active","condition":"equal","value":"true"}]},"combineConditions":"AND","sort":{},"options":{}},"id":"a2a158de-b676-468b-a23e-18466966d674","name":"Get User","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-880,208],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-user-exists","leftValue":"={{ $json.user_id }}","rightValue":"","operator":{"type":"exists","operation":"exists"}}],"combinator":"and"},"options":{}},"id":"dd3f022d-09ed-47fe-ba59-73ae33165762","name":"User Exists?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-656,208]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const inputPassword = $('Webhook Login').first().json.body.password;\\nconst storedHash = $input.first().json.password_hash;\\nconst user = $input.first().json;\\n\\n// Comparaison simple du mot de passe\\nconst isValid = (inputPassword === storedHash);\\n\\nreturn [{ json: { isValid, user } }];","notice":""},"id":"bb41f913-1c3c-4afb-88a4-c46324c2b9ec","name":"Verify Password","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-password-valid","leftValue":"={{ $json.isValid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"73c0896e-95a9-4677-86c9-3398d7856fad","name":"Password Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const user = $input.first().json.user;\\n\\n// Fonction base64 encode compatible n8n\\nfunction toBase64(str) {\\n  return Buffer.from(str).toString('base64').replace(/=/g, '').replace(/\\\\+/g, '-').replace(/\\\\//g, '_');\\n}\\n\\nconst header = toBase64(JSON.stringify({ alg: 'HS256', typ: 'JWT' }));\\n\\nconst payload = toBase64(JSON.stringify({\\n  userId: user.user_id,\\n  username: user.username,\\n  role: user.role,\\n  iat: Math.floor(Date.now() / 1000),\\n  exp: Math.floor(Date.now() / 1000) + (24 * 60 * 60)\\n}));\\n\\n// Signature simplifie\\nconst signature = toBase64(header + payload + 'wibot_secret').substring(0, 43);\\n\\nconst token = `${header}.${payload}.${signature}`;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    token,\\n    user: {\\n      id: user.user_id,\\n      username: user.username,\\n      role: user.role\\n    }\\n  }\\n}];","notice":""},"id":"56756190-1aeb-4413-946a-e2a7b4907e8e","name":"Generate JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[0,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"5e5d60cc-5fee-4f26-b838-71d66c7a885a","name":"Success Response","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Invalid credentials\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"e90d3bbc-527a-4b00-b1dc-9bb17afa5966","name":"Invalid Password","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,208]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"User not found\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"8423d2d4-a607-49d0-a6d7-8730cf78fd86","name":"User Not Found","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-448,304]}],"connections":{"Webhook Login":{"main":[[{"node":"Get User","type":"main","index":0}]]},"Get User":{"main":[[{"node":"User Exists?","type":"main","index":0}]]},"User Exists?":{"main":[[{"node":"Verify Password","type":"main","index":0}],[{"node":"User Not Found","type":"main","index":0}]]},"Verify Password":{"main":[[{"node":"Password Valid?","type":"main","index":0}]]},"Password Valid?":{"main":[[{"node":"Generate JWT","type":"main","index":0}],[{"node":"Invalid Password","type":"main","index":0}]]},"Generate JWT":{"main":[[{"node":"Success Response","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook Login":"12","Get User":"13","User Exists?":"14","Verify Password":"15","Password Valid?":"16","Generate JWT":"17","Success Response":"18"},"Success Response",{},[],{},{},{},{"version":1,"establishedAt":1766769892380,"source":"19"},["20"],["21"],["22"],["23"],["24"],["25"],["26"],"webhook",{"startTime":1766769892380,"executionIndex":0,"source":"27","hints":"28","executionTime":0,"executionStatus":"29","data":"30"},{"startTime":1766769892380,"executionIndex":1,"source":"31","hints":"32","executionTime":8,"executionStatus":"29","data":"33"},{"startTime":1766769892388,"executionIndex":2,"source":"34","hints":"35","executionTime":1,"executionStatus":"29","data":"36"},{"startTime":1766769892389,"executionIndex":3,"source":"37","hints":"38","executionTime":2,"executionStatus":"29","data":"39"},{"startTime":1766769892391,"executionIndex":4,"source":"40","hints":"41","executionTime":1,"executionStatus":"29","data":"42"},{"startTime":1766769892392,"executionIndex":5,"source":"43","hints":"44","executionTime":2,"executionStatus":"29","data":"45"},{"startTime":1766769892394,"executionIndex":6,"source":"46","hints":"47","executionTime":0,"executionStatus":"29","data":"48"},[],[],"success",{"main":"49"},["50"],[],{"main":"51"},["52"],[],{"main":"53"},["54"],["55"],{"main":"56"},["57"],[],{"main":"58"},["59"],["60"],{"main":"61"},["62"],[],{"main":"63"},["64"],{"previousNode":"65"},["66"],{"previousNode":"67"},["68","69"],{"previousNode":"70"},{"message":"71","location":"72"},["73"],{"previousNode":"74"},["75","76"],{"previousNode":"77"},{"message":"71","location":"72"},["78"],{"previousNode":"79"},["80"],["81"],"Webhook Login",["82"],"Get User",["83"],[],"User Exists?","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["84"],"Verify Password",["85"],[],"Password Valid?",["86"],"Generate JWT",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"93","pairedItem":"95"},{"json":"96","pairedItem":"97"},{"json":"96","pairedItem":"98"},{"headers":"99","params":"100","query":"101","body":"102","webhookUrl":"103","executionMode":"104"},{"item":0},{"user_id":1,"username":"105","password_hash":"106","email":"107","role":"108","created_at":"109","is_active":true},{"item":0},{"item":0},{"isValid":true,"user":"110"},{"item":0},{"item":0},{"success":true,"token":"111","user":"112"},{"item":0},{"item":0},{"host":"113","x-real-ip":"114","x-forwarded-for":"114","x-forwarded-proto":"115","connection":"116","content-length":"117","sec-ch-ua-platform":"118","user-agent":"119","accept":"120","sec-ch-ua":"121","content-type":"122","dnt":"123","sec-ch-ua-mobile":"124","origin":"125","sec-fetch-site":"126","sec-fetch-mode":"127","sec-fetch-dest":"128","referer":"129","accept-encoding":"130","accept-language":"131","sec-gpc":"123"},{},{},{"username":"105","password":"106"},"http://localhost:5678/webhook/auth/login","production","khora","test123","khora@widip.fr","admin","2025-12-26T06:42:15.244Z",{"user_id":1,"username":"105","password_hash":"106","email":"107","role":"108","created_at":"109","is_active":true},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3Njk4OTIsImV4cCI6MTc2Njg1NjI5Mn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh",{"id":1,"username":"105","role":"108"},"localhost","172.20.0.1","http","close","41","\\"Windows\\"","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","application/json","1","?0","http://localhost:5173","same-site","cors","empty","http://localhost:5173/","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7"]
75	{"id":"zZSHB9BHjR30ThPP","name":"WIBOT - Auth Login","active":true,"activeVersionId":"1e31f7d7-5e68-47eb-863c-91d1ec7b0819","isArchived":false,"createdAt":"2025-12-26T17:23:18.804Z","updatedAt":"2025-12-26T17:24:10.395Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"POST","path":"auth/login","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c8898033-10a2-436a-915d-a01f108756c6","name":"Webhook Login","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1104,208],"webhookId":"auth-login"},{"parameters":{"resource":"database","operation":"select","schema":"public","table":"users","returnAll":false,"limit":1,"where":{"values":[{"column":"username","condition":"equal","value":"={{ $json.body.username }}"},{"column":"is_active","condition":"equal","value":"true"}]},"combineConditions":"AND","sort":{},"options":{}},"id":"a2a158de-b676-468b-a23e-18466966d674","name":"Get User","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-880,208],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-user-exists","leftValue":"={{ $json.user_id }}","rightValue":"","operator":{"type":"exists","operation":"exists"}}],"combinator":"and"},"options":{}},"id":"dd3f022d-09ed-47fe-ba59-73ae33165762","name":"User Exists?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-656,208]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const inputPassword = $('Webhook Login').first().json.body.password;\\nconst storedHash = $input.first().json.password_hash;\\nconst user = $input.first().json;\\n\\n// Comparaison simple du mot de passe\\nconst isValid = (inputPassword === storedHash);\\n\\nreturn [{ json: { isValid, user } }];","notice":""},"id":"bb41f913-1c3c-4afb-88a4-c46324c2b9ec","name":"Verify Password","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-password-valid","leftValue":"={{ $json.isValid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"73c0896e-95a9-4677-86c9-3398d7856fad","name":"Password Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const user = $input.first().json.user;\\n\\n// Fonction base64 encode compatible n8n\\nfunction toBase64(str) {\\n  return Buffer.from(str).toString('base64').replace(/=/g, '').replace(/\\\\+/g, '-').replace(/\\\\//g, '_');\\n}\\n\\nconst header = toBase64(JSON.stringify({ alg: 'HS256', typ: 'JWT' }));\\n\\nconst payload = toBase64(JSON.stringify({\\n  userId: user.user_id,\\n  username: user.username,\\n  role: user.role,\\n  iat: Math.floor(Date.now() / 1000),\\n  exp: Math.floor(Date.now() / 1000) + (24 * 60 * 60)\\n}));\\n\\n// Signature simplifie\\nconst signature = toBase64(header + payload + 'wibot_secret').substring(0, 43);\\n\\nconst token = `${header}.${payload}.${signature}`;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    token,\\n    user: {\\n      id: user.user_id,\\n      username: user.username,\\n      role: user.role\\n    }\\n  }\\n}];","notice":""},"id":"56756190-1aeb-4413-946a-e2a7b4907e8e","name":"Generate JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[0,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"5e5d60cc-5fee-4f26-b838-71d66c7a885a","name":"Success Response","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Invalid credentials\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"e90d3bbc-527a-4b00-b1dc-9bb17afa5966","name":"Invalid Password","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,208]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"User not found\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"8423d2d4-a607-49d0-a6d7-8730cf78fd86","name":"User Not Found","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-448,304]}],"connections":{"Webhook Login":{"main":[[{"node":"Get User","type":"main","index":0}]]},"Get User":{"main":[[{"node":"User Exists?","type":"main","index":0}]]},"User Exists?":{"main":[[{"node":"Verify Password","type":"main","index":0}],[{"node":"User Not Found","type":"main","index":0}]]},"Verify Password":{"main":[[{"node":"Password Valid?","type":"main","index":0}]]},"Password Valid?":{"main":[[{"node":"Generate JWT","type":"main","index":0}],[{"node":"Invalid Password","type":"main","index":0}]]},"Generate JWT":{"main":[[{"node":"Success Response","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook Login":"12","Get User":"13","User Exists?":"14","Verify Password":"15","Password Valid?":"16","Generate JWT":"17","Success Response":"18"},"Success Response",{},[],{},{},{},{"version":1,"establishedAt":1766769943180,"source":"19"},["20"],["21"],["22"],["23"],["24"],["25"],["26"],"webhook",{"startTime":1766769943181,"executionIndex":0,"source":"27","hints":"28","executionTime":0,"executionStatus":"29","data":"30"},{"startTime":1766769943181,"executionIndex":1,"source":"31","hints":"32","executionTime":7,"executionStatus":"29","data":"33"},{"startTime":1766769943188,"executionIndex":2,"source":"34","hints":"35","executionTime":0,"executionStatus":"29","data":"36"},{"startTime":1766769943188,"executionIndex":3,"source":"37","hints":"38","executionTime":2,"executionStatus":"29","data":"39"},{"startTime":1766769943191,"executionIndex":4,"source":"40","hints":"41","executionTime":0,"executionStatus":"29","data":"42"},{"startTime":1766769943191,"executionIndex":5,"source":"43","hints":"44","executionTime":3,"executionStatus":"29","data":"45"},{"startTime":1766769943194,"executionIndex":6,"source":"46","hints":"47","executionTime":1,"executionStatus":"29","data":"48"},[],[],"success",{"main":"49"},["50"],[],{"main":"51"},["52"],[],{"main":"53"},["54"],["55"],{"main":"56"},["57"],[],{"main":"58"},["59"],["60"],{"main":"61"},["62"],[],{"main":"63"},["64"],{"previousNode":"65"},["66"],{"previousNode":"67"},["68","69"],{"previousNode":"70"},{"message":"71","location":"72"},["73"],{"previousNode":"74"},["75","76"],{"previousNode":"77"},{"message":"71","location":"72"},["78"],{"previousNode":"79"},["80"],["81"],"Webhook Login",["82"],"Get User",["83"],[],"User Exists?","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["84"],"Verify Password",["85"],[],"Password Valid?",["86"],"Generate JWT",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"93","pairedItem":"95"},{"json":"96","pairedItem":"97"},{"json":"96","pairedItem":"98"},{"headers":"99","params":"100","query":"101","body":"102","webhookUrl":"103","executionMode":"104"},{"item":0},{"user_id":1,"username":"105","password_hash":"106","email":"107","role":"108","created_at":"109","is_active":true},{"item":0},{"item":0},{"isValid":true,"user":"110"},{"item":0},{"item":0},{"success":true,"token":"111","user":"112"},{"item":0},{"item":0},{"host":"113","x-real-ip":"114","x-forwarded-for":"114","x-forwarded-proto":"115","connection":"116","content-length":"117","sec-ch-ua-platform":"118","user-agent":"119","accept":"120","sec-ch-ua":"121","content-type":"122","dnt":"123","sec-ch-ua-mobile":"124","origin":"125","sec-fetch-site":"126","sec-fetch-mode":"127","sec-fetch-dest":"128","referer":"129","accept-encoding":"130","accept-language":"131","sec-gpc":"123"},{},{},{"username":"105","password":"106"},"http://localhost:5678/webhook/auth/login","production","khora","test123","khora@widip.fr","admin","2025-12-26T06:42:15.244Z",{"user_id":1,"username":"105","password_hash":"106","email":"107","role":"108","created_at":"109","is_active":true},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3Njk5NDMsImV4cCI6MTc2Njg1NjM0M30.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh",{"id":1,"username":"105","role":"108"},"localhost","172.20.0.1","http","close","41","\\"Windows\\"","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","application/json","1","?0","http://localhost:5173","same-site","cors","empty","http://localhost:5173/","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7"]
76	{"id":"zZSHB9BHjR30ThPP","name":"WIBOT - Auth Login","active":true,"activeVersionId":"1e31f7d7-5e68-47eb-863c-91d1ec7b0819","isArchived":false,"createdAt":"2025-12-26T17:23:18.804Z","updatedAt":"2025-12-26T17:24:10.395Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"POST","path":"auth/login","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c8898033-10a2-436a-915d-a01f108756c6","name":"Webhook Login","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1104,208],"webhookId":"auth-login"},{"parameters":{"resource":"database","operation":"select","schema":"public","table":"users","returnAll":false,"limit":1,"where":{"values":[{"column":"username","condition":"equal","value":"={{ $json.body.username }}"},{"column":"is_active","condition":"equal","value":"true"}]},"combineConditions":"AND","sort":{},"options":{}},"id":"a2a158de-b676-468b-a23e-18466966d674","name":"Get User","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-880,208],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-user-exists","leftValue":"={{ $json.user_id }}","rightValue":"","operator":{"type":"exists","operation":"exists"}}],"combinator":"and"},"options":{}},"id":"dd3f022d-09ed-47fe-ba59-73ae33165762","name":"User Exists?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-656,208]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const inputPassword = $('Webhook Login').first().json.body.password;\\nconst storedHash = $input.first().json.password_hash;\\nconst user = $input.first().json;\\n\\n// Comparaison simple du mot de passe\\nconst isValid = (inputPassword === storedHash);\\n\\nreturn [{ json: { isValid, user } }];","notice":""},"id":"bb41f913-1c3c-4afb-88a4-c46324c2b9ec","name":"Verify Password","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-password-valid","leftValue":"={{ $json.isValid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"73c0896e-95a9-4677-86c9-3398d7856fad","name":"Password Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const user = $input.first().json.user;\\n\\n// Fonction base64 encode compatible n8n\\nfunction toBase64(str) {\\n  return Buffer.from(str).toString('base64').replace(/=/g, '').replace(/\\\\+/g, '-').replace(/\\\\//g, '_');\\n}\\n\\nconst header = toBase64(JSON.stringify({ alg: 'HS256', typ: 'JWT' }));\\n\\nconst payload = toBase64(JSON.stringify({\\n  userId: user.user_id,\\n  username: user.username,\\n  role: user.role,\\n  iat: Math.floor(Date.now() / 1000),\\n  exp: Math.floor(Date.now() / 1000) + (24 * 60 * 60)\\n}));\\n\\n// Signature simplifie\\nconst signature = toBase64(header + payload + 'wibot_secret').substring(0, 43);\\n\\nconst token = `${header}.${payload}.${signature}`;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    token,\\n    user: {\\n      id: user.user_id,\\n      username: user.username,\\n      role: user.role\\n    }\\n  }\\n}];","notice":""},"id":"56756190-1aeb-4413-946a-e2a7b4907e8e","name":"Generate JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[0,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"5e5d60cc-5fee-4f26-b838-71d66c7a885a","name":"Success Response","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Invalid credentials\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"e90d3bbc-527a-4b00-b1dc-9bb17afa5966","name":"Invalid Password","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,208]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"User not found\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"8423d2d4-a607-49d0-a6d7-8730cf78fd86","name":"User Not Found","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-448,304]}],"connections":{"Webhook Login":{"main":[[{"node":"Get User","type":"main","index":0}]]},"Get User":{"main":[[{"node":"User Exists?","type":"main","index":0}]]},"User Exists?":{"main":[[{"node":"Verify Password","type":"main","index":0}],[{"node":"User Not Found","type":"main","index":0}]]},"Verify Password":{"main":[[{"node":"Password Valid?","type":"main","index":0}]]},"Password Valid?":{"main":[[{"node":"Generate JWT","type":"main","index":0}],[{"node":"Invalid Password","type":"main","index":0}]]},"Generate JWT":{"main":[[{"node":"Success Response","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook Login":"12","Get User":"13","User Exists?":"14","Verify Password":"15","Password Valid?":"16","Generate JWT":"17","Success Response":"18"},"Success Response",{},[],{},{},{},{"version":1,"establishedAt":1766769958378,"source":"19"},["20"],["21"],["22"],["23"],["24"],["25"],["26"],"webhook",{"startTime":1766769958378,"executionIndex":0,"source":"27","hints":"28","executionTime":0,"executionStatus":"29","data":"30"},{"startTime":1766769958378,"executionIndex":1,"source":"31","hints":"32","executionTime":7,"executionStatus":"29","data":"33"},{"startTime":1766769958385,"executionIndex":2,"source":"34","hints":"35","executionTime":0,"executionStatus":"29","data":"36"},{"startTime":1766769958385,"executionIndex":3,"source":"37","hints":"38","executionTime":2,"executionStatus":"29","data":"39"},{"startTime":1766769958388,"executionIndex":4,"source":"40","hints":"41","executionTime":0,"executionStatus":"29","data":"42"},{"startTime":1766769958388,"executionIndex":5,"source":"43","hints":"44","executionTime":3,"executionStatus":"29","data":"45"},{"startTime":1766769958391,"executionIndex":6,"source":"46","hints":"47","executionTime":0,"executionStatus":"29","data":"48"},[],[],"success",{"main":"49"},["50"],[],{"main":"51"},["52"],[],{"main":"53"},["54"],["55"],{"main":"56"},["57"],[],{"main":"58"},["59"],["60"],{"main":"61"},["62"],[],{"main":"63"},["64"],{"previousNode":"65"},["66"],{"previousNode":"67"},["68","69"],{"previousNode":"70"},{"message":"71","location":"72"},["73"],{"previousNode":"74"},["75","76"],{"previousNode":"77"},{"message":"71","location":"72"},["78"],{"previousNode":"79"},["80"],["81"],"Webhook Login",["82"],"Get User",["83"],[],"User Exists?","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["84"],"Verify Password",["85"],[],"Password Valid?",["86"],"Generate JWT",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"93","pairedItem":"95"},{"json":"96","pairedItem":"97"},{"json":"96","pairedItem":"98"},{"headers":"99","params":"100","query":"101","body":"102","webhookUrl":"103","executionMode":"104"},{"item":0},{"user_id":1,"username":"105","password_hash":"106","email":"107","role":"108","created_at":"109","is_active":true},{"item":0},{"item":0},{"isValid":true,"user":"110"},{"item":0},{"item":0},{"success":true,"token":"111","user":"112"},{"item":0},{"item":0},{"host":"113","x-real-ip":"114","x-forwarded-for":"114","x-forwarded-proto":"115","connection":"116","content-length":"117","user-agent":"118","accept":"119","content-type":"120"},{},{},{"username":"105","password":"106"},"http://localhost:5678/webhook/auth/login","production","khora","test123","khora@widip.fr","admin","2025-12-26T06:42:15.244Z",{"user_id":1,"username":"105","password_hash":"106","email":"107","role":"108","created_at":"109","is_active":true},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3Njk5NTgsImV4cCI6MTc2Njg1NjM1OH0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh",{"id":1,"username":"105","role":"108"},"localhost","172.20.0.1","http","close","41","curl/8.12.1","*/*","application/json"]
77	{"id":"zZSHB9BHjR30ThPP","name":"WIBOT - Auth Login","active":true,"activeVersionId":"1e31f7d7-5e68-47eb-863c-91d1ec7b0819","isArchived":false,"createdAt":"2025-12-26T17:23:18.804Z","updatedAt":"2025-12-26T17:24:10.395Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"POST","path":"auth/login","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c8898033-10a2-436a-915d-a01f108756c6","name":"Webhook Login","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1104,208],"webhookId":"auth-login"},{"parameters":{"resource":"database","operation":"select","schema":"public","table":"users","returnAll":false,"limit":1,"where":{"values":[{"column":"username","condition":"equal","value":"={{ $json.body.username }}"},{"column":"is_active","condition":"equal","value":"true"}]},"combineConditions":"AND","sort":{},"options":{}},"id":"a2a158de-b676-468b-a23e-18466966d674","name":"Get User","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-880,208],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-user-exists","leftValue":"={{ $json.user_id }}","rightValue":"","operator":{"type":"exists","operation":"exists"}}],"combinator":"and"},"options":{}},"id":"dd3f022d-09ed-47fe-ba59-73ae33165762","name":"User Exists?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-656,208]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const inputPassword = $('Webhook Login').first().json.body.password;\\nconst storedHash = $input.first().json.password_hash;\\nconst user = $input.first().json;\\n\\n// Comparaison simple du mot de passe\\nconst isValid = (inputPassword === storedHash);\\n\\nreturn [{ json: { isValid, user } }];","notice":""},"id":"bb41f913-1c3c-4afb-88a4-c46324c2b9ec","name":"Verify Password","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-password-valid","leftValue":"={{ $json.isValid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"73c0896e-95a9-4677-86c9-3398d7856fad","name":"Password Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const user = $input.first().json.user;\\n\\n// Fonction base64 encode compatible n8n\\nfunction toBase64(str) {\\n  return Buffer.from(str).toString('base64').replace(/=/g, '').replace(/\\\\+/g, '-').replace(/\\\\//g, '_');\\n}\\n\\nconst header = toBase64(JSON.stringify({ alg: 'HS256', typ: 'JWT' }));\\n\\nconst payload = toBase64(JSON.stringify({\\n  userId: user.user_id,\\n  username: user.username,\\n  role: user.role,\\n  iat: Math.floor(Date.now() / 1000),\\n  exp: Math.floor(Date.now() / 1000) + (24 * 60 * 60)\\n}));\\n\\n// Signature simplifie\\nconst signature = toBase64(header + payload + 'wibot_secret').substring(0, 43);\\n\\nconst token = `${header}.${payload}.${signature}`;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    token,\\n    user: {\\n      id: user.user_id,\\n      username: user.username,\\n      role: user.role\\n    }\\n  }\\n}];","notice":""},"id":"56756190-1aeb-4413-946a-e2a7b4907e8e","name":"Generate JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[0,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"5e5d60cc-5fee-4f26-b838-71d66c7a885a","name":"Success Response","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Invalid credentials\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"e90d3bbc-527a-4b00-b1dc-9bb17afa5966","name":"Invalid Password","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,208]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"User not found\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"8423d2d4-a607-49d0-a6d7-8730cf78fd86","name":"User Not Found","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-448,304]}],"connections":{"Webhook Login":{"main":[[{"node":"Get User","type":"main","index":0}]]},"Get User":{"main":[[{"node":"User Exists?","type":"main","index":0}]]},"User Exists?":{"main":[[{"node":"Verify Password","type":"main","index":0}],[{"node":"User Not Found","type":"main","index":0}]]},"Verify Password":{"main":[[{"node":"Password Valid?","type":"main","index":0}]]},"Password Valid?":{"main":[[{"node":"Generate JWT","type":"main","index":0}],[{"node":"Invalid Password","type":"main","index":0}]]},"Generate JWT":{"main":[[{"node":"Success Response","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook Login":"12","Get User":"13","User Exists?":"14","Verify Password":"15","Password Valid?":"16","Generate JWT":"17","Success Response":"18"},"Success Response",{},[],{},{},{},{"version":1,"establishedAt":1766770086001,"source":"19"},["20"],["21"],["22"],["23"],["24"],["25"],["26"],"webhook",{"startTime":1766770086002,"executionIndex":0,"source":"27","hints":"28","executionTime":0,"executionStatus":"29","data":"30"},{"startTime":1766770086002,"executionIndex":1,"source":"31","hints":"32","executionTime":7,"executionStatus":"29","data":"33"},{"startTime":1766770086009,"executionIndex":2,"source":"34","hints":"35","executionTime":0,"executionStatus":"29","data":"36"},{"startTime":1766770086009,"executionIndex":3,"source":"37","hints":"38","executionTime":2,"executionStatus":"29","data":"39"},{"startTime":1766770086012,"executionIndex":4,"source":"40","hints":"41","executionTime":0,"executionStatus":"29","data":"42"},{"startTime":1766770086012,"executionIndex":5,"source":"43","hints":"44","executionTime":5,"executionStatus":"29","data":"45"},{"startTime":1766770086017,"executionIndex":6,"source":"46","hints":"47","executionTime":0,"executionStatus":"29","data":"48"},[],[],"success",{"main":"49"},["50"],[],{"main":"51"},["52"],[],{"main":"53"},["54"],["55"],{"main":"56"},["57"],[],{"main":"58"},["59"],["60"],{"main":"61"},["62"],[],{"main":"63"},["64"],{"previousNode":"65"},["66"],{"previousNode":"67"},["68","69"],{"previousNode":"70"},{"message":"71","location":"72"},["73"],{"previousNode":"74"},["75","76"],{"previousNode":"77"},{"message":"71","location":"72"},["78"],{"previousNode":"79"},["80"],["81"],"Webhook Login",["82"],"Get User",["83"],[],"User Exists?","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["84"],"Verify Password",["85"],[],"Password Valid?",["86"],"Generate JWT",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"93","pairedItem":"95"},{"json":"96","pairedItem":"97"},{"json":"96","pairedItem":"98"},{"headers":"99","params":"100","query":"101","body":"102","webhookUrl":"103","executionMode":"104"},{"item":0},{"user_id":1,"username":"105","password_hash":"106","email":"107","role":"108","created_at":"109","is_active":true},{"item":0},{"item":0},{"isValid":true,"user":"110"},{"item":0},{"item":0},{"success":true,"token":"111","user":"112"},{"item":0},{"item":0},{"host":"113","x-real-ip":"114","x-forwarded-for":"114","x-forwarded-proto":"115","connection":"116","content-length":"117","sec-ch-ua-platform":"118","user-agent":"119","accept":"120","sec-ch-ua":"121","content-type":"122","dnt":"123","sec-ch-ua-mobile":"124","origin":"125","sec-fetch-site":"126","sec-fetch-mode":"127","sec-fetch-dest":"128","referer":"129","accept-encoding":"130","accept-language":"131","cookie":"132","sec-gpc":"123"},{},{},{"username":"105","password":"106"},"http://localhost:5678/webhook/auth/login","production","khora","test123","khora@widip.fr","admin","2025-12-26T06:42:15.244Z",{"user_id":1,"username":"105","password_hash":"106","email":"107","role":"108","created_at":"109","is_active":true},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh",{"id":1,"username":"105","role":"108"},"localhost","172.20.0.1","http","close","41","\\"Windows\\"","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","application/json","1","?0","http://localhost:5173","same-origin","cors","empty","http://localhost:5173/login","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19OCF2pwGAF9%2F1pnZFbf%2FU9bjx8bVtFQuoB8uuJ4NZsPcztnq86wTJ%2BQifiUh5ZvOQcOj%2FH3NsgdQ%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX18wdSl%2BbR3A%2BBVvQhbd%2Ft6PfsfHxsKEBaccdHn1PqgznQhdlXcvXpMucO9JmugdZAZPzPIfhheQNJAG2z4HadQI5CAOk4n%2BuIssh%2B059iyHUcXJeKi1D58q%2BCEliIFzvdt2thhgEtEAPvHTYsMEoJxnCpILtIFuLEY%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX1%2B3MJSeV1f7oHZwtV0yoKDLaJhiGtE8gWe2a%2B7YBR5%2BIzzCrIR1ldx3zHzuCpiycKrm8ZvbyAdpk7xyQpiLsCpvxYZYpvUTC17KvTIAGMDiyRCN9uYzTsmLgBICuGc946bvr7TN4sMBy%2BIBbMv55j1q%2F3bhkK1Hg58%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FERVfhya6DPHED9AM7MdTRO7q4UT3hT67GDfzJYwdaHWTFTkAAuNcmRVwsCWWAnp19SNOZyK4oltRv5k4P7cBM1Nc7%2FlQiwgZDvuNPxkT1S4sc2MkmJXypiMtoEtKtBVezvB1%2BWlofbQ%3D%3D"]
78	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766770086640,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766770086640,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766770086640,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766770086643,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766770086644,"executionIndex":3,"source":"35","hints":"36","executionTime":6,"executionStatus":"27","data":"37"},{"startTime":1766770086650,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766770086654,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14249,"quota_tokens":50000,"tokens_remaining":35751},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14249","50000","35751","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19OCF2pwGAF9%2F1pnZFbf%2FU9bjx8bVtFQuoB8uuJ4NZsPcztnq86wTJ%2BQifiUh5ZvOQcOj%2FH3NsgdQ%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX18wdSl%2BbR3A%2BBVvQhbd%2Ft6PfsfHxsKEBaccdHn1PqgznQhdlXcvXpMucO9JmugdZAZPzPIfhheQNJAG2z4HadQI5CAOk4n%2BuIssh%2B059iyHUcXJeKi1D58q%2BCEliIFzvdt2thhgEtEAPvHTYsMEoJxnCpILtIFuLEY%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX1%2B3MJSeV1f7oHZwtV0yoKDLaJhiGtE8gWe2a%2B7YBR5%2BIzzCrIR1ldx3zHzuCpiycKrm8ZvbyAdpk7xyQpiLsCpvxYZYpvUTC17KvTIAGMDiyRCN9uYzTsmLgBICuGc946bvr7TN4sMBy%2BIBbMv55j1q%2F3bhkK1Hg58%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FERVfhya6DPHED9AM7MdTRO7q4UT3hT67GDfzJYwdaHWTFTkAAuNcmRVwsCWWAnp19SNOZyK4oltRv5k4P7cBM1Nc7%2FlQiwgZDvuNPxkT1S4sc2MkmJXypiMtoEtKtBVezvB1%2BWlofbQ%3D%3D"]
80	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766770086671,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766770086671,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766770086672,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766770086675,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766770086675,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766770086677,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766770086679,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14249,"quota_tokens":50000,"tokens_remaining":35751},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14249","50000","35751","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19OCF2pwGAF9%2F1pnZFbf%2FU9bjx8bVtFQuoB8uuJ4NZsPcztnq86wTJ%2BQifiUh5ZvOQcOj%2FH3NsgdQ%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX18wdSl%2BbR3A%2BBVvQhbd%2Ft6PfsfHxsKEBaccdHn1PqgznQhdlXcvXpMucO9JmugdZAZPzPIfhheQNJAG2z4HadQI5CAOk4n%2BuIssh%2B059iyHUcXJeKi1D58q%2BCEliIFzvdt2thhgEtEAPvHTYsMEoJxnCpILtIFuLEY%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX1%2B3MJSeV1f7oHZwtV0yoKDLaJhiGtE8gWe2a%2B7YBR5%2BIzzCrIR1ldx3zHzuCpiycKrm8ZvbyAdpk7xyQpiLsCpvxYZYpvUTC17KvTIAGMDiyRCN9uYzTsmLgBICuGc946bvr7TN4sMBy%2BIBbMv55j1q%2F3bhkK1Hg58%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FERVfhya6DPHED9AM7MdTRO7q4UT3hT67GDfzJYwdaHWTFTkAAuNcmRVwsCWWAnp19SNOZyK4oltRv5k4P7cBM1Nc7%2FlQiwgZDvuNPxkT1S4sc2MkmJXypiMtoEtKtBVezvB1%2BWlofbQ%3D%3D","W/\\"52-49lDe/j8Ze453oj3wcYlm3SsTGE\\""]
79	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766770086644,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766770086644,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766770086644,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766770086647,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766770086647,"executionIndex":3,"source":"35","hints":"36","executionTime":38,"executionStatus":"27","data":"37"},{"startTime":1766770086685,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766770086687,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76"],"Get Conversations",["77"],"Format Response",["78"],{"json":"79","pairedItem":"80"},{"json":"81","pairedItem":"82"},{"json":"81","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"85"},{"json":"87","pairedItem":"85"},{"json":"88"},{"json":"88","pairedItem":"89"},{"headers":"90","params":"91","query":"92","body":"93","webhookUrl":"94","executionMode":"95"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"96","title":"97","updated_at":"98","message_count":10},{"item":0},{"conversation_id":"99","title":"100","updated_at":"101","message_count":6},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14},{"success":true,"conversations":"105"},{"item":0},{"host":"106","x-real-ip":"107","x-forwarded-for":"107","x-forwarded-proto":"108","connection":"109","sec-ch-ua-platform":"110","authorization":"111","user-agent":"112","accept":"113","sec-ch-ua":"114","dnt":"115","sec-ch-ua-mobile":"116","sec-fetch-site":"117","sec-fetch-mode":"118","sec-fetch-dest":"119","referer":"120","accept-encoding":"121","accept-language":"122","cookie":"123","sec-gpc":"115"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:16:38Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:14:33Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["124","125","126"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19OCF2pwGAF9%2F1pnZFbf%2FU9bjx8bVtFQuoB8uuJ4NZsPcztnq86wTJ%2BQifiUh5ZvOQcOj%2FH3NsgdQ%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX18wdSl%2BbR3A%2BBVvQhbd%2Ft6PfsfHxsKEBaccdHn1PqgznQhdlXcvXpMucO9JmugdZAZPzPIfhheQNJAG2z4HadQI5CAOk4n%2BuIssh%2B059iyHUcXJeKi1D58q%2BCEliIFzvdt2thhgEtEAPvHTYsMEoJxnCpILtIFuLEY%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX1%2B3MJSeV1f7oHZwtV0yoKDLaJhiGtE8gWe2a%2B7YBR5%2BIzzCrIR1ldx3zHzuCpiycKrm8ZvbyAdpk7xyQpiLsCpvxYZYpvUTC17KvTIAGMDiyRCN9uYzTsmLgBICuGc946bvr7TN4sMBy%2BIBbMv55j1q%2F3bhkK1Hg58%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FERVfhya6DPHED9AM7MdTRO7q4UT3hT67GDfzJYwdaHWTFTkAAuNcmRVwsCWWAnp19SNOZyK4oltRv5k4P7cBM1Nc7%2FlQiwgZDvuNPxkT1S4sc2MkmJXypiMtoEtKtBVezvB1%2BWlofbQ%3D%3D",{"conversation_id":"96","title":"97","updated_at":"98","message_count":10},{"conversation_id":"99","title":"100","updated_at":"101","message_count":6},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14}]
81	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766770086707,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766770086707,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766770086707,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766770086710,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766770086711,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766770086713,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766770086715,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76"],"Get Conversations",["77"],"Format Response",["78"],{"json":"79","pairedItem":"80"},{"json":"81","pairedItem":"82"},{"json":"81","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"85"},{"json":"87","pairedItem":"85"},{"json":"88"},{"json":"88","pairedItem":"89"},{"headers":"90","params":"91","query":"92","body":"93","webhookUrl":"94","executionMode":"95"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"96","title":"97","updated_at":"98","message_count":10},{"item":0},{"conversation_id":"99","title":"100","updated_at":"101","message_count":6},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14},{"success":true,"conversations":"105"},{"item":0},{"host":"106","x-real-ip":"107","x-forwarded-for":"107","x-forwarded-proto":"108","connection":"109","sec-ch-ua-platform":"110","authorization":"111","user-agent":"112","accept":"113","sec-ch-ua":"114","dnt":"115","sec-ch-ua-mobile":"116","sec-fetch-site":"117","sec-fetch-mode":"118","sec-fetch-dest":"119","referer":"120","accept-encoding":"121","accept-language":"122","cookie":"123","sec-gpc":"115","if-none-match":"124"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:16:38Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:14:33Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["125","126","127"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19OCF2pwGAF9%2F1pnZFbf%2FU9bjx8bVtFQuoB8uuJ4NZsPcztnq86wTJ%2BQifiUh5ZvOQcOj%2FH3NsgdQ%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX18wdSl%2BbR3A%2BBVvQhbd%2Ft6PfsfHxsKEBaccdHn1PqgznQhdlXcvXpMucO9JmugdZAZPzPIfhheQNJAG2z4HadQI5CAOk4n%2BuIssh%2B059iyHUcXJeKi1D58q%2BCEliIFzvdt2thhgEtEAPvHTYsMEoJxnCpILtIFuLEY%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX1%2B3MJSeV1f7oHZwtV0yoKDLaJhiGtE8gWe2a%2B7YBR5%2BIzzCrIR1ldx3zHzuCpiycKrm8ZvbyAdpk7xyQpiLsCpvxYZYpvUTC17KvTIAGMDiyRCN9uYzTsmLgBICuGc946bvr7TN4sMBy%2BIBbMv55j1q%2F3bhkK1Hg58%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FERVfhya6DPHED9AM7MdTRO7q4UT3hT67GDfzJYwdaHWTFTkAAuNcmRVwsCWWAnp19SNOZyK4oltRv5k4P7cBM1Nc7%2FlQiwgZDvuNPxkT1S4sc2MkmJXypiMtoEtKtBVezvB1%2BWlofbQ%3D%3D","W/\\"1e4-MqKK+LhPKkKdZuMcKXFAhwJvpyg\\"",{"conversation_id":"96","title":"97","updated_at":"98","message_count":10},{"conversation_id":"99","title":"100","updated_at":"101","message_count":6},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14}]
82	{"id":"NynEDh5rxUQL7788","name":"WIBOT - Chat Main","active":true,"activeVersionId":"7924c06c-c403-4b11-a377-81bbcf664b88","isArchived":false,"createdAt":"2025-12-26T17:23:30.579Z","updatedAt":"2025-12-26T17:24:09.477Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"POST","path":"wibot/chat","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"fa8ec4be-706d-4001-ad6c-fcb0f99736af","name":"Webhook Chat","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1328,112],"webhookId":"wibot-chat"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  // Decode base64url payload\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  // Check expiration\\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ \\n    json: { \\n      valid: true, \\n      user: decoded,\\n      userId: decoded.userId,\\n      conversationId: body.conversation_id,\\n      message: body.message,\\n      sessionId: `${decoded.userId}_${body.conversation_id}`\\n    } \\n  }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"0004c18c-eca3-41dc-997e-590e7fd79356","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1104,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"bfcef1a4-73b6-486c-aab3-5977d98eb079","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-880,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"cba8bdb1-b75a-4f70-aa59-b7a0eda05fa5","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-656,352]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"c95bf25e-6737-45ac-a7bb-499bc0b7c7dc","name":"Check Quota","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-656,112],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\nlet usedTokens = 0;\\nlet quotaTokens = 50000;\\n\\nif (rows && rows.length > 0 && rows[0].json.used_tokens !== undefined) {\\n  usedTokens = parseInt(rows[0].json.used_tokens) || 0;\\n  quotaTokens = parseInt(rows[0].json.quota_tokens) || 50000;\\n}\\n\\nconst quotaExceeded = usedTokens >= quotaTokens;\\n\\nreturn [{\\n  json: {\\n    ...jwtData,\\n    usedTokens,\\n    quotaTokens,\\n    quotaExceeded\\n  }\\n}];","notice":""},"id":"4a1c034d-d824-4eec-8f7d-30e703f1deb5","name":"Prepare Quota","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-quota-ok","leftValue":"={{ $json.quotaExceeded }}","rightValue":false,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"19cfec26-6daa-4bf5-a4dd-9c46bc7e775a","name":"Quota OK?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Quota tokens mensuel depass\\\\u00e9. Limite : 50,000 tokens/mois.\\",\\n  \\"code\\": \\"QUOTA_EXCEEDED\\"\\n}","options":{"responseCode":429,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"664cd109-b947-42ee-b8c1-42b595e37b31","name":"Quota Exceeded","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"aiAgentStarterCallout":"","preBuiltAgentsCallout":"","agent":"toolsAgent","promptType":"define","text":"={{ $json.message }}","hasOutputParser":false,"options":{"systemMessage":"Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel"},"credentials":""},"id":"9e04ca0c-5683-4a62-828d-5c057cf62605","name":"AI Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[0,0]},{"parameters":{"notice":"","model":"mistral-small-latest","options":{"maxTokens":2048,"temperature":0.7}},"id":"1668e2c3-0095-4fbb-877e-e60722e8d24b","name":"Mistral Cloud Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatMistralCloud","typeVersion":1,"position":[-208,304],"credentials":{"mistralCloudApi":{"id":"b9hl3JA2taufCYVr","name":"Mistral API"}}},{"parameters":{"notice":"","sessionIdType":"customKey","sessionKey":"={{ $('Verify JWT').first().json.sessionId }}","tableName":"n8n_chat_histories","contextWindowLength":10},"id":"cffc5919-5412-4308-9671-843b8d2d035f","name":"Postgres Chat Memory","type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[0,304],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const agentResponse = $input.first().json.output;\\nconst jwtData = $('Prepare Quota').first().json;\\n\\n// Estimation tokens (environ 4 chars par token)\\nconst messageTokens = Math.ceil(jwtData.message.length / 4);\\nconst responseTokens = Math.ceil(agentResponse.length / 4);\\nconst tokensUsed = messageTokens + responseTokens;\\n\\nconst newUsedTokens = jwtData.usedTokens + tokensUsed;\\nconst tokensRemaining = jwtData.quotaTokens - newUsedTokens;\\n\\nreturn [{\\n  json: {\\n    userId: jwtData.userId,\\n    conversationId: jwtData.conversationId,\\n    message: jwtData.message,\\n    response: agentResponse,\\n    tokensUsed,\\n    newUsedTokens,\\n    tokensRemaining: Math.max(0, tokensRemaining),\\n    quotaTokens: jwtData.quotaTokens\\n  }\\n}];","notice":""},"id":"b2c9d072-5736-4839-9f3f-8c63b5fe8801","name":"Prepare Save","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO conversations (conversation_id, user_id, title, created_at, updated_at)\\nVALUES (\\n  '{{ $json.conversationId }}'::uuid,\\n  {{ $json.userId }},\\n  '{{ $json.message.substring(0, 50).replace(/'/g, \\"''\\") }}',\\n  NOW(),\\n  NOW()\\n)\\nON CONFLICT (conversation_id)\\nDO UPDATE SET updated_at = NOW();","options":{}},"id":"6c1ace5b-ec88-44b5-a9b5-182a4957e5c9","name":"UPSERT Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[448,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'user',\\n  '{{ $('Prepare Save').first().json.message.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.message.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"19bf528f-0b9d-44d5-b768-58e63ddee026","name":"INSERT User Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[672,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'assistant',\\n  '{{ $('Prepare Save').first().json.response.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.response.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"22a33991-a55c-428d-b673-3b0eef3b8a1a","name":"INSERT Assistant Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[880,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO user_token_usage (user_id, month, used_tokens, quota_tokens)\\nVALUES (\\n  {{ $('Prepare Save').first().json.userId }},\\n  DATE_TRUNC('month', CURRENT_DATE),\\n  {{ $('Prepare Save').first().json.tokensUsed }},\\n  50000\\n)\\nON CONFLICT (user_id, month)\\nDO UPDATE SET used_tokens = user_token_usage.used_tokens + {{ $('Prepare Save').first().json.tokensUsed }};","options":{}},"id":"344a1edc-fdf7-4ba0-a506-10b00624a0ac","name":"UPDATE Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[1104,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const data = $('Prepare Save').first().json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    response: data.response,\\n    tokens_used: data.tokensUsed,\\n    tokens_remaining: data.tokensRemaining,\\n    conversation_id: data.conversationId\\n  }\\n}];","notice":""},"id":"d3257586-4db1-4ccf-8b88-2ec7203c06ee","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1328,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"bfca5f39-23d9-494d-9b4e-767225255749","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1552,0]}],"connections":{"Webhook Chat":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Check Quota","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Check Quota":{"main":[[{"node":"Prepare Quota","type":"main","index":0}]]},"Prepare Quota":{"main":[[{"node":"Quota OK?","type":"main","index":0}]]},"Quota OK?":{"main":[[{"node":"AI Agent","type":"main","index":0}],[{"node":"Quota Exceeded","type":"main","index":0}]]},"Mistral Cloud Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Postgres Chat Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"AI Agent":{"main":[[{"node":"Prepare Save","type":"main","index":0}]]},"Prepare Save":{"main":[[{"node":"UPSERT Conversation","type":"main","index":0}]]},"UPSERT Conversation":{"main":[[{"node":"INSERT User Message","type":"main","index":0}]]},"INSERT User Message":{"main":[[{"node":"INSERT Assistant Message","type":"main","index":0}]]},"INSERT Assistant Message":{"main":[[{"node":"UPDATE Token Usage","type":"main","index":0}]]},"UPDATE Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook Chat":"12","Verify JWT":"13","JWT Valid?":"14","Check Quota":"15","Prepare Quota":"16","Quota OK?":"17","Postgres Chat Memory":"18","Mistral Cloud Chat Model":"19","AI Agent":"20","Prepare Save":"21","UPSERT Conversation":"22","INSERT User Message":"23","INSERT Assistant Message":"24","UPDATE Token Usage":"25","Format Response":"26","Success":"27"},"Success",{},[],{"Postgres Chat Memory":"28","Mistral Cloud Chat Model":"29"},{},{},{"version":1,"establishedAt":1766770093182,"source":"30"},["31"],["32"],["33"],["34"],["35"],["36"],["37","38"],["39"],["40"],["41"],["42"],["43"],["44"],["45"],["46"],["47"],["48","49"],["50"],"webhook",{"startTime":1766770093182,"executionIndex":0,"source":"51","hints":"52","executionTime":1,"executionStatus":"53","data":"54"},{"startTime":1766770093183,"executionIndex":1,"source":"55","hints":"56","executionTime":2,"executionStatus":"53","data":"57"},{"startTime":1766770093185,"executionIndex":2,"source":"58","hints":"59","executionTime":1,"executionStatus":"53","data":"60"},{"startTime":1766770093186,"executionIndex":3,"source":"61","hints":"62","executionTime":1,"executionStatus":"53","data":"63"},{"startTime":1766770093188,"executionIndex":4,"source":"64","hints":"65","executionTime":1,"executionStatus":"53","data":"66"},{"startTime":1766770093190,"executionIndex":5,"source":"67","hints":"68","executionTime":0,"executionStatus":"53","data":"69"},{"startTime":1766770093193,"executionTime":6,"executionIndex":7,"executionStatus":"53","source":"70","data":"71","inputOverride":"72","metadata":"73"},{"startTime":1766770093507,"executionTime":4,"executionIndex":9,"executionStatus":"53","source":"74","data":"75","inputOverride":"76","metadata":"77"},{"startTime":1766770093209,"executionTime":297,"executionIndex":8,"executionStatus":"53","source":"78","data":"79","inputOverride":"80","metadata":"81"},{"startTime":1766770093190,"executionIndex":6,"source":"82","hints":"83","executionTime":321,"executionStatus":"53","data":"84"},{"startTime":1766770093512,"executionIndex":10,"source":"85","hints":"86","executionTime":2,"executionStatus":"53","data":"87"},{"startTime":1766770093514,"executionIndex":11,"source":"88","hints":"89","executionTime":4,"executionStatus":"53","data":"90"},{"startTime":1766770093518,"executionIndex":12,"source":"91","hints":"92","executionTime":3,"executionStatus":"53","data":"93"},{"startTime":1766770093522,"executionIndex":13,"source":"94","hints":"95","executionTime":2,"executionStatus":"53","data":"96"},{"startTime":1766770093525,"executionIndex":14,"source":"97","hints":"98","executionTime":3,"executionStatus":"53","data":"99"},{"startTime":1766770093528,"executionIndex":15,"source":"100","hints":"101","executionTime":2,"executionStatus":"53","data":"102"},{"startTime":1766770093530,"executionIndex":16,"source":"103","hints":"104","executionTime":1,"executionStatus":"53","data":"105"},{"subRun":"106"},{"subRun":"107"},{"subRun":"108"},[],[],"success",{"main":"109"},["110"],["111"],{"main":"112"},["113"],[],{"main":"114"},["115"],[],{"main":"116"},["117"],["118"],{"main":"119"},["120"],[],{"main":"121"},["122"],{"ai_memory":"123"},{"ai_memory":"124"},{"subRun":"106"},["125"],{"ai_memory":"126"},{"ai_memory":"127"},{"subRun":"107"},["128"],{"ai_languageModel":"129"},{"ai_languageModel":"130"},{"subRun":"108"},["131"],[],{"main":"132"},["133"],["134"],{"main":"135"},["136"],[],{"main":"137"},["138"],[],{"main":"139"},["140"],[],{"main":"141"},["142"],[],{"main":"143"},["144"],["145"],{"main":"146"},["147"],[],{"main":"148"},["149"],["150"],["151"],["152"],{"previousNode":"153"},{"message":"154","location":"155"},["156"],{"previousNode":"157"},["158","159"],{"previousNode":"160"},["161"],{"previousNode":"162"},{"message":"154","location":"155"},["163"],{"previousNode":"164"},["165","166"],{"previousNode":"167","previousNodeRun":0},["168"],["169"],{"previousNode":"167","previousNodeRun":0},["170"],["171"],{"previousNode":"167","previousNodeRun":0},["172"],["173"],{"previousNode":"174"},["175"],{"previousNode":"167"},{"message":"154","location":"155"},["176"],{"previousNode":"177"},["178"],{"previousNode":"179"},["180"],{"previousNode":"181"},["182"],{"previousNode":"183"},["184"],{"previousNode":"185"},{"message":"154","location":"155"},["186"],{"previousNode":"187"},["188"],{"node":"189","runIndex":0},{"node":"189","runIndex":1},{"node":"190","runIndex":0},["191"],"Webhook Chat","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["192"],"Verify JWT",["193"],[],"JWT Valid?",["194"],"Check Quota",["195"],"Prepare Quota",["196"],[],"AI Agent",["197"],["198"],["199"],["200"],["201"],["202"],"Quota OK?",["203"],["204"],"Prepare Save",["205"],"UPSERT Conversation",["206"],"INSERT User Message",["207"],"INSERT Assistant Message",["208"],"UPDATE Token Usage",["209"],"Format Response",["210"],"Postgres Chat Memory","Mistral Cloud Chat Model",{"json":"211","pairedItem":"212"},{"json":"213","pairedItem":"214"},{"json":"213","pairedItem":"215"},{"json":"216","pairedItem":"217"},{"json":"218","pairedItem":"219"},{"json":"218","pairedItem":"220"},{"json":"221"},{"json":"222"},{"json":"223"},{"json":"224"},{"json":"225"},{"json":"226"},{"json":"227","pairedItem":"228"},{"json":"229","pairedItem":"230"},{"json":"231","pairedItem":"232"},{"json":"233","pairedItem":"234"},{"json":"235","pairedItem":"236"},{"json":"237","pairedItem":"238"},{"json":"239","pairedItem":"240"},{"json":"239","pairedItem":"241"},{"headers":"242","params":"243","query":"244","body":"245","webhookUrl":"246","executionMode":"247"},{"item":0},{"valid":true,"user":"248","userId":1,"conversationId":"249","message":"250","sessionId":"251"},{"item":0},{"item":0},{"used_tokens":"252","quota_tokens":"253"},{"item":0},{"valid":true,"user":"254","userId":1,"conversationId":"249","message":"250","sessionId":"251","usedTokens":14249,"quotaTokens":50000,"quotaExceeded":false},{"item":0},{"item":0},{"action":"255","chatHistory":"256"},{"action":"255","values":"257"},{"action":"258","chatHistory":"259"},{"action":"258","input":"260","output":"261"},{"response":"262","tokenUsage":"263"},{"messages":"264","estimatedTokens":176,"options":"265"},{"output":"266"},{"item":0},{"userId":1,"conversationId":"249","message":"250","response":"266","tokensUsed":14,"newUsedTokens":14263,"tokensRemaining":35737,"quotaTokens":50000},{"item":0},{"success":true},["267"],{"success":true},["268"],{"success":true},["269"],{"success":true},["270"],{"success":true,"response":"266","tokens_used":14,"tokens_remaining":35737,"conversation_id":"249"},{"item":0},{"item":0},{"host":"271","x-real-ip":"272","x-forwarded-for":"272","x-forwarded-proto":"273","connection":"274","content-length":"275","sec-ch-ua-platform":"276","authorization":"277","sec-ch-ua":"278","sec-ch-ua-mobile":"279","user-agent":"280","accept":"281","dnt":"282","content-type":"283","origin":"284","sec-fetch-site":"285","sec-fetch-mode":"286","sec-fetch-dest":"287","referer":"288","accept-encoding":"289","accept-language":"290","cookie":"291","sec-gpc":"282"},{},{},{"conversation_id":"249","message":"250"},"http://localhost:5678/webhook/wibot/chat","production",{"userId":1,"username":"292","role":"293","iat":1766770086,"exp":1766856486},"550e8400-e29b-41d4-a716-446655440000","hey","1_550e8400-e29b-41d4-a716-446655440000","14249","50000",{"userId":1,"username":"292","role":"293","iat":1766770086,"exp":1766856486},"loadMemoryVariables",["294","295","296","297"],{"input":"250","system_message":"298","formatting_instructions":"299"},"saveContext",["300","301","302","303","304","305"],{"input":"250","system_message":"298","formatting_instructions":"299"},{"input":"250","system_message":"298","formatting_instructions":"299","chat_history":"256","output":"266"},{"generations":"306"},{"completionTokens":12,"promptTokens":179,"totalTokens":191},["307"],{"mistral_api_key":"308","model":"309","max_tokens":2048,"temperature":0.7,"metadata":"310"},"Bonjour ! Comment puis-je vous aider aujourd'hui ?",{"item":0},{"item":0},{"item":0},{"item":0},"localhost","172.20.0.1","http","close","74","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","?0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","1","application/json","http://localhost:5173","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19OCF2pwGAF9%2F1pnZFbf%2FU9bjx8bVtFQuoB8uuJ4NZsPcztnq86wTJ%2BQifiUh5ZvOQcOj%2FH3NsgdQ%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX18wdSl%2BbR3A%2BBVvQhbd%2Ft6PfsfHxsKEBaccdHn1PqgznQhdlXcvXpMucO9JmugdZAZPzPIfhheQNJAG2z4HadQI5CAOk4n%2BuIssh%2B059iyHUcXJeKi1D58q%2BCEliIFzvdt2thhgEtEAPvHTYsMEoJxnCpILtIFuLEY%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX1%2B3MJSeV1f7oHZwtV0yoKDLaJhiGtE8gWe2a%2B7YBR5%2BIzzCrIR1ldx3zHzuCpiycKrm8ZvbyAdpk7xyQpiLsCpvxYZYpvUTC17KvTIAGMDiyRCN9uYzTsmLgBICuGc946bvr7TN4sMBy%2BIBbMv55j1q%2F3bhkK1Hg58%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2FERVfhya6DPHED9AM7MdTRO7q4UT3hT67GDfzJYwdaHWTFTkAAuNcmRVwsCWWAnp19SNOZyK4oltRv5k4P7cBM1Nc7%2FlQiwgZDvuNPxkT1S4sc2MkmJXypiMtoEtKtBVezvB1%2BWlofbQ%3D%3D","khora","admin",{"lc":1,"type":"311","id":"312","kwargs":"313"},{"lc":1,"type":"311","id":"314","kwargs":"315"},{"lc":1,"type":"311","id":"316","kwargs":"317"},{"lc":1,"type":"311","id":"318","kwargs":"319"},"Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel","IMPORTANT: For your response to user, you MUST use the `format_final_json_response` tool with your complete answer formatted according to the required schema. Do not attempt to format the JSON manually - always use this tool. Your response will be rejected if it is not properly formatted through this tool. Only use this tool once you are ready to provide your final answer.",{"lc":1,"type":"311","id":"320","kwargs":"321"},{"lc":1,"type":"311","id":"322","kwargs":"323"},{"lc":1,"type":"311","id":"324","kwargs":"325"},{"lc":1,"type":"311","id":"326","kwargs":"327"},{"lc":1,"type":"311","id":"328","kwargs":"329"},{"lc":1,"type":"311","id":"330","kwargs":"331"},["332"],"System: Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel\\nHuman: salut\\nAI: Salut ! Comment puis-je vous aider aujourd'hui ?\\nHuman: ddadzax\\nAI: Bonjour ! Je ne suis pas sr de comprendre votre demande. Pourriez-vous prciser ou reformuler votre question ? Je suis l pour vous aider avec les questions techniques ou toute autre demande lie  WIDIP.\\nHuman: hey",{"lc":1,"type":"333","id":"334"},"mistral-small-latest",{},"constructor",["335","336","337"],{"content":"338","additional_kwargs":"339","response_metadata":"340"},["335","336","341"],{"content":"342","tool_calls":"343","additional_kwargs":"344","response_metadata":"345","invalid_tool_calls":"346"},["335","336","337"],{"content":"347","additional_kwargs":"348","response_metadata":"349"},["335","336","341"],{"content":"350","tool_calls":"351","additional_kwargs":"352","response_metadata":"353","invalid_tool_calls":"354"},["335","336","337"],{"content":"338","additional_kwargs":"355","response_metadata":"356"},["335","336","341"],{"content":"342","tool_calls":"357","additional_kwargs":"358","response_metadata":"359","invalid_tool_calls":"360"},["335","336","337"],{"content":"347","additional_kwargs":"361","response_metadata":"362"},["335","336","341"],{"content":"350","tool_calls":"363","additional_kwargs":"364","response_metadata":"365","invalid_tool_calls":"366"},["335","336","337"],{"content":"250","additional_kwargs":"367","response_metadata":"368"},["335","336","341"],{"content":"266","tool_calls":"369","additional_kwargs":"370","response_metadata":"371","invalid_tool_calls":"372"},["373"],"secret",["374"],"langchain_core","messages","HumanMessage","salut",{},{},"AIMessage","Salut ! Comment puis-je vous aider aujourd'hui ?",[],{},{},[],"ddadzax",{},{},"Bonjour ! Je ne suis pas sr de comprendre votre demande. Pourriez-vous prciser ou reformuler votre question ? Je suis l pour vous aider avec les questions techniques ou toute autre demande lie  WIDIP.",[],{},{},[],{},{},[],{},{},[],{},{},[],{},{},[],{},{},[],{},{},[],{"text":"266","generationInfo":"375"},"MISTRAL_API_KEY",{"prompt":0,"completion":0}]
83	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766770198306,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766770198306,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766770198306,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766770198309,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766770198309,"executionIndex":3,"source":"35","hints":"36","executionTime":8,"executionStatus":"27","data":"37"},{"startTime":1766770198317,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766770198320,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76"],"Get Conversations",["77"],"Format Response",["78"],{"json":"79","pairedItem":"80"},{"json":"81","pairedItem":"82"},{"json":"81","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"85"},{"json":"87","pairedItem":"85"},{"json":"88"},{"json":"88","pairedItem":"89"},{"headers":"90","params":"91","query":"92","body":"93","webhookUrl":"94","executionMode":"95"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"96","title":"97","updated_at":"98","message_count":12},{"item":0},{"conversation_id":"99","title":"100","updated_at":"101","message_count":6},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14},{"success":true,"conversations":"105"},{"item":0},{"host":"106","x-real-ip":"107","x-forwarded-for":"107","x-forwarded-proto":"108","connection":"109","user-agent":"110","accept":"111","authorization":"112","content-type":"113"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:14:33Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["114","115","116"],"localhost","172.20.0.1","http","close","curl/8.12.1","*/*","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3Njk5NTgsImV4cCI6MTc2Njg1NjM1OH0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","application/json",{"conversation_id":"96","title":"97","updated_at":"98","message_count":12},{"conversation_id":"99","title":"100","updated_at":"101","message_count":6},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14}]
84	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766770214384,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766770214384,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766770214384,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766770214386,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766770214387,"executionIndex":3,"source":"35","hints":"36","executionTime":6,"executionStatus":"27","data":"37"},{"startTime":1766770214393,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766770214395,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14263,"quota_tokens":50000,"tokens_remaining":35737},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","user-agent":"100","accept":"101","authorization":"102","content-type":"103"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14263","50000","35737","localhost","172.20.0.1","http","close","curl/8.12.1","*/*","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3Njk5NTgsImV4cCI6MTc2Njg1NjM1OH0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","application/json"]
85	{"id":"NynEDh5rxUQL7788","name":"WIBOT - Chat Main","active":true,"activeVersionId":"7924c06c-c403-4b11-a377-81bbcf664b88","isArchived":false,"createdAt":"2025-12-26T17:23:30.579Z","updatedAt":"2025-12-26T17:24:09.477Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"POST","path":"wibot/chat","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"fa8ec4be-706d-4001-ad6c-fcb0f99736af","name":"Webhook Chat","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1328,112],"webhookId":"wibot-chat"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  // Decode base64url payload\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  // Check expiration\\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ \\n    json: { \\n      valid: true, \\n      user: decoded,\\n      userId: decoded.userId,\\n      conversationId: body.conversation_id,\\n      message: body.message,\\n      sessionId: `${decoded.userId}_${body.conversation_id}`\\n    } \\n  }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"0004c18c-eca3-41dc-997e-590e7fd79356","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1104,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"bfcef1a4-73b6-486c-aab3-5977d98eb079","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-880,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"cba8bdb1-b75a-4f70-aa59-b7a0eda05fa5","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-656,352]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"c95bf25e-6737-45ac-a7bb-499bc0b7c7dc","name":"Check Quota","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-656,112],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\nlet usedTokens = 0;\\nlet quotaTokens = 50000;\\n\\nif (rows && rows.length > 0 && rows[0].json.used_tokens !== undefined) {\\n  usedTokens = parseInt(rows[0].json.used_tokens) || 0;\\n  quotaTokens = parseInt(rows[0].json.quota_tokens) || 50000;\\n}\\n\\nconst quotaExceeded = usedTokens >= quotaTokens;\\n\\nreturn [{\\n  json: {\\n    ...jwtData,\\n    usedTokens,\\n    quotaTokens,\\n    quotaExceeded\\n  }\\n}];","notice":""},"id":"4a1c034d-d824-4eec-8f7d-30e703f1deb5","name":"Prepare Quota","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-quota-ok","leftValue":"={{ $json.quotaExceeded }}","rightValue":false,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"19cfec26-6daa-4bf5-a4dd-9c46bc7e775a","name":"Quota OK?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Quota tokens mensuel depass\\\\u00e9. Limite : 50,000 tokens/mois.\\",\\n  \\"code\\": \\"QUOTA_EXCEEDED\\"\\n}","options":{"responseCode":429,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"664cd109-b947-42ee-b8c1-42b595e37b31","name":"Quota Exceeded","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"aiAgentStarterCallout":"","preBuiltAgentsCallout":"","agent":"toolsAgent","promptType":"define","text":"={{ $json.message }}","hasOutputParser":false,"options":{"systemMessage":"Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel"},"credentials":""},"id":"9e04ca0c-5683-4a62-828d-5c057cf62605","name":"AI Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[0,0]},{"parameters":{"notice":"","model":"mistral-small-latest","options":{"maxTokens":2048,"temperature":0.7}},"id":"1668e2c3-0095-4fbb-877e-e60722e8d24b","name":"Mistral Cloud Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatMistralCloud","typeVersion":1,"position":[-208,304],"credentials":{"mistralCloudApi":{"id":"b9hl3JA2taufCYVr","name":"Mistral API"}}},{"parameters":{"notice":"","sessionIdType":"customKey","sessionKey":"={{ $('Verify JWT').first().json.sessionId }}","tableName":"n8n_chat_histories","contextWindowLength":10},"id":"cffc5919-5412-4308-9671-843b8d2d035f","name":"Postgres Chat Memory","type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[0,304],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const agentResponse = $input.first().json.output;\\nconst jwtData = $('Prepare Quota').first().json;\\n\\n// Estimation tokens (environ 4 chars par token)\\nconst messageTokens = Math.ceil(jwtData.message.length / 4);\\nconst responseTokens = Math.ceil(agentResponse.length / 4);\\nconst tokensUsed = messageTokens + responseTokens;\\n\\nconst newUsedTokens = jwtData.usedTokens + tokensUsed;\\nconst tokensRemaining = jwtData.quotaTokens - newUsedTokens;\\n\\nreturn [{\\n  json: {\\n    userId: jwtData.userId,\\n    conversationId: jwtData.conversationId,\\n    message: jwtData.message,\\n    response: agentResponse,\\n    tokensUsed,\\n    newUsedTokens,\\n    tokensRemaining: Math.max(0, tokensRemaining),\\n    quotaTokens: jwtData.quotaTokens\\n  }\\n}];","notice":""},"id":"b2c9d072-5736-4839-9f3f-8c63b5fe8801","name":"Prepare Save","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO conversations (conversation_id, user_id, title, created_at, updated_at)\\nVALUES (\\n  '{{ $json.conversationId }}'::uuid,\\n  {{ $json.userId }},\\n  '{{ $json.message.substring(0, 50).replace(/'/g, \\"''\\") }}',\\n  NOW(),\\n  NOW()\\n)\\nON CONFLICT (conversation_id)\\nDO UPDATE SET updated_at = NOW();","options":{}},"id":"6c1ace5b-ec88-44b5-a9b5-182a4957e5c9","name":"UPSERT Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[448,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'user',\\n  '{{ $('Prepare Save').first().json.message.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.message.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"19bf528f-0b9d-44d5-b768-58e63ddee026","name":"INSERT User Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[672,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'assistant',\\n  '{{ $('Prepare Save').first().json.response.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.response.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"22a33991-a55c-428d-b673-3b0eef3b8a1a","name":"INSERT Assistant Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[880,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO user_token_usage (user_id, month, used_tokens, quota_tokens)\\nVALUES (\\n  {{ $('Prepare Save').first().json.userId }},\\n  DATE_TRUNC('month', CURRENT_DATE),\\n  {{ $('Prepare Save').first().json.tokensUsed }},\\n  50000\\n)\\nON CONFLICT (user_id, month)\\nDO UPDATE SET used_tokens = user_token_usage.used_tokens + {{ $('Prepare Save').first().json.tokensUsed }};","options":{}},"id":"344a1edc-fdf7-4ba0-a506-10b00624a0ac","name":"UPDATE Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[1104,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const data = $('Prepare Save').first().json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    response: data.response,\\n    tokens_used: data.tokensUsed,\\n    tokens_remaining: data.tokensRemaining,\\n    conversation_id: data.conversationId\\n  }\\n}];","notice":""},"id":"d3257586-4db1-4ccf-8b88-2ec7203c06ee","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1328,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"bfca5f39-23d9-494d-9b4e-767225255749","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1552,0]}],"connections":{"Webhook Chat":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Check Quota","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Check Quota":{"main":[[{"node":"Prepare Quota","type":"main","index":0}]]},"Prepare Quota":{"main":[[{"node":"Quota OK?","type":"main","index":0}]]},"Quota OK?":{"main":[[{"node":"AI Agent","type":"main","index":0}],[{"node":"Quota Exceeded","type":"main","index":0}]]},"Mistral Cloud Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Postgres Chat Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"AI Agent":{"main":[[{"node":"Prepare Save","type":"main","index":0}]]},"Prepare Save":{"main":[[{"node":"UPSERT Conversation","type":"main","index":0}]]},"UPSERT Conversation":{"main":[[{"node":"INSERT User Message","type":"main","index":0}]]},"INSERT User Message":{"main":[[{"node":"INSERT Assistant Message","type":"main","index":0}]]},"INSERT Assistant Message":{"main":[[{"node":"UPDATE Token Usage","type":"main","index":0}]]},"UPDATE Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook Chat":"12","Verify JWT":"13","JWT Valid?":"14","Check Quota":"15","Prepare Quota":"16","Quota OK?":"17","Postgres Chat Memory":"18","Mistral Cloud Chat Model":"19","AI Agent":"20","Prepare Save":"21","UPSERT Conversation":"22","INSERT User Message":"23","INSERT Assistant Message":"24","UPDATE Token Usage":"25","Format Response":"26","Success":"27"},"Success",{},[],{"Postgres Chat Memory":"28","Mistral Cloud Chat Model":"29"},{},{},{"version":1,"establishedAt":1766770452979,"source":"30"},["31"],["32"],["33"],["34"],["35"],["36"],["37","38"],["39"],["40"],["41"],["42"],["43"],["44"],["45"],["46"],["47"],["48","49"],["50"],"webhook",{"startTime":1766770452979,"executionIndex":0,"source":"51","hints":"52","executionTime":0,"executionStatus":"53","data":"54"},{"startTime":1766770452979,"executionIndex":1,"source":"55","hints":"56","executionTime":3,"executionStatus":"53","data":"57"},{"startTime":1766770452983,"executionIndex":2,"source":"58","hints":"59","executionTime":0,"executionStatus":"53","data":"60"},{"startTime":1766770452983,"executionIndex":3,"source":"61","hints":"62","executionTime":6,"executionStatus":"53","data":"63"},{"startTime":1766770452990,"executionIndex":4,"source":"64","hints":"65","executionTime":3,"executionStatus":"53","data":"66"},{"startTime":1766770452993,"executionIndex":5,"source":"67","hints":"68","executionTime":0,"executionStatus":"53","data":"69"},{"startTime":1766770452996,"executionTime":7,"executionIndex":7,"executionStatus":"53","source":"70","data":"71","inputOverride":"72","metadata":"73"},{"startTime":1766770453417,"executionTime":5,"executionIndex":9,"executionStatus":"53","source":"74","data":"75","inputOverride":"76","metadata":"77"},{"startTime":1766770453018,"executionTime":399,"executionIndex":8,"executionStatus":"53","source":"78","data":"79","inputOverride":"80","metadata":"81"},{"startTime":1766770452993,"executionIndex":6,"source":"82","hints":"83","executionTime":429,"executionStatus":"53","data":"84"},{"startTime":1766770453422,"executionIndex":10,"source":"85","hints":"86","executionTime":5,"executionStatus":"53","data":"87"},{"startTime":1766770453427,"executionIndex":11,"source":"88","hints":"89","executionTime":4,"executionStatus":"53","data":"90"},{"startTime":1766770453431,"executionIndex":12,"source":"91","hints":"92","executionTime":4,"executionStatus":"53","data":"93"},{"startTime":1766770453436,"executionIndex":13,"source":"94","hints":"95","executionTime":2,"executionStatus":"53","data":"96"},{"startTime":1766770453438,"executionIndex":14,"source":"97","hints":"98","executionTime":4,"executionStatus":"53","data":"99"},{"startTime":1766770453442,"executionIndex":15,"source":"100","hints":"101","executionTime":2,"executionStatus":"53","data":"102"},{"startTime":1766770453444,"executionIndex":16,"source":"103","hints":"104","executionTime":1,"executionStatus":"53","data":"105"},{"subRun":"106"},{"subRun":"107"},{"subRun":"108"},[],[],"success",{"main":"109"},["110"],["111"],{"main":"112"},["113"],[],{"main":"114"},["115"],[],{"main":"116"},["117"],["118"],{"main":"119"},["120"],[],{"main":"121"},["122"],{"ai_memory":"123"},{"ai_memory":"124"},{"subRun":"106"},["125"],{"ai_memory":"126"},{"ai_memory":"127"},{"subRun":"107"},["128"],{"ai_languageModel":"129"},{"ai_languageModel":"130"},{"subRun":"108"},["131"],[],{"main":"132"},["133"],["134"],{"main":"135"},["136"],[],{"main":"137"},["138"],[],{"main":"139"},["140"],[],{"main":"141"},["142"],[],{"main":"143"},["144"],["145"],{"main":"146"},["147"],[],{"main":"148"},["149"],["150"],["151"],["152"],{"previousNode":"153"},{"message":"154","location":"155"},["156"],{"previousNode":"157"},["158","159"],{"previousNode":"160"},["161"],{"previousNode":"162"},{"message":"154","location":"155"},["163"],{"previousNode":"164"},["165","166"],{"previousNode":"167","previousNodeRun":0},["168"],["169"],{"previousNode":"167","previousNodeRun":0},["170"],["171"],{"previousNode":"167","previousNodeRun":0},["172"],["173"],{"previousNode":"174"},["175"],{"previousNode":"167"},{"message":"154","location":"155"},["176"],{"previousNode":"177"},["178"],{"previousNode":"179"},["180"],{"previousNode":"181"},["182"],{"previousNode":"183"},["184"],{"previousNode":"185"},{"message":"154","location":"155"},["186"],{"previousNode":"187"},["188"],{"node":"189","runIndex":0},{"node":"189","runIndex":1},{"node":"190","runIndex":0},["191"],"Webhook Chat","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["192"],"Verify JWT",["193"],[],"JWT Valid?",["194"],"Check Quota",["195"],"Prepare Quota",["196"],[],"AI Agent",["197"],["198"],["199"],["200"],["201"],["202"],"Quota OK?",["203"],["204"],"Prepare Save",["205"],"UPSERT Conversation",["206"],"INSERT User Message",["207"],"INSERT Assistant Message",["208"],"UPDATE Token Usage",["209"],"Format Response",["210"],"Postgres Chat Memory","Mistral Cloud Chat Model",{"json":"211","pairedItem":"212"},{"json":"213","pairedItem":"214"},{"json":"213","pairedItem":"215"},{"json":"216","pairedItem":"217"},{"json":"218","pairedItem":"219"},{"json":"218","pairedItem":"220"},{"json":"221"},{"json":"222"},{"json":"223"},{"json":"224"},{"json":"225"},{"json":"226"},{"json":"227","pairedItem":"228"},{"json":"229","pairedItem":"230"},{"json":"231","pairedItem":"232"},{"json":"233","pairedItem":"234"},{"json":"235","pairedItem":"236"},{"json":"237","pairedItem":"238"},{"json":"239","pairedItem":"240"},{"json":"239","pairedItem":"241"},{"headers":"242","params":"243","query":"244","body":"245","webhookUrl":"246","executionMode":"247"},{"item":0},{"valid":true,"user":"248","userId":1,"conversationId":"249","message":"250","sessionId":"251"},{"item":0},{"item":0},{"used_tokens":"252","quota_tokens":"253"},{"item":0},{"valid":true,"user":"254","userId":1,"conversationId":"249","message":"250","sessionId":"251","usedTokens":14263,"quotaTokens":50000,"quotaExceeded":false},{"item":0},{"item":0},{"action":"255","chatHistory":"256"},{"action":"255","values":"257"},{"action":"258","chatHistory":"259"},{"action":"258","input":"260","output":"261"},{"response":"262","tokenUsage":"263"},{"messages":"264","estimatedTokens":225,"options":"265"},{"output":"266"},{"item":0},{"userId":1,"conversationId":"249","message":"250","response":"266","tokensUsed":26,"newUsedTokens":14289,"tokensRemaining":35711,"quotaTokens":50000},{"item":0},{"success":true},["267"],{"success":true},["268"],{"success":true},["269"],{"success":true},["270"],{"success":true,"response":"266","tokens_used":26,"tokens_remaining":35711,"conversation_id":"249"},{"item":0},{"item":0},{"host":"271","x-real-ip":"272","x-forwarded-for":"272","x-forwarded-proto":"273","connection":"274","content-length":"275","sec-ch-ua-platform":"276","authorization":"277","sec-ch-ua":"278","sec-ch-ua-mobile":"279","user-agent":"280","accept":"281","dnt":"282","content-type":"283","origin":"284","sec-fetch-site":"285","sec-fetch-mode":"286","sec-fetch-dest":"287","referer":"288","accept-encoding":"289","accept-language":"290","cookie":"291","sec-gpc":"282"},{},{},{"conversation_id":"249","message":"250"},"http://localhost:5678/webhook/wibot/chat","production",{"userId":1,"username":"292","role":"293","iat":1766770086,"exp":1766856486},"963eb9f1-fdcc-4cd5-918b-29fae40c17a0","dsf a va ?","1_963eb9f1-fdcc-4cd5-918b-29fae40c17a0","14263","50000",{"userId":1,"username":"292","role":"293","iat":1766770086,"exp":1766856486},"loadMemoryVariables",["294","295","296","297","298","299"],{"input":"250","system_message":"300","formatting_instructions":"301"},"saveContext",["302","303","304","305","306","307","308","309"],{"input":"250","system_message":"300","formatting_instructions":"301"},{"input":"250","system_message":"300","formatting_instructions":"301","chat_history":"256","output":"266"},{"generations":"310"},{"completionTokens":25,"promptTokens":232,"totalTokens":257},["311"],{"mistral_api_key":"312","model":"313","max_tokens":2048,"temperature":0.7,"metadata":"314"},"Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",{"item":0},{"item":0},{"item":0},{"item":0},"localhost","172.20.0.1","http","close","83","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","?0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","1","application/json","http://localhost:5173","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","khora","admin",{"lc":1,"type":"315","id":"316","kwargs":"317"},{"lc":1,"type":"315","id":"318","kwargs":"319"},{"lc":1,"type":"315","id":"320","kwargs":"321"},{"lc":1,"type":"315","id":"322","kwargs":"323"},{"lc":1,"type":"315","id":"324","kwargs":"325"},{"lc":1,"type":"315","id":"326","kwargs":"327"},"Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel","IMPORTANT: For your response to user, you MUST use the `format_final_json_response` tool with your complete answer formatted according to the required schema. Do not attempt to format the JSON manually - always use this tool. Your response will be rejected if it is not properly formatted through this tool. Only use this tool once you are ready to provide your final answer.",{"lc":1,"type":"315","id":"328","kwargs":"329"},{"lc":1,"type":"315","id":"330","kwargs":"331"},{"lc":1,"type":"315","id":"332","kwargs":"333"},{"lc":1,"type":"315","id":"334","kwargs":"335"},{"lc":1,"type":"315","id":"336","kwargs":"337"},{"lc":1,"type":"315","id":"338","kwargs":"339"},{"lc":1,"type":"315","id":"340","kwargs":"341"},{"lc":1,"type":"315","id":"342","kwargs":"343"},["344"],"System: Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel\\nHuman: quel est le chiffre important que je t'ai donn ?\\nAI: Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !\\nHuman: salut\\nAI: Salut ! Comment puis-je vous aider aujourd'hui ? \\nHuman: salut\\nAI: Bonjour ! Comment puis-je vous aider aujourd'hui ? \\nHuman: dsf a va ?",{"lc":1,"type":"345","id":"346"},"mistral-small-latest",{},"constructor",["347","348","349"],{"content":"350","additional_kwargs":"351","response_metadata":"352"},["347","348","353"],{"content":"354","tool_calls":"355","additional_kwargs":"356","response_metadata":"357","invalid_tool_calls":"358"},["347","348","349"],{"content":"359","additional_kwargs":"360","response_metadata":"361"},["347","348","353"],{"content":"362","tool_calls":"363","additional_kwargs":"364","response_metadata":"365","invalid_tool_calls":"366"},["347","348","349"],{"content":"359","additional_kwargs":"367","response_metadata":"368"},["347","348","353"],{"content":"369","tool_calls":"370","additional_kwargs":"371","response_metadata":"372","invalid_tool_calls":"373"},["347","348","349"],{"content":"350","additional_kwargs":"374","response_metadata":"375"},["347","348","353"],{"content":"354","tool_calls":"376","additional_kwargs":"377","response_metadata":"378","invalid_tool_calls":"379"},["347","348","349"],{"content":"359","additional_kwargs":"380","response_metadata":"381"},["347","348","353"],{"content":"362","tool_calls":"382","additional_kwargs":"383","response_metadata":"384","invalid_tool_calls":"385"},["347","348","349"],{"content":"359","additional_kwargs":"386","response_metadata":"387"},["347","348","353"],{"content":"369","tool_calls":"388","additional_kwargs":"389","response_metadata":"390","invalid_tool_calls":"391"},["347","348","349"],{"content":"250","additional_kwargs":"392","response_metadata":"393"},["347","348","353"],{"content":"266","tool_calls":"394","additional_kwargs":"395","response_metadata":"396","invalid_tool_calls":"397"},["398"],"secret",["399"],"langchain_core","messages","HumanMessage","quel est le chiffre important que je t'ai donn ?",{},{},"AIMessage","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !",[],{},{},[],"salut",{},{},"Salut ! Comment puis-je vous aider aujourd'hui ? ",[],{},{},[],{},{},"Bonjour ! Comment puis-je vous aider aujourd'hui ? ",[],{},{},[],{},{},[],{},{},[],{},{},[],{},{},[],{},{},[],{},{},[],{},{},[],{},{},[],{"text":"266","generationInfo":"400"},"MISTRAL_API_KEY",{"prompt":0,"completion":0}]
212	{"id":"NynEDh5rxUQL7788","name":"WIBOT - Chat Main","active":true,"activeVersionId":"0320f681-77a9-433a-8fa9-e5979502f561","isArchived":false,"createdAt":"2025-12-26T17:23:30.579Z","updatedAt":"2025-12-26T22:07:31.120Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"POST","path":"wibot/chat","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"fa8ec4be-706d-4001-ad6c-fcb0f99736af","name":"Webhook Chat","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1328,348],"webhookId":"wibot-chat"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  // Decode base64url payload\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  // Check expiration\\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ \\n    json: { \\n      valid: true, \\n      user: decoded,\\n      userId: decoded.userId,\\n      conversationId: body.conversation_id,\\n      message: body.message,\\n      sessionId: `${decoded.userId}_${body.conversation_id}`\\n    } \\n  }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"0004c18c-eca3-41dc-997e-590e7fd79356","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1104,348]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"bfcef1a4-73b6-486c-aab3-5977d98eb079","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-880,348]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"cba8bdb1-b75a-4f70-aa59-b7a0eda05fa5","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-656,444]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"c95bf25e-6737-45ac-a7bb-499bc0b7c7dc","name":"Check Quota","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-656,252],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\nlet usedTokens = 0;\\nlet quotaTokens = 50000;\\n\\nif (rows && rows.length > 0 && rows[0].json.used_tokens !== undefined) {\\n  usedTokens = parseInt(rows[0].json.used_tokens) || 0;\\n  quotaTokens = parseInt(rows[0].json.quota_tokens) || 50000;\\n}\\n\\nconst quotaExceeded = usedTokens >= quotaTokens;\\n\\nreturn [{\\n  json: {\\n    ...jwtData,\\n    usedTokens,\\n    quotaTokens,\\n    quotaExceeded\\n  }\\n}];","notice":""},"id":"4a1c034d-d824-4eec-8f7d-30e703f1deb5","name":"Prepare Quota","type":"n8n-nodes-base.code","typeVersion":2,"position":[-432,252]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-quota-ok","leftValue":"={{ $json.quotaExceeded }}","rightValue":false,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"19cfec26-6daa-4bf5-a4dd-9c46bc7e775a","name":"Quota OK?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-208,252]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Quota tokens mensuel depass\\\\u00e9. Limite : 50,000 tokens/mois.\\",\\n  \\"code\\": \\"QUOTA_EXCEEDED\\"\\n}","options":{"responseCode":429,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"664cd109-b947-42ee-b8c1-42b595e37b31","name":"Quota Exceeded","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[80,400]},{"parameters":{"aiAgentStarterCallout":"","preBuiltAgentsCallout":"","agent":"toolsAgent","promptType":"define","text":"={{ $json.message }}","hasOutputParser":false,"options":{"systemMessage":"Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel"},"credentials":""},"id":"9e04ca0c-5683-4a62-828d-5c057cf62605","name":"AI Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[16,0]},{"parameters":{"notice":"","model":"mistral-small-latest","options":{"maxTokens":2048,"temperature":0.7}},"id":"1668e2c3-0095-4fbb-877e-e60722e8d24b","name":"Mistral Cloud Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatMistralCloud","typeVersion":1,"position":[16,160],"credentials":{"mistralCloudApi":{"id":"b9hl3JA2taufCYVr","name":"Mistral API"}}},{"parameters":{"notice":"","sessionIdType":"customKey","sessionKey":"={{ $('Verify JWT').first().json.sessionId }}","tableName":"n8n_chat_histories","contextWindowLength":10},"id":"cffc5919-5412-4308-9671-843b8d2d035f","name":"Postgres Chat Memory","type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[112,224],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const agentResponse = $input.first().json.output;\\nconst jwtData = $('Prepare Quota').first().json;\\n\\n// Estimation tokens (environ 4 chars par token)\\nconst messageTokens = Math.ceil(jwtData.message.length / 4);\\nconst responseTokens = Math.ceil(agentResponse.length / 4);\\nconst tokensUsed = messageTokens + responseTokens;\\n\\nconst newUsedTokens = jwtData.usedTokens + tokensUsed;\\nconst tokensRemaining = jwtData.quotaTokens - newUsedTokens;\\n\\nreturn [{\\n  json: {\\n    userId: jwtData.userId,\\n    conversationId: jwtData.conversationId,\\n    message: jwtData.message,\\n    response: agentResponse,\\n    tokensUsed,\\n    newUsedTokens,\\n    tokensRemaining: Math.max(0, tokensRemaining),\\n    quotaTokens: jwtData.quotaTokens\\n  }\\n}];","notice":""},"id":"b2c9d072-5736-4839-9f3f-8c63b5fe8801","name":"Prepare Save","type":"n8n-nodes-base.code","typeVersion":2,"position":[368,104]},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO conversations (conversation_id, user_id, title, created_at, updated_at)\\nVALUES (\\n  '{{ $json.conversationId }}'::uuid,\\n  {{ $json.userId }},\\n  '{{ $json.message.substring(0, 50).replace(/'/g, \\"''\\") }}',\\n  NOW(),\\n  NOW()\\n)\\nON CONFLICT (conversation_id)\\nDO UPDATE SET updated_at = NOW();","options":{}},"id":"6c1ace5b-ec88-44b5-a9b5-182a4957e5c9","name":"UPSERT Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[592,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'user',\\n  '{{ $('Prepare Save').first().json.message.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.message.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"19bf528f-0b9d-44d5-b768-58e63ddee026","name":"INSERT User Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[816,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'assistant',\\n  '{{ $('Prepare Save').first().json.response.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.response.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"22a33991-a55c-428d-b673-3b0eef3b8a1a","name":"INSERT Assistant Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[1040,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO user_token_usage (user_id, month, used_tokens, quota_tokens)\\nVALUES (\\n  {{ $('Prepare Save').first().json.userId }},\\n  DATE_TRUNC('month', CURRENT_DATE),\\n  {{ $('Prepare Save').first().json.tokensUsed }},\\n  50000\\n)\\nON CONFLICT (user_id, month)\\nDO UPDATE SET used_tokens = user_token_usage.used_tokens + {{ $('Prepare Save').first().json.tokensUsed }};","options":{}},"id":"344a1edc-fdf7-4ba0-a506-10b00624a0ac","name":"UPDATE Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[1264,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const data = $('Prepare Save').first().json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    response: data.response,\\n    tokens_used: data.tokensUsed,\\n    tokens_remaining: data.tokensRemaining,\\n    conversation_id: data.conversationId\\n  }\\n}];","notice":""},"id":"d3257586-4db1-4ccf-8b88-2ec7203c06ee","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1488,104]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"bfca5f39-23d9-494d-9b4e-767225255749","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1712,104]}],"connections":{"Webhook Chat":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Check Quota","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Check Quota":{"main":[[{"node":"Prepare Quota","type":"main","index":0}]]},"Prepare Quota":{"main":[[{"node":"Quota OK?","type":"main","index":0}]]},"Quota OK?":{"main":[[{"node":"AI Agent","type":"main","index":0}],[{"node":"Quota Exceeded","type":"main","index":0}]]},"Mistral Cloud Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Postgres Chat Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"AI Agent":{"main":[[{"node":"Prepare Save","type":"main","index":0}]]},"Prepare Save":{"main":[[{"node":"UPSERT Conversation","type":"main","index":0}]]},"UPSERT Conversation":{"main":[[{"node":"INSERT User Message","type":"main","index":0}]]},"INSERT User Message":{"main":[[{"node":"INSERT Assistant Message","type":"main","index":0}]]},"INSERT Assistant Message":{"main":[[{"node":"UPDATE Token Usage","type":"main","index":0}]]},"UPDATE Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook Chat":"12","Verify JWT":"13","JWT Valid?":"14","Check Quota":"15","Prepare Quota":"16","Quota OK?":"17","Postgres Chat Memory":"18","Mistral Cloud Chat Model":"19","AI Agent":"20","Prepare Save":"21","UPSERT Conversation":"22","INSERT User Message":"23","INSERT Assistant Message":"24","UPDATE Token Usage":"25","Format Response":"26","Success":"27"},"Success",{},[],{"Postgres Chat Memory":"28","Mistral Cloud Chat Model":"29"},{},{},{"version":1,"establishedAt":1766787615889,"source":"30"},["31"],["32"],["33"],["34"],["35"],["36"],["37","38"],["39"],["40"],["41"],["42"],["43"],["44"],["45"],["46"],["47"],["48","49"],["50"],"webhook",{"startTime":1766787615889,"executionIndex":0,"source":"51","hints":"52","executionTime":0,"executionStatus":"53","data":"54"},{"startTime":1766787615889,"executionIndex":1,"source":"55","hints":"56","executionTime":5,"executionStatus":"53","data":"57"},{"startTime":1766787615894,"executionIndex":2,"source":"58","hints":"59","executionTime":1,"executionStatus":"53","data":"60"},{"startTime":1766787615895,"executionIndex":3,"source":"61","hints":"62","executionTime":9,"executionStatus":"53","data":"63"},{"startTime":1766787615904,"executionIndex":4,"source":"64","hints":"65","executionTime":2,"executionStatus":"53","data":"66"},{"startTime":1766787615906,"executionIndex":5,"source":"67","hints":"68","executionTime":1,"executionStatus":"53","data":"69"},{"startTime":1766787615911,"executionTime":6,"executionIndex":7,"executionStatus":"53","source":"70","data":"71","inputOverride":"72","metadata":"73"},{"startTime":1766787617515,"executionTime":7,"executionIndex":9,"executionStatus":"53","source":"74","data":"75","inputOverride":"76","metadata":"77"},{"startTime":1766787615929,"executionTime":1585,"executionIndex":8,"executionStatus":"53","source":"78","data":"79","inputOverride":"80","metadata":"81"},{"startTime":1766787615907,"executionIndex":6,"source":"82","hints":"83","executionTime":1615,"executionStatus":"53","data":"84"},{"startTime":1766787617522,"executionIndex":10,"source":"85","hints":"86","executionTime":3,"executionStatus":"53","data":"87"},{"startTime":1766787617525,"executionIndex":11,"source":"88","hints":"89","executionTime":5,"executionStatus":"53","data":"90"},{"startTime":1766787617530,"executionIndex":12,"source":"91","hints":"92","executionTime":4,"executionStatus":"53","data":"93"},{"startTime":1766787617534,"executionIndex":13,"source":"94","hints":"95","executionTime":3,"executionStatus":"53","data":"96"},{"startTime":1766787617537,"executionIndex":14,"source":"97","hints":"98","executionTime":4,"executionStatus":"53","data":"99"},{"startTime":1766787617541,"executionIndex":15,"source":"100","hints":"101","executionTime":1,"executionStatus":"53","data":"102"},{"startTime":1766787617543,"executionIndex":16,"source":"103","hints":"104","executionTime":0,"executionStatus":"53","data":"105"},{"subRun":"106"},{"subRun":"107"},{"subRun":"108"},[],[],"success",{"main":"109"},["110"],["111"],{"main":"112"},["113"],[],{"main":"114"},["115"],[],{"main":"116"},["117"],["118"],{"main":"119"},["120"],[],{"main":"121"},["122"],{"ai_memory":"123"},{"ai_memory":"124"},{"subRun":"106"},["125"],{"ai_memory":"126"},{"ai_memory":"127"},{"subRun":"107"},["128"],{"ai_languageModel":"129"},{"ai_languageModel":"130"},{"subRun":"108"},["131"],[],{"main":"132"},["133"],["134"],{"main":"135"},["136"],[],{"main":"137"},["138"],[],{"main":"139"},["140"],[],{"main":"141"},["142"],[],{"main":"143"},["144"],["145"],{"main":"146"},["147"],[],{"main":"148"},["149"],["150"],["151"],["152"],{"previousNode":"153"},{"message":"154","location":"155"},["156"],{"previousNode":"157"},["158","159"],{"previousNode":"160"},["161"],{"previousNode":"162"},{"message":"154","location":"155"},["163"],{"previousNode":"164"},["165","166"],{"previousNode":"167","previousNodeRun":0},["168"],["169"],{"previousNode":"167","previousNodeRun":0},["170"],["171"],{"previousNode":"167","previousNodeRun":0},["172"],["173"],{"previousNode":"174"},["175"],{"previousNode":"167"},{"message":"154","location":"155"},["176"],{"previousNode":"177"},["178"],{"previousNode":"179"},["180"],{"previousNode":"181"},["182"],{"previousNode":"183"},["184"],{"previousNode":"185"},{"message":"154","location":"155"},["186"],{"previousNode":"187"},["188"],{"node":"189","runIndex":0},{"node":"189","runIndex":1},{"node":"190","runIndex":0},["191"],"Webhook Chat","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["192"],"Verify JWT",["193"],[],"JWT Valid?",["194"],"Check Quota",["195"],"Prepare Quota",["196"],[],"AI Agent",["197"],["198"],["199"],["200"],["201"],["202"],"Quota OK?",["203"],["204"],"Prepare Save",["205"],"UPSERT Conversation",["206"],"INSERT User Message",["207"],"INSERT Assistant Message",["208"],"UPDATE Token Usage",["209"],"Format Response",["210"],"Postgres Chat Memory","Mistral Cloud Chat Model",{"json":"211","pairedItem":"212"},{"json":"213","pairedItem":"214"},{"json":"213","pairedItem":"215"},{"json":"216","pairedItem":"217"},{"json":"218","pairedItem":"219"},{"json":"218","pairedItem":"220"},{"json":"221"},{"json":"222"},{"json":"223"},{"json":"224"},{"json":"225"},{"json":"226"},{"json":"227","pairedItem":"228"},{"json":"229","pairedItem":"230"},{"json":"231","pairedItem":"232"},{"json":"233","pairedItem":"234"},{"json":"235","pairedItem":"236"},{"json":"237","pairedItem":"238"},{"json":"239","pairedItem":"240"},{"json":"239","pairedItem":"241"},{"headers":"242","params":"243","query":"244","body":"245","webhookUrl":"246","executionMode":"247"},{"item":0},{"valid":true,"user":"248","userId":1,"conversationId":"249","message":"250","sessionId":"251"},{"item":0},{"item":0},{"used_tokens":"252","quota_tokens":"253"},{"item":0},{"valid":true,"user":"254","userId":1,"conversationId":"249","message":"250","sessionId":"251","usedTokens":14367,"quotaTokens":50000,"quotaExceeded":false},{"item":0},{"item":0},{"action":"255","chatHistory":"256"},{"action":"255","values":"257"},{"action":"258","chatHistory":"259"},{"action":"258","input":"260","output":"261"},{"response":"262","tokenUsage":"263"},{"messages":"264","estimatedTokens":120,"options":"265"},{"output":"266"},{"item":0},{"userId":1,"conversationId":"249","message":"250","response":"266","tokensUsed":101,"newUsedTokens":14468,"tokensRemaining":35532,"quotaTokens":50000},{"item":0},{"success":true},["267"],{"success":true},["268"],{"success":true},["269"],{"success":true},["270"],{"success":true,"response":"266","tokens_used":101,"tokens_remaining":35532,"conversation_id":"249"},{"item":0},{"item":0},{"host":"271","x-real-ip":"272","x-forwarded-for":"272","x-forwarded-proto":"273","connection":"274","content-length":"275","sec-ch-ua-platform":"276","authorization":"277","sec-ch-ua":"278","sec-ch-ua-mobile":"279","user-agent":"280","accept":"281","dnt":"282","content-type":"283","origin":"284","sec-fetch-site":"285","sec-fetch-mode":"286","sec-fetch-dest":"287","referer":"288","accept-encoding":"289","accept-language":"290","cookie":"291","sec-gpc":"282"},{},{},{"conversation_id":"249","message":"250","files":"292"},"http://localhost:5678/webhook/wibot/chat","production",{"userId":1,"username":"293","role":"294","iat":1766772216,"exp":1766858616},"ced314f9-dacb-466f-96f5-e34cba3687a4","peux tu me resumer le contenu de ce document ?","1_ced314f9-dacb-466f-96f5-e34cba3687a4","14367","50000",{"userId":1,"username":"293","role":"294","iat":1766772216,"exp":1766858616},"loadMemoryVariables",[],{"input":"250","system_message":"295","formatting_instructions":"296"},"saveContext",["297","298"],{"input":"250","system_message":"295","formatting_instructions":"296"},{"input":"250","system_message":"295","formatting_instructions":"296","chat_history":"256","output":"266"},{"generations":"299"},{"completionTokens":81,"promptTokens":123,"totalTokens":204},["300"],{"mistral_api_key":"301","model":"302","max_tokens":2048,"temperature":0.7,"metadata":"303"},"Bien sr ! Pour pouvoir rsumer le contenu d'un document, j'aurais besoin que tu me le partages ou que tu me donnes quelques dtails sur son contenu. Tu peux par exemple me dire de quoi parle le document, me donner les titres des sections ou me partager quelques extraits.\\n\\nN'hsite pas  me fournir ces informations pour que je puisse t'aider au mieux !",{"item":0},{"item":0},{"item":0},{"item":0},"localhost","172.20.0.1","http","close","485274","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","?0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","1","application/json","http://localhost:5173","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D",["304"],"khora","admin","Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel","IMPORTANT: For your response to user, you MUST use the `format_final_json_response` tool with your complete answer formatted according to the required schema. Do not attempt to format the JSON manually - always use this tool. Your response will be rejected if it is not properly formatted through this tool. Only use this tool once you are ready to provide your final answer.",{"lc":1,"type":"305","id":"306","kwargs":"307"},{"lc":1,"type":"305","id":"308","kwargs":"309"},["310"],"System: Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel\\nHuman: peux tu me resumer le contenu de ce document ?",{"lc":1,"type":"311","id":"312"},"mistral-small-latest",{},{"name":"313","content":"314"},"constructor",["315","316","317"],{"content":"250","additional_kwargs":"318","response_metadata":"319"},["315","316","320"],{"content":"266","tool_calls":"321","additional_kwargs":"322","response_metadata":"323","invalid_tool_calls":"324"},["325"],"secret",["326"],"LDM Master UGA.pdf","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OD4gPDAwNjU+IDwwMDRDPiA8MDA2OT4gPDAwNTA+IDwwMDZEPiA8MDA1Mj4gPDAwNkY+IDwwMDUzPiA8MDA3MD4gPDAwNTc+IDwwMDc0PiA8MDA1OD4gPDAwNzU+IDwwMDVCPiA8MDA3OD4gZW5kYmZjaGFyIGVuZGNtYXAgQ01hcE5hbWUgY3VycmVudGRpY3QgL0NNYXAgZGVmaW5lcmVzb3VyY2UgcG9wIGVuZCBlbmQgCmVuZHN0cmVhbQplbmRvYmoKOSAwIG9iagpbIDMgMyAyNTAgNDggNDggOTQzIDUzIDUzIDcyMiA2OCA2OCA1MDAgNzIgNzIgNDQzIDc2IDc2IDI3NyA4MCA4MCA4MzMgODIgODIgNTAwIDgzIDgzIDU1NiA4NyA4NyAzMzMgODggODggNTU2IDkxIDkxIDUwMCBdCmVuZG9iago2IDAgb2JqClsgLTk0MyAtMjE2IDk0MyA4OTEgXQplbmRvYmoKNyAwIG9iago5NDMKZW5kb2JqCjE4IDAgb2JqCjw8Ci9MZW5ndGggMTE5Mwo+PgpzdHJlYW0KL0NJREluaXQgL1Byb2NTZXQgZmluZHJlc291cmNlIGJlZ2luIDEyIGRpY3QgYmVnaW4gYmVnaW5jbWFwIC9DSURTeXN0ZW1JbmZvIDw8IC9SZWdpc3RyeSAoQWRvYmUpIC9PcmRlcmluZyAoVUNTKSAvU3VwcGxlbWVudCAwID4+IGRlZiAvQ01hcE5hbWUgL0Fkb2JlLUlkZW50aXR5LVVDUyBkZWYgL0NNYXBUeXBlIDIgZGVmIDEgYmVnaW5jb2Rlc3BhY2VyYW5nZSA8MDAwMD4gPEZGRkY+IGVuZGNvZGVzcGFjZXJhbmdlIDYyIGJlZ2luYmZjaGFyIDwwMDAzPiA8MDAyMD4gPDAwMEE+IDwwMDI3PiA8MDAwRj4gPDAwMkM+IDwwMDEwPiA8MDAyRD4gPDAwMTE+IDwwMDJFPiA8MDAxMz4gPDAwMzA+IDwwMDE0PiA8MDAzMT4gPDAwMTU+IDwwMDMyPiA8MDAxNj4gPDAwMzM+IDwwMDE5PiA8MDAzNj4gPDAwMUE+IDwwMDM3PiA8MDAxQj4gPDAwMzg+IDwwMDFDPiA8MDAzOT4gPDAwMUQ+IDwwMDNBPiA8MDAyMz4gPDAwNDA+IDwwMDI0PiA8MDA0MT4gPDAwMjU+IDwwMDQyPiA8MDAyNj4gPDAwNDM+IDwwMDI4PiA8MDA0NT4gPDAwMjk+IDwwMDQ2PiA8MDAyQT4gPDAwNDc+IDwwMDJCPiA8MDA0OD4gPDAwMkM+IDwwMDQ5PiA8MDAyRD4gPDAwNEE+IDwwMDJGPiA8MDA0Qz4gPDAwMzA+IDwwMDREPiA8MDAzMT4gPDAwNEU+IDwwMDMyPiA8MDA0Rj4gPDAwMzM+IDwwMDUwPiA8MDAzNT4gPDAwNTI+IDwwMDM2PiA8MDA1Mz4gPDAwMzg+IDwwMDU1PiA8MDAzOT4gPDAwNTY+IDwwMDQ0PiA8MDA2MT4gPDAwNDU+IDwwMDYyPiA8MDA0Nj4gPDAwNjM+IDwwMDQ3PiA8MDA2ND4gPDAwNDg+IDwwMDY1PiA8MDA0OT4gPDAwNjY+IDwwMDRBPiA8MDA2Nz4gPDAwNEI+IDwwMDY4PiA8MDA0Qz4gPDAwNjk+IDwwMDREPiA8MDA2QT4gPDAwNEY+IDwwMDZDPiA8MDA1MD4gPDAwNkQ+IDwwMDUxPiA8MDA2RT4gPDAwNTI+IDwwMDZGPiA8MDA1Mz4gPDAwNzA+IDwwMDU0PiA8MDA3MT4gPDAwNTU+IDwwMDcyPiA8MDA1Nj4gPDAwNzM+IDwwMDU3PiA8MDA3ND4gPDAwNTg+IDwwMDc1PiA8MDA1OT4gPDAwNzY+IDwwMDVCPiA8MDA3OD4gPDAwNUM+IDwwMDc5PiA8MDA1RD4gPDAwN0E+IDwwMDY1PiA8MDBDOT4gPDAwNkE+IDwwMEUwPiA8MDA3MD4gPDAwRTk+IDwwMDcxPiA8MDBFOD4gPDAwQjY+IDwyMDE5PiBlbmRiZmNoYXIgZW5kY21hcCBDTWFwTmFtZSBjdXJyZW50ZGljdCAvQ01hcCBkZWZpbmVyZXNvdXJjZSBwb3AgZW5kIGVuZCAKZW5kc3RyZWFtCmVuZG9iagoxNyAwIG9iagpbIDMgMyAyNTAgMTAgMTAgMTgwIDE1IDE1IDI1MCAxNiAxNiAzMzMgMTcgMTcgMjUwIDE5IDE5IDUwMCAyMCAyMCA1MDAgMjEgMjEgNTAwIDIyIDIyIDUwMCAyNSAyNSA1MDAgMjYgMjYgNTAwIDI3IDI3IDUwMCAyOCAyOCA1MDAgMjkgMjkgMjc3IDM1IDM1IDkyMCAzNiAzNiA3MjIgMzcgMzcgNjY2IDM4IDM4IDY2NiA0MCA0MCA2MTAgNDEgNDEgNTU2IDQyIDQyIDcyMiA0MyA0MyA3MjIgNDQgNDQgMzMzIDQ1IDQ1IDM4OSA0NyA0NyA2MTAgNDggNDggODg5IDQ5IDQ5IDcyMiA1MCA1MCA3MjIgNTEgNTEgNTU2IDUzIDUzIDY2NiA1NCA1NCA1NTYgNTYgNTYgNzIyIDU3IDU3IDcyMiA2OCA2OCA0NDMgNjkgNjkgNTAwIDcwIDcwIDQ0MyA3MSA3MSA1MDAgNzIgNzIgNDQzIDczIDczIDMzMyA3NCA3NCA1MDAgNzUgNzUgNTAwIDc2IDc2IDI3NyA3NyA3NyAyNzcgNzkgNzkgMjc3IDgwIDgwIDc3NyA4MSA4MSA1MDAgODIgODIgNTAwIDgzIDgzIDUwMCA4NCA4NCA1MDAgODUgODUgMzMzIDg2IDg2IDM4OSA4NyA4NyAyNzcgODggODggNTAwIDg5IDg5IDUwMCA5MSA5MSA1MDAgOTIgOTIgNTAwIDkzIDkzIDQ0MyAxMDEgMTAxIDYxMCAxMDYgMTA2IDQ0MyAxMTIgMTEyIDQ0MyAxMTMgMTEzIDQ0MyAxODIgMTgyIDMzMyBdCmVuZG9iagoxNCAwIG9iagpbIC05MjAgLTIxNiA5MjAgODkxIF0KZW5kb2JqCjE1IDAgb2JqCjkyMAplbmRvYmoKMjYgMCBvYmoKPDwKL0xlbmd0aCAzMzgKPj4Kc3RyZWFtCi9DSURJbml0IC9Qcm9jU2V0IGZpbmRyZXNvdXJjZSBiZWdpbiAxMiBkaWN0IGJlZ2luIGJlZ2luY21hcCAvQ0lEU3lzdGVtSW5mbyA8PCAvUmVnaXN0cnkgKEFkb2JlKSAvT3JkZXJpbmcgKFVDUykgL1N1cHBsZW1lbnQgMCA+PiBkZWYgL0NNYXBOYW1lIC9BZG9iZS1JZGVudGl0eS1VQ1MgZGVmIC9DTWFwVHlwZSAyIGRlZiAxIGJlZ2luY29kZXNwYWNlcmFuZ2UgPDAwMDA+IDxGRkZGPiBlbmRjb2Rlc3BhY2VyYW5nZSAxIGJlZ2luYmZjaGFyIDwwMDAzPiA8MDAyMD4gZW5kYmZjaGFyIGVuZGNtYXAgQ01hcE5hbWUgY3VycmVudGRpY3QgL0NNYXAgZGVmaW5lcmVzb3VyY2UgcG9wIGVuZCBlbmQgCmVuZHN0cmVhbQplbmRvYmoKMjUgMCBvYmoKWyAzIDMgMjI2IF0KZW5kb2JqCjIyIDAgb2JqClsgLTIyNiAtMjY4IDIyNiA5NTIgXQplbmRvYmoKMjMgMCBvYmoKMjI2CmVuZG9iagoyIDAgb2JqCjw8Ci9Db3VudCAxCi9LaWRzIFsgMyAwIFIgXQovVHlwZSAvUGFnZXMKPj4KZW5kb2JqCjEgMCBvYmoKPDwKL1BhZ2VzIDIgMCBSCi9UeXBlIC9DYXRhbG9nCj4+CmVuZG9iagozMCAwIG9iago8PAovQXV0aG9yIChJYztOIDcwTj0wPVxcKQovQ3JlYXRpb25EYXRlIChEOjIwMjUwMzE5MTAyNDE1KzAxJzAwJykKL01vZERhdGUgKEQ6MjAyNTAzMTkxMDI0MTUrMDEnMDAnKQovUHJvZHVjZXIgKE1pY3Jvc29mdDogUHJpbnQgVG8gUERGKQovVGl0bGUgKE1pY3Jvc29mdCBXb3JkIC0gTERNIE1hc3Rlci5kb2N4KQo+PgplbmRvYmoKeHJlZgowIDMxDQowMDAwMDAwMDAwIDY1NTM1IGYNCjAwMDAzNjI4NzcgMDAwMDAgbg0KMDAwMDM2MjgxOCAwMDAwMCBuDQowMDAwMzU5NDczIDAwMDAwIG4NCjAwMDAwMDAwMDkgMDAwMDAgbg0KMDAwMDAwMDAzNSAwMDAwMCBuDQowMDAwMzYwMzM0IDAwMDAwIG4NCjAwMDAzNjAzNzEgMDAwMDAgbg0KMDAwMDAwMDA1OCAwMDAwMCBuDQowMDAwMzYwMTk3IDAwMDAwIG4NCjAwMDAzNTk2NTIgMDAwMDAgbg0KMDAwMDA3MjY4NCAwMDAwMCBuDQowMDAwMDczMTU2IDAwMDAwIG4NCjAwMDAwNzMxODMgMDAwMDAgbg0KMDAwMDM2MjI4NCAwMDAwMCBuDQowMDAwMzYyMzIyIDAwMDAwIG4NCjAwMDAwNzMyMDcgMDAwMDAgbg0KMDAwMDM2MTYzNiAwMDAwMCBuDQowMDAwMzYwMzkwIDAwMDAwIG4NCjAwMDAxNzYzNjQgMDAwMDAgbg0KMDAwMDE3Njg0MiAwMDAwMCBuDQowMDAwMTc2ODY5IDAwMDAwIG4NCjAwMDAzNjI3NjAgMDAwMDAgbg0KMDAwMDM2Mjc5OCAwMDAwMCBuDQowMDAwMTc2ODkzIDAwMDAwIG4NCjAwMDAzNjI3MzIgMDAwMDAgbg0KMDAwMDM2MjM0MiAwMDAwMCBuDQowMDAwMzU2MDk0IDAwMDAwIG4NCjAwMDAzNTY1NzIgMDAwMDAgbg0KMDAwMDM1OTQwNiAwMDAwMCBuDQowMDAwMzYyOTI2IDAwMDAwIG4NCnRyYWlsZXIKPDwKL0luZm8gMzAgMCBSCi9Sb290IDEgMCBSCi9TaXplIDMxCj4+CnN0YXJ0eHJlZgozNjMxMjYKJSVFT0YK","langchain_core","messages","HumanMessage",{},{},"AIMessage",[],{},{},[],{"text":"266","generationInfo":"327"},"MISTRAL_API_KEY",{"prompt":0,"completion":0}]
86	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Unauthorized":"15"},"Unauthorized",{},[],{},{},{},{"version":1,"establishedAt":1766771189903,"source":"16"},["17"],["18"],["19"],["20"],"webhook",{"startTime":1766771189903,"executionIndex":0,"source":"21","hints":"22","executionTime":1,"executionStatus":"23","data":"24"},{"startTime":1766771189904,"executionIndex":1,"source":"25","hints":"26","executionTime":12,"executionStatus":"23","data":"27"},{"startTime":1766771189916,"executionIndex":2,"source":"28","hints":"29","executionTime":3,"executionStatus":"23","data":"30"},{"startTime":1766771189919,"executionIndex":3,"source":"31","hints":"32","executionTime":4,"executionStatus":"23","data":"33"},[],[],"success",{"main":"34"},["35"],["36"],{"main":"37"},["38"],[],{"main":"39"},["40"],[],{"main":"41"},["42"],{"previousNode":"43"},{"message":"44","location":"45"},["46"],{"previousNode":"47"},["48","49"],{"previousNode":"50","previousNodeOutput":1},["51"],["52"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["53"],"Verify JWT",[],["54"],"JWT Valid?",["55"],{"json":"56","pairedItem":"57"},{"json":"58","pairedItem":"59"},{"json":"58","pairedItem":"60"},{"json":"58","pairedItem":"61"},{"headers":"62","params":"63","query":"64","body":"65","webhookUrl":"66","executionMode":"67"},{"item":0},{"valid":false,"error":"68"},{"item":0},{"item":0},{"item":0},{"host":"69","x-real-ip":"70","x-forwarded-for":"70","x-forwarded-proto":"71","connection":"72","user-agent":"73","accept":"74","authorization":"75"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","Invalid token format","localhost","172.20.0.1","http","close","curl/8.12.1","*/*","Bearer test"]
87	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Unauthorized":"15"},"Unauthorized",{},[],{},{},{},{"version":1,"establishedAt":1766772056378,"source":"16"},["17"],["18"],["19"],["20"],"webhook",{"startTime":1766772056379,"executionIndex":0,"source":"21","hints":"22","executionTime":0,"executionStatus":"23","data":"24"},{"startTime":1766772056380,"executionIndex":1,"source":"25","hints":"26","executionTime":12,"executionStatus":"23","data":"27"},{"startTime":1766772056392,"executionIndex":2,"source":"28","hints":"29","executionTime":2,"executionStatus":"23","data":"30"},{"startTime":1766772056394,"executionIndex":3,"source":"31","hints":"32","executionTime":5,"executionStatus":"23","data":"33"},[],[],"success",{"main":"34"},["35"],["36"],{"main":"37"},["38"],[],{"main":"39"},["40"],[],{"main":"41"},["42"],{"previousNode":"43"},{"message":"44","location":"45"},["46"],{"previousNode":"47"},["48","49"],{"previousNode":"50","previousNodeOutput":1},["51"],["52"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["53"],"Verify JWT",[],["54"],"JWT Valid?",["55"],{"json":"56","pairedItem":"57"},{"json":"58","pairedItem":"59"},{"json":"58","pairedItem":"60"},{"json":"58","pairedItem":"61"},{"headers":"62","params":"63","query":"64","body":"65","webhookUrl":"66","executionMode":"67"},{"item":0},{"valid":false,"error":"68"},{"item":0},{"item":0},{"item":0},{"host":"69","x-real-ip":"70","x-forwarded-for":"70","x-forwarded-proto":"71","connection":"72","user-agent":"73","accept":"74","authorization":"75"},{},{"conversationId":"76"},{},"http://localhost:5678/webhook/wibot/messages","production","Invalid token format","localhost","172.20.0.1","http","close","curl/8.12.1","*/*","Bearer test","test123"]
88	{"id":"zZSHB9BHjR30ThPP","name":"WIBOT - Auth Login","active":true,"activeVersionId":"1e31f7d7-5e68-47eb-863c-91d1ec7b0819","isArchived":false,"createdAt":"2025-12-26T17:23:18.804Z","updatedAt":"2025-12-26T17:24:10.395Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"POST","path":"auth/login","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c8898033-10a2-436a-915d-a01f108756c6","name":"Webhook Login","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1104,208],"webhookId":"auth-login"},{"parameters":{"resource":"database","operation":"select","schema":"public","table":"users","returnAll":false,"limit":1,"where":{"values":[{"column":"username","condition":"equal","value":"={{ $json.body.username }}"},{"column":"is_active","condition":"equal","value":"true"}]},"combineConditions":"AND","sort":{},"options":{}},"id":"a2a158de-b676-468b-a23e-18466966d674","name":"Get User","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-880,208],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-user-exists","leftValue":"={{ $json.user_id }}","rightValue":"","operator":{"type":"exists","operation":"exists"}}],"combinator":"and"},"options":{}},"id":"dd3f022d-09ed-47fe-ba59-73ae33165762","name":"User Exists?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-656,208]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const inputPassword = $('Webhook Login').first().json.body.password;\\nconst storedHash = $input.first().json.password_hash;\\nconst user = $input.first().json;\\n\\n// Comparaison simple du mot de passe\\nconst isValid = (inputPassword === storedHash);\\n\\nreturn [{ json: { isValid, user } }];","notice":""},"id":"bb41f913-1c3c-4afb-88a4-c46324c2b9ec","name":"Verify Password","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-password-valid","leftValue":"={{ $json.isValid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"73c0896e-95a9-4677-86c9-3398d7856fad","name":"Password Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const user = $input.first().json.user;\\n\\n// Fonction base64 encode compatible n8n\\nfunction toBase64(str) {\\n  return Buffer.from(str).toString('base64').replace(/=/g, '').replace(/\\\\+/g, '-').replace(/\\\\//g, '_');\\n}\\n\\nconst header = toBase64(JSON.stringify({ alg: 'HS256', typ: 'JWT' }));\\n\\nconst payload = toBase64(JSON.stringify({\\n  userId: user.user_id,\\n  username: user.username,\\n  role: user.role,\\n  iat: Math.floor(Date.now() / 1000),\\n  exp: Math.floor(Date.now() / 1000) + (24 * 60 * 60)\\n}));\\n\\n// Signature simplifie\\nconst signature = toBase64(header + payload + 'wibot_secret').substring(0, 43);\\n\\nconst token = `${header}.${payload}.${signature}`;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    token,\\n    user: {\\n      id: user.user_id,\\n      username: user.username,\\n      role: user.role\\n    }\\n  }\\n}];","notice":""},"id":"56756190-1aeb-4413-946a-e2a7b4907e8e","name":"Generate JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[0,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"5e5d60cc-5fee-4f26-b838-71d66c7a885a","name":"Success Response","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Invalid credentials\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"e90d3bbc-527a-4b00-b1dc-9bb17afa5966","name":"Invalid Password","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,208]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"User not found\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"8423d2d4-a607-49d0-a6d7-8730cf78fd86","name":"User Not Found","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-448,304]}],"connections":{"Webhook Login":{"main":[[{"node":"Get User","type":"main","index":0}]]},"Get User":{"main":[[{"node":"User Exists?","type":"main","index":0}]]},"User Exists?":{"main":[[{"node":"Verify Password","type":"main","index":0}],[{"node":"User Not Found","type":"main","index":0}]]},"Verify Password":{"main":[[{"node":"Password Valid?","type":"main","index":0}]]},"Password Valid?":{"main":[[{"node":"Generate JWT","type":"main","index":0}],[{"node":"Invalid Password","type":"main","index":0}]]},"Generate JWT":{"main":[[{"node":"Success Response","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook Login":"12","Get User":"13","User Exists?":"14","Verify Password":"15","Password Valid?":"16","Invalid Password":"17"},"Invalid Password",{},[],{},{},{},{"version":1,"establishedAt":1766772070565,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772070565,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772070565,"executionIndex":1,"source":"29","hints":"30","executionTime":31,"executionStatus":"27","data":"31"},{"startTime":1766772070596,"executionIndex":2,"source":"32","hints":"33","executionTime":3,"executionStatus":"27","data":"34"},{"startTime":1766772070599,"executionIndex":3,"source":"35","hints":"36","executionTime":4,"executionStatus":"27","data":"37"},{"startTime":1766772070603,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772070606,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],[],{"main":"46"},["47"],[],{"main":"48"},["49"],["50"],{"main":"51"},["52"],[],{"main":"53"},["54"],[],{"main":"55"},["56"],{"previousNode":"57"},["58"],{"previousNode":"59"},["60","61"],{"previousNode":"62"},{"message":"63","location":"64"},["65"],{"previousNode":"66"},["67","68"],{"previousNode":"69","previousNodeOutput":1},["70"],["71"],"Webhook Login",["72"],"Get User",["73"],[],"User Exists?","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["74"],"Verify Password",[],["75"],"Password Valid?",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"82","pairedItem":"85"},{"headers":"86","params":"87","query":"88","body":"89","webhookUrl":"90","executionMode":"91"},{"item":0},{"user_id":1,"username":"92","password_hash":"93","email":"94","role":"95","created_at":"96","is_active":true},{"item":0},{"item":0},{"isValid":false,"user":"97"},{"item":0},{"item":0},{"item":0},{"host":"98","x-real-ip":"99","x-forwarded-for":"99","x-forwarded-proto":"100","connection":"101","content-length":"102","user-agent":"103","accept":"104","content-type":"105"},{},{},{"username":"92","password":"106"},"http://localhost:5678/webhook/auth/login","production","khora","test123","khora@widip.fr","admin","2025-12-26T06:42:15.244Z",{"user_id":1,"username":"92","password_hash":"93","email":"94","role":"95","created_at":"96","is_active":true},"localhost","172.20.0.1","http","close","44","curl/8.12.1","*/*","application/json","Widip@2025"]
89	{"id":"zZSHB9BHjR30ThPP","name":"WIBOT - Auth Login","active":true,"activeVersionId":"1e31f7d7-5e68-47eb-863c-91d1ec7b0819","isArchived":false,"createdAt":"2025-12-26T17:23:18.804Z","updatedAt":"2025-12-26T17:24:10.395Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"POST","path":"auth/login","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c8898033-10a2-436a-915d-a01f108756c6","name":"Webhook Login","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1104,208],"webhookId":"auth-login"},{"parameters":{"resource":"database","operation":"select","schema":"public","table":"users","returnAll":false,"limit":1,"where":{"values":[{"column":"username","condition":"equal","value":"={{ $json.body.username }}"},{"column":"is_active","condition":"equal","value":"true"}]},"combineConditions":"AND","sort":{},"options":{}},"id":"a2a158de-b676-468b-a23e-18466966d674","name":"Get User","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-880,208],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-user-exists","leftValue":"={{ $json.user_id }}","rightValue":"","operator":{"type":"exists","operation":"exists"}}],"combinator":"and"},"options":{}},"id":"dd3f022d-09ed-47fe-ba59-73ae33165762","name":"User Exists?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-656,208]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const inputPassword = $('Webhook Login').first().json.body.password;\\nconst storedHash = $input.first().json.password_hash;\\nconst user = $input.first().json;\\n\\n// Comparaison simple du mot de passe\\nconst isValid = (inputPassword === storedHash);\\n\\nreturn [{ json: { isValid, user } }];","notice":""},"id":"bb41f913-1c3c-4afb-88a4-c46324c2b9ec","name":"Verify Password","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-password-valid","leftValue":"={{ $json.isValid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"73c0896e-95a9-4677-86c9-3398d7856fad","name":"Password Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const user = $input.first().json.user;\\n\\n// Fonction base64 encode compatible n8n\\nfunction toBase64(str) {\\n  return Buffer.from(str).toString('base64').replace(/=/g, '').replace(/\\\\+/g, '-').replace(/\\\\//g, '_');\\n}\\n\\nconst header = toBase64(JSON.stringify({ alg: 'HS256', typ: 'JWT' }));\\n\\nconst payload = toBase64(JSON.stringify({\\n  userId: user.user_id,\\n  username: user.username,\\n  role: user.role,\\n  iat: Math.floor(Date.now() / 1000),\\n  exp: Math.floor(Date.now() / 1000) + (24 * 60 * 60)\\n}));\\n\\n// Signature simplifie\\nconst signature = toBase64(header + payload + 'wibot_secret').substring(0, 43);\\n\\nconst token = `${header}.${payload}.${signature}`;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    token,\\n    user: {\\n      id: user.user_id,\\n      username: user.username,\\n      role: user.role\\n    }\\n  }\\n}];","notice":""},"id":"56756190-1aeb-4413-946a-e2a7b4907e8e","name":"Generate JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[0,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"5e5d60cc-5fee-4f26-b838-71d66c7a885a","name":"Success Response","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Invalid credentials\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"e90d3bbc-527a-4b00-b1dc-9bb17afa5966","name":"Invalid Password","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,208]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"User not found\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"8423d2d4-a607-49d0-a6d7-8730cf78fd86","name":"User Not Found","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-448,304]}],"connections":{"Webhook Login":{"main":[[{"node":"Get User","type":"main","index":0}]]},"Get User":{"main":[[{"node":"User Exists?","type":"main","index":0}]]},"User Exists?":{"main":[[{"node":"Verify Password","type":"main","index":0}],[{"node":"User Not Found","type":"main","index":0}]]},"Verify Password":{"main":[[{"node":"Password Valid?","type":"main","index":0}]]},"Password Valid?":{"main":[[{"node":"Generate JWT","type":"main","index":0}],[{"node":"Invalid Password","type":"main","index":0}]]},"Generate JWT":{"main":[[{"node":"Success Response","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook Login":"12","Get User":"13","User Exists?":"14","Verify Password":"15","Password Valid?":"16","Generate JWT":"17","Success Response":"18"},"Success Response",{},[],{},{},{},{"version":1,"establishedAt":1766772088395,"source":"19"},["20"],["21"],["22"],["23"],["24"],["25"],["26"],"webhook",{"startTime":1766772088395,"executionIndex":0,"source":"27","hints":"28","executionTime":0,"executionStatus":"29","data":"30"},{"startTime":1766772088395,"executionIndex":1,"source":"31","hints":"32","executionTime":9,"executionStatus":"29","data":"33"},{"startTime":1766772088404,"executionIndex":2,"source":"34","hints":"35","executionTime":0,"executionStatus":"29","data":"36"},{"startTime":1766772088404,"executionIndex":3,"source":"37","hints":"38","executionTime":3,"executionStatus":"29","data":"39"},{"startTime":1766772088407,"executionIndex":4,"source":"40","hints":"41","executionTime":0,"executionStatus":"29","data":"42"},{"startTime":1766772088407,"executionIndex":5,"source":"43","hints":"44","executionTime":6,"executionStatus":"29","data":"45"},{"startTime":1766772088413,"executionIndex":6,"source":"46","hints":"47","executionTime":3,"executionStatus":"29","data":"48"},[],[],"success",{"main":"49"},["50"],[],{"main":"51"},["52"],[],{"main":"53"},["54"],["55"],{"main":"56"},["57"],[],{"main":"58"},["59"],["60"],{"main":"61"},["62"],[],{"main":"63"},["64"],{"previousNode":"65"},["66"],{"previousNode":"67"},["68","69"],{"previousNode":"70"},{"message":"71","location":"72"},["73"],{"previousNode":"74"},["75","76"],{"previousNode":"77"},{"message":"71","location":"72"},["78"],{"previousNode":"79"},["80"],["81"],"Webhook Login",["82"],"Get User",["83"],[],"User Exists?","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["84"],"Verify Password",["85"],[],"Password Valid?",["86"],"Generate JWT",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"93","pairedItem":"95"},{"json":"96","pairedItem":"97"},{"json":"96","pairedItem":"98"},{"headers":"99","params":"100","query":"101","body":"102","webhookUrl":"103","executionMode":"104"},{"item":0},{"user_id":1,"username":"105","password_hash":"106","email":"107","role":"108","created_at":"109","is_active":true},{"item":0},{"item":0},{"isValid":true,"user":"110"},{"item":0},{"item":0},{"success":true,"token":"111","user":"112"},{"item":0},{"item":0},{"host":"113","x-real-ip":"114","x-forwarded-for":"114","x-forwarded-proto":"115","connection":"116","content-length":"117","user-agent":"118","accept":"119","content-type":"120"},{},{},{"username":"105","password":"106"},"http://localhost:5678/webhook/auth/login","production","khora","test123","khora@widip.fr","admin","2025-12-26T06:42:15.244Z",{"user_id":1,"username":"105","password_hash":"106","email":"107","role":"108","created_at":"109","is_active":true},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIwODgsImV4cCI6MTc2Njg1ODQ4OH0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh",{"id":1,"username":"105","role":"108"},"localhost","172.20.0.1","http","close","41","curl/8.12.1","*/*","application/json"]
158	{"id":"wibotdel7064ce92","name":"WIBOT - Delete Conversation","active":true,"activeVersionId":"92c7d10a-3f4c-43bb-a18e-fd783a5157d7","isArchived":false,"createdAt":"2025-12-26T22:11:38.817Z","updatedAt":"2025-12-26T22:11:38.817Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"DELETE","path":"wibot/conversation/delete","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-delete","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-delete-conversation"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\nconst conversationId = body.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"DELETE FROM conversations\\nWHERE conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND user_id = {{ $json.userId }}\\nRETURNING conversation_id::text;","options":{}},"id":"delete-conversation","name":"Delete Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: false,\\n      error: 'Conversation not found or access denied'\\n    }\\n  }];\\n}\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    deleted_conversation_id: rows[0].json.conversation_id\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Delete Conversation","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Delete Conversation":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Delete Conversation":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787155707,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787155707,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787155707,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787155710,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787155711,"executionIndex":3,"source":"35","hints":"36","executionTime":7,"executionStatus":"27","data":"37"},{"startTime":1766787155718,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787155721,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Delete Conversation",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1,"conversationId":"93"},{"item":0},{"item":0},{"conversation_id":"93"},{"item":0},{"success":true,"deleted_conversation_id":"93"},{"item":0},{"item":0},{"host":"94","x-real-ip":"95","x-forwarded-for":"95","x-forwarded-proto":"96","connection":"97","content-length":"98","user-agent":"99","accept":"100","authorization":"101","content-type":"102"},{},{},{"conversationId":"93"},"http://localhost:5678/webhook/wibot/conversation/delete","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","localhost","172.20.0.1","http","close","57","curl/8.12.1","*/*","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIwODgsImV4cCI6MTc2Njg1ODQ4OH0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","application/json"]
90	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772103408,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772103408,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766772103409,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772103412,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772103413,"executionIndex":3,"source":"35","hints":"36","executionTime":11,"executionStatus":"27","data":"37"},{"startTime":1766772103424,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766772103428,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81","82","83","84","85"],"Get Messages",["86"],"Format Response",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"95","pairedItem":"94"},{"json":"96","pairedItem":"94"},{"json":"97","pairedItem":"94"},{"json":"98","pairedItem":"94"},{"json":"99","pairedItem":"94"},{"json":"100","pairedItem":"94"},{"json":"101","pairedItem":"94"},{"json":"102","pairedItem":"94"},{"json":"103","pairedItem":"94"},{"json":"104","pairedItem":"94"},{"json":"105","pairedItem":"94"},{"json":"106"},{"json":"106","pairedItem":"107"},{"headers":"108","params":"109","query":"110","body":"111","webhookUrl":"112","executionMode":"113"},{"item":0},{"valid":true,"userId":1,"conversationId":"114"},{"item":0},{"item":0},{"message_id":1,"role":"115","content":"116","created_at":"117"},{"item":0},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"},{"success":true,"messages":"138"},{"item":0},{"host":"139","x-real-ip":"140","x-forwarded-for":"140","x-forwarded-proto":"141","connection":"142","user-agent":"143","accept":"144","authorization":"145"},{},{"conversationId":"114"},{},"http://localhost:5678/webhook/wibot/messages","production","550e8400-e29b-41d4-a716-446655440000","user","Bonjour WIBOT !","2025-12-24T07:42:15Z","assistant","Bonjour ! Je suis WIBOT, l'assistant IA de WIDIP. Comment puis-je t'aider aujourd'hui ?","2025-12-24T07:42:17Z","Peux-tu m'expliquer comment fonctionne PostgreSQL ?","2025-12-24T07:43:15Z","PostgreSQL est un systeme de gestion de base de donnees relationnelle (SGBDR) open source tres puissant.\\n\\n**Caracteristiques principales :**\\n- Support complet SQL\\n- Transactions ACID\\n- Extensions (comme pgcrypto pour le chiffrement)\\n- Excellent pour les charges de travail complexes\\n\\nC'est ce qu'on utilise chez WIDIP pour stocker les donnees WIBOT !","2025-12-24T07:43:20Z","Et comment faire un backup ?","2025-12-25T07:42:15Z","Pour faire un backup PostgreSQL, tu as plusieurs options :\\n\\n```bash\\n# Backup complet (dump SQL)\\npg_dump -U widip -d wibot > backup.sql\\n\\n# Backup compresse\\npg_dump -U widip -d wibot | gzip > backup.sql.gz\\n\\n# Restauration\\npsql -U widip -d wibot < backup.sql\\n```\\n\\nPour les backups automatiques, on peut utiliser un cron job ou un workflow n8n !","2025-12-25T07:42:18Z","salut","2025-12-26T17:16:30Z","Salut ! Comment puis-je vous aider aujourd'hui ?","ddadzax","2025-12-26T17:16:38Z","Bonjour ! Je ne suis pas sr de comprendre votre demande. Pourriez-vous prciser ou reformuler votre question ? Je suis l pour vous aider avec les questions techniques ou toute autre demande lie  WIDIP.","hey","2025-12-26T17:28:13Z","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["146","147","148","149","150","151","152","153","154","155","156","157"],"localhost","172.20.0.1","http","close","curl/8.12.1","*/*","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIwODgsImV4cCI6MTc2Njg1ODQ4OH0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh",{"message_id":1,"role":"115","content":"116","created_at":"117"},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"}]
92	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772118343,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772118343,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772118343,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766772118347,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766772118348,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766772118351,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772118353,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","user-agent":"125","accept":"126","authorization":"127"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["128","129","130","131","132","133","134","135"],"localhost","172.20.0.1","http","close","curl/8.12.1","*/*","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIwODgsImV4cCI6MTc2Njg1ODQ4OH0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
93	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772148579,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772148579,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772148579,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772148582,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766772148583,"executionIndex":3,"source":"35","hints":"36","executionTime":13,"executionStatus":"27","data":"37"},{"startTime":1766772148596,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772148599,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76"],"Get Conversations",["77"],"Format Response",["78"],{"json":"79","pairedItem":"80"},{"json":"81","pairedItem":"82"},{"json":"81","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"85"},{"json":"87","pairedItem":"85"},{"json":"88"},{"json":"88","pairedItem":"89"},{"headers":"90","params":"91","query":"92","body":"93","webhookUrl":"94","executionMode":"95"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"96","title":"97","updated_at":"98","message_count":8},{"item":0},{"conversation_id":"99","title":"100","updated_at":"101","message_count":12},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14},{"success":true,"conversations":"105"},{"item":0},{"host":"106","x-real-ip":"107","x-forwarded-for":"107","x-forwarded-proto":"108","connection":"109","sec-ch-ua-platform":"110","authorization":"111","user-agent":"112","accept":"113","sec-ch-ua":"114","dnt":"115","sec-ch-ua-mobile":"116","sec-fetch-site":"117","sec-fetch-mode":"118","sec-fetch-dest":"119","referer":"120","accept-encoding":"121","accept-language":"122","cookie":"123","sec-gpc":"115","if-none-match":"124"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["125","126","127"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"1e4-MqKK+LhPKkKdZuMcKXFAhwJvpyg\\"",{"conversation_id":"96","title":"97","updated_at":"98","message_count":8},{"conversation_id":"99","title":"100","updated_at":"101","message_count":12},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14}]
94	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772148592,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772148593,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772148593,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766772148595,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766772148596,"executionIndex":3,"source":"35","hints":"36","executionTime":7,"executionStatus":"27","data":"37"},{"startTime":1766772148603,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766772148606,"executionIndex":5,"source":"41","hints":"42","executionTime":2,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14289,"quota_tokens":50000,"tokens_remaining":35711},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14289","50000","35711","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"52-49lDe/j8Ze453oj3wcYlm3SsTGE\\""]
96	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772148646,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772148646,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772148646,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772148649,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772148650,"executionIndex":3,"source":"35","hints":"36","executionTime":27,"executionStatus":"27","data":"37"},{"startTime":1766772148677,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772148679,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["139","140","141","142","143","144","145","146"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
99	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772150595,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772150595,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772150595,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772150598,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766772150599,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766772150601,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772150603,"executionIndex":5,"source":"41","hints":"42","executionTime":2,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81","82","83","84","85"],"Get Messages",["86"],"Format Response",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"95","pairedItem":"94"},{"json":"96","pairedItem":"94"},{"json":"97","pairedItem":"94"},{"json":"98","pairedItem":"94"},{"json":"99","pairedItem":"94"},{"json":"100","pairedItem":"94"},{"json":"101","pairedItem":"94"},{"json":"102","pairedItem":"94"},{"json":"103","pairedItem":"94"},{"json":"104","pairedItem":"94"},{"json":"105","pairedItem":"94"},{"json":"106"},{"json":"106","pairedItem":"107"},{"headers":"108","params":"109","query":"110","body":"111","webhookUrl":"112","executionMode":"113"},{"item":0},{"valid":true,"userId":1,"conversationId":"114"},{"item":0},{"item":0},{"message_id":1,"role":"115","content":"116","created_at":"117"},{"item":0},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"},{"success":true,"messages":"138"},{"item":0},{"host":"139","x-real-ip":"140","x-forwarded-for":"140","x-forwarded-proto":"141","connection":"142","sec-ch-ua-platform":"143","authorization":"144","user-agent":"145","accept":"146","sec-ch-ua":"147","dnt":"148","sec-ch-ua-mobile":"149","sec-fetch-site":"150","sec-fetch-mode":"151","sec-fetch-dest":"152","referer":"153","accept-encoding":"154","accept-language":"155","cookie":"156","sec-gpc":"148"},{},{"conversationId":"114"},{},"http://localhost:5678/webhook/wibot/messages","production","550e8400-e29b-41d4-a716-446655440000","user","Bonjour WIBOT !","2025-12-24T07:42:15Z","assistant","Bonjour ! Je suis WIBOT, l'assistant IA de WIDIP. Comment puis-je t'aider aujourd'hui ?","2025-12-24T07:42:17Z","Peux-tu m'expliquer comment fonctionne PostgreSQL ?","2025-12-24T07:43:15Z","PostgreSQL est un systeme de gestion de base de donnees relationnelle (SGBDR) open source tres puissant.\\n\\n**Caracteristiques principales :**\\n- Support complet SQL\\n- Transactions ACID\\n- Extensions (comme pgcrypto pour le chiffrement)\\n- Excellent pour les charges de travail complexes\\n\\nC'est ce qu'on utilise chez WIDIP pour stocker les donnees WIBOT !","2025-12-24T07:43:20Z","Et comment faire un backup ?","2025-12-25T07:42:15Z","Pour faire un backup PostgreSQL, tu as plusieurs options :\\n\\n```bash\\n# Backup complet (dump SQL)\\npg_dump -U widip -d wibot > backup.sql\\n\\n# Backup compresse\\npg_dump -U widip -d wibot | gzip > backup.sql.gz\\n\\n# Restauration\\npsql -U widip -d wibot < backup.sql\\n```\\n\\nPour les backups automatiques, on peut utiliser un cron job ou un workflow n8n !","2025-12-25T07:42:18Z","salut","2025-12-26T17:16:30Z","Salut ! Comment puis-je vous aider aujourd'hui ?","ddadzax","2025-12-26T17:16:38Z","Bonjour ! Je ne suis pas sr de comprendre votre demande. Pourriez-vous prciser ou reformuler votre question ? Je suis l pour vous aider avec les questions techniques ou toute autre demande lie  WIDIP.","hey","2025-12-26T17:28:13Z","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["157","158","159","160","161","162","163","164","165","166","167","168"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D",{"message_id":1,"role":"115","content":"116","created_at":"117"},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"}]
159	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787161908,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787161909,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787161909,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787161912,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787161913,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787161915,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787161917,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76"],"Get Conversations",["77"],"Format Response",["78"],{"json":"79","pairedItem":"80"},{"json":"81","pairedItem":"82"},{"json":"81","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"85"},{"json":"87","pairedItem":"85"},{"json":"88"},{"json":"88","pairedItem":"89"},{"headers":"90","params":"91","query":"92","body":"93","webhookUrl":"94","executionMode":"95"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"96","title":"97","updated_at":"98","message_count":12},{"item":0},{"conversation_id":"99","title":"100","updated_at":"101","message_count":8},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14},{"success":true,"conversations":"105"},{"item":0},{"host":"106","x-real-ip":"107","x-forwarded-for":"107","x-forwarded-proto":"108","connection":"109","user-agent":"110","accept":"111","authorization":"112"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","550e8400-e29b-41d4-a716-446655440000","Test Rename","2025-12-26T22:12:19Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["113","114","115"],"localhost","172.20.0.1","http","close","curl/8.12.1","*/*","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIwODgsImV4cCI6MTc2Njg1ODQ4OH0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh",{"conversation_id":"96","title":"97","updated_at":"98","message_count":12},{"conversation_id":"99","title":"100","updated_at":"101","message_count":8},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14}]
196	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787295003,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787295003,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787295004,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787295007,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787295007,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787295009,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787295012,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
198	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787295580,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787295580,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787295580,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787295582,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787295583,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787295585,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787295588,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
200	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15"},"Get Messages",{},[],{},{},{},{"version":1,"establishedAt":1766787301108,"source":"16"},["17"],["18"],["19"],["20"],"webhook",{"startTime":1766787301108,"executionIndex":0,"source":"21","hints":"22","executionTime":0,"executionStatus":"23","data":"24"},{"startTime":1766787301109,"executionIndex":1,"source":"25","hints":"26","executionTime":2,"executionStatus":"23","data":"27"},{"startTime":1766787301111,"executionIndex":2,"source":"28","hints":"29","executionTime":1,"executionStatus":"23","data":"30"},{"startTime":1766787301112,"executionIndex":3,"source":"31","hints":"32","executionTime":2,"executionStatus":"23","data":"33"},[],[],"success",{"main":"34"},["35"],["36"],{"main":"37"},["38"],[],{"main":"39"},["40"],[],{"main":"41"},["42"],{"previousNode":"43"},{"message":"44","location":"45"},["46"],{"previousNode":"47"},["48","49"],{"previousNode":"50"},["51"],["52"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["53"],"Verify JWT",["54"],[],"JWT Valid?",[],{"json":"55","pairedItem":"56"},{"json":"57","pairedItem":"58"},{"json":"57","pairedItem":"59"},{"headers":"60","params":"61","query":"62","body":"63","webhookUrl":"64","executionMode":"65"},{"item":0},{"valid":true,"userId":1,"conversationId":"66"},{"item":0},{"item":0},{"host":"67","x-real-ip":"68","x-forwarded-for":"68","x-forwarded-proto":"69","connection":"70","sec-ch-ua-platform":"71","authorization":"72","user-agent":"73","accept":"74","sec-ch-ua":"75","dnt":"76","sec-ch-ua-mobile":"77","sec-fetch-site":"78","sec-fetch-mode":"79","sec-fetch-dest":"80","referer":"81","accept-encoding":"82","accept-language":"83","cookie":"84","sec-gpc":"76"},{},{"conversationId":"66"},{},"http://localhost:5678/webhook/wibot/messages","production","22855395-4ae7-414e-92ee-89797947b584","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D"]
91	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772111365,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772111366,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772111366,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766772111370,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766772111371,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766772111374,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766772111377,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76"],"Get Conversations",["77"],"Format Response",["78"],{"json":"79","pairedItem":"80"},{"json":"81","pairedItem":"82"},{"json":"81","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"85"},{"json":"87","pairedItem":"85"},{"json":"88"},{"json":"88","pairedItem":"89"},{"headers":"90","params":"91","query":"92","body":"93","webhookUrl":"94","executionMode":"95"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"96","title":"97","updated_at":"98","message_count":8},{"item":0},{"conversation_id":"99","title":"100","updated_at":"101","message_count":12},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14},{"success":true,"conversations":"105"},{"item":0},{"host":"106","x-real-ip":"107","x-forwarded-for":"107","x-forwarded-proto":"108","connection":"109","user-agent":"110","accept":"111","authorization":"112"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["113","114","115"],"localhost","172.20.0.1","http","close","curl/8.12.1","*/*","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIwODgsImV4cCI6MTc2Njg1ODQ4OH0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh",{"conversation_id":"96","title":"97","updated_at":"98","message_count":8},{"conversation_id":"99","title":"100","updated_at":"101","message_count":12},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14}]
95	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772148641,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772148642,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772148642,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766772148644,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766772148645,"executionIndex":3,"source":"35","hints":"36","executionTime":8,"executionStatus":"27","data":"37"},{"startTime":1766772148653,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766772148656,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76"],"Get Conversations",["77"],"Format Response",["78"],{"json":"79","pairedItem":"80"},{"json":"81","pairedItem":"82"},{"json":"81","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"85"},{"json":"87","pairedItem":"85"},{"json":"88"},{"json":"88","pairedItem":"89"},{"headers":"90","params":"91","query":"92","body":"93","webhookUrl":"94","executionMode":"95"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"96","title":"97","updated_at":"98","message_count":8},{"item":0},{"conversation_id":"99","title":"100","updated_at":"101","message_count":12},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14},{"success":true,"conversations":"105"},{"item":0},{"host":"106","x-real-ip":"107","x-forwarded-for":"107","x-forwarded-proto":"108","connection":"109","sec-ch-ua-platform":"110","authorization":"111","user-agent":"112","accept":"113","sec-ch-ua":"114","dnt":"115","sec-ch-ua-mobile":"116","sec-fetch-site":"117","sec-fetch-mode":"118","sec-fetch-dest":"119","referer":"120","accept-encoding":"121","accept-language":"122","cookie":"123","sec-gpc":"115","if-none-match":"124"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["125","126","127"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"1e4-oCAPe6gog56nbHcwBhya3J1Oeb8\\"",{"conversation_id":"96","title":"97","updated_at":"98","message_count":8},{"conversation_id":"99","title":"100","updated_at":"101","message_count":12},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14}]
97	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772148659,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772148659,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772148659,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772148662,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766772148663,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766772148666,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772148669,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14289,"quota_tokens":50000,"tokens_remaining":35711},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14289","50000","35711","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"52-bzbXh/RvEQA2yaKK8CkF6t5J3wM\\""]
98	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772148704,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772148704,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772148705,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772148708,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772148709,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766772148711,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766772148714,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
100	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772151527,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772151527,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772151528,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772151531,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766772151532,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766772151535,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772151538,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81","82","83","84","85","86","87"],"Get Messages",["88"],"Format Response",["89"],{"json":"90","pairedItem":"91"},{"json":"92","pairedItem":"93"},{"json":"92","pairedItem":"94"},{"json":"95","pairedItem":"96"},{"json":"97","pairedItem":"96"},{"json":"98","pairedItem":"96"},{"json":"99","pairedItem":"96"},{"json":"100","pairedItem":"96"},{"json":"101","pairedItem":"96"},{"json":"102","pairedItem":"96"},{"json":"103","pairedItem":"96"},{"json":"104","pairedItem":"96"},{"json":"105","pairedItem":"96"},{"json":"106","pairedItem":"96"},{"json":"107","pairedItem":"96"},{"json":"108","pairedItem":"96"},{"json":"109","pairedItem":"96"},{"json":"110"},{"json":"110","pairedItem":"111"},{"headers":"112","params":"113","query":"114","body":"115","webhookUrl":"116","executionMode":"117"},{"item":0},{"valid":true,"userId":1,"conversationId":"118"},{"item":0},{"item":0},{"message_id":7,"role":"119","content":"120","created_at":"121"},{"item":0},{"message_id":8,"role":"122","content":"123","created_at":"121"},{"message_id":9,"role":"119","content":"124","created_at":"125"},{"message_id":10,"role":"122","content":"126","created_at":"125"},{"message_id":11,"role":"119","content":"127","created_at":"128"},{"message_id":12,"role":"122","content":"129","created_at":"128"},{"message_id":13,"role":"119","content":"130","created_at":"131"},{"message_id":14,"role":"122","content":"132","created_at":"131"},{"message_id":15,"role":"119","content":"133","created_at":"134"},{"message_id":16,"role":"122","content":"135","created_at":"134"},{"message_id":17,"role":"119","content":"136","created_at":"137"},{"message_id":18,"role":"122","content":"138","created_at":"137"},{"message_id":19,"role":"119","content":"139","created_at":"140"},{"message_id":20,"role":"122","content":"141","created_at":"140"},{"success":true,"messages":"142"},{"item":0},{"host":"143","x-real-ip":"144","x-forwarded-for":"144","x-forwarded-proto":"145","connection":"146","sec-ch-ua-platform":"147","authorization":"148","user-agent":"149","accept":"150","sec-ch-ua":"151","dnt":"152","sec-ch-ua-mobile":"153","sec-fetch-site":"154","sec-fetch-mode":"155","sec-fetch-dest":"156","referer":"157","accept-encoding":"158","accept-language":"159","cookie":"160","sec-gpc":"152"},{},{"conversationId":"118"},{},"http://localhost:5678/webhook/wibot/messages","production","3cc2c8db-afef-4637-accc-31d259f53857","user","saluty","2025-12-26T16:43:14Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?","tout va bien ?","2025-12-26T16:43:24Z","Tout va trs bien, merci de demander ! Je suis prt  vous aider avec vos questions techniques. Comment puis-je vous assister aujourd'hui ?","genere un max de text je test la conso token","2025-12-26T16:43:40Z","Je comprends que vous souhaitez tester la consommation de tokens. Voici un texte plus long pour vous aider dans votre test :\\n\\n---\\n\\nChez WIDIP, nous sommes une entreprise franaise de services informatiques spcialise dans l'accompagnement des entreprises dans leur transformation numrique. Notre mission est de fournir des solutions technologiques innovantes et sur mesure pour rpondre aux besoins spcifiques de nos clients.\\n\\nNous offrons une large gamme de services, allant du dveloppement de logiciels sur mesure  l'infogrance, en passant par la cyberscurit et le cloud computing. Notre quipe d'experts est compose de professionnels qualifis et passionns, toujours prts  relever les dfis technologiques les plus complexes.\\n\\nChez WIDIP, nous croyons en l'importance de la collaboration et de la communication. Nous travaillons en troite collaboration avec nos clients pour comprendre leurs besoins et leurs attentes, et nous nous engageons  fournir des solutions qui non seulement rpondent  ces besoins, mais qui les dpassent.\\n\\nNous sommes galement convaincus que la formation et le dveloppement des comptences sont essentiels pour rester  la pointe de la technologie. C'est pourquoi nous investissons continuellement dans la formation de nos employs et dans l'acquisition de nouvelles comptences.\\n\\nEn choisissant WIDIP, vous bnficiez de notre expertise, de notre engagement et de notre passion pour la technologie. Nous sommes l pour vous accompagner  chaque tape de votre transformation numrique, en vous fournissant des solutions qui vous permettent de tirer le meilleur parti de la technologie.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nJ'espre que ce texte rpond  vos besoins pour le test de consommation de tokens. Si vous avez d'autres questions ou besoin de plus d'informations, n'hsitez pas  me le faire savoir !","encore","2025-12-26T16:43:51Z","Bien sr ! Voici un texte encore plus long pour votre test de consommation de tokens :\\n\\n---\\n\\nChez WIDIP, nous sommes une entreprise franaise de services informatiques spcialise dans l'accompagnement des entreprises dans leur transformation numrique. Notre mission est de fournir des solutions technologiques innovantes et sur mesure pour rpondre aux besoins spcifiques de nos clients.\\n\\nNous offrons une large gamme de services, allant du dveloppement de logiciels sur mesure  l'infogrance, en passant par la cyberscurit et le cloud computing. Notre quipe d'experts est compose de professionnels qualifis et passionns, toujours prts  relever les dfis technologiques les plus complexes.\\n\\nChez WIDIP, nous croyons en l'importance de la collaboration et de la communication. Nous travaillons en troite collaboration avec nos clients pour comprendre leurs besoins et leurs attentes, et nous nous engageons  fournir des solutions qui non seulement rpondent  ces besoins, mais qui les dpassent.\\n\\nNous sommes galement convaincus que la formation et le dveloppement des comptences sont essentiels pour rester  la pointe de la technologie. C'est pourquoi nous investissons continuellement dans la formation de nos employs et dans l'acquisition de nouvelles comptences.\\n\\nEn choisissant WIDIP, vous bnficiez de notre expertise, de notre engagement et de notre passion pour la technologie. Nous sommes l pour vous accompagner  chaque tape de votre transformation numrique, en vous fournissant des solutions qui vous permettent de tirer le meilleur parti de la technologie.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nVoici un exemple de code en Python pour illustrer nos comptences en dveloppement de logiciels :\\n\\n```python\\n# Exemple de code Python pour calculer la factorielle d'un nombre\\n\\ndef factorielle(n):\\n    if n == 0:\\n        return 1\\n    else:\\n        return n * factorielle(n - 1)\\n\\n# Exemple d'utilisation\\nnombre = 5\\nresultat = factorielle(nombre)\\nprint(f\\"La factorielle de {nombre} est {resultat}\\")\\n```\\n\\nChez WIDIP, nous utilisons des technologies de pointe pour dvelopper des solutions robustes et volutives. Nos dveloppeurs sont expriments dans divers langages de programmation, tels que Python, Java, C++, et bien d'autres.\\n\\nNous mettons galement un point d'honneur  suivre les meilleures pratiques en matire de dveloppement logiciel, telles que la programmation oriente objet, les tests unitaires, et la documentation du code. Nous croyons que ces pratiques sont essentielles pour garantir la qualit et la maintenabilit de nos solutions.\\n\\nEn plus du dveloppement de logiciels, nous offrons galement des services d'infogrance pour aider nos clients  grer leurs infrastructures informatiques. Nos experts en infogrance peuvent vous aider  optimiser vos systmes,  amliorer leur scurit, et  assurer leur disponibilit.\\n\\nNous proposons galement des services de cyberscurit pour protger vos donnes et vos systmes contre les cybermenaces. Nos experts en cyberscurit peuvent vous aider  mettre en place des mesures de scurit efficaces,  effectuer des audits de scurit, et  rpondre aux incidents de scurit.\\n\\nEnfin, nous offrons des services de cloud computing pour vous aider  tirer parti des avantages du cloud. Nos experts en cloud computing peuvent vous aider  migrer vers le cloud,  optimiser vos cots, et  tirer parti des fonctionnalits avances des plateformes cloud.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nJ'espre que ce texte supplmentaire rpond  vos besoins pour le test de consommation de tokens. Si vous avez d'autres questions ou besoin de plus d'informations, n'hsitez pas  me le faire savoir !","hey !","2025-12-26T16:44:56Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","je vais te donner un chiffre important tu vas le retenir , tu es pret ?","2025-12-26T16:45:18Z","Je suis prt ! Donnez-moi le chiffre important, et je le retiendrai pour vous.","1996","2025-12-26T16:45:24Z","J'ai retenu le chiffre **1996**. Comment puis-je vous aider avec cette information ?",["161","162","163","164","165","166","167","168","169","170","171","172","173","174"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D",{"message_id":7,"role":"119","content":"120","created_at":"121"},{"message_id":8,"role":"122","content":"123","created_at":"121"},{"message_id":9,"role":"119","content":"124","created_at":"125"},{"message_id":10,"role":"122","content":"126","created_at":"125"},{"message_id":11,"role":"119","content":"127","created_at":"128"},{"message_id":12,"role":"122","content":"129","created_at":"128"},{"message_id":13,"role":"119","content":"130","created_at":"131"},{"message_id":14,"role":"122","content":"132","created_at":"131"},{"message_id":15,"role":"119","content":"133","created_at":"134"},{"message_id":16,"role":"122","content":"135","created_at":"134"},{"message_id":17,"role":"119","content":"136","created_at":"137"},{"message_id":18,"role":"122","content":"138","created_at":"137"},{"message_id":19,"role":"119","content":"139","created_at":"140"},{"message_id":20,"role":"122","content":"141","created_at":"140"}]
102	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772157366,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772157366,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772157366,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766772157368,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766772157369,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766772157371,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772157373,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81","82","83","84","85"],"Get Messages",["86"],"Format Response",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"95","pairedItem":"94"},{"json":"96","pairedItem":"94"},{"json":"97","pairedItem":"94"},{"json":"98","pairedItem":"94"},{"json":"99","pairedItem":"94"},{"json":"100","pairedItem":"94"},{"json":"101","pairedItem":"94"},{"json":"102","pairedItem":"94"},{"json":"103","pairedItem":"94"},{"json":"104","pairedItem":"94"},{"json":"105","pairedItem":"94"},{"json":"106"},{"json":"106","pairedItem":"107"},{"headers":"108","params":"109","query":"110","body":"111","webhookUrl":"112","executionMode":"113"},{"item":0},{"valid":true,"userId":1,"conversationId":"114"},{"item":0},{"item":0},{"message_id":1,"role":"115","content":"116","created_at":"117"},{"item":0},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"},{"success":true,"messages":"138"},{"item":0},{"host":"139","x-real-ip":"140","x-forwarded-for":"140","x-forwarded-proto":"141","connection":"142","sec-ch-ua-platform":"143","authorization":"144","user-agent":"145","accept":"146","sec-ch-ua":"147","dnt":"148","sec-ch-ua-mobile":"149","sec-fetch-site":"150","sec-fetch-mode":"151","sec-fetch-dest":"152","referer":"153","accept-encoding":"154","accept-language":"155","cookie":"156","sec-gpc":"148","if-none-match":"157"},{},{"conversationId":"114"},{},"http://localhost:5678/webhook/wibot/messages","production","550e8400-e29b-41d4-a716-446655440000","user","Bonjour WIBOT !","2025-12-24T07:42:15Z","assistant","Bonjour ! Je suis WIBOT, l'assistant IA de WIDIP. Comment puis-je t'aider aujourd'hui ?","2025-12-24T07:42:17Z","Peux-tu m'expliquer comment fonctionne PostgreSQL ?","2025-12-24T07:43:15Z","PostgreSQL est un systeme de gestion de base de donnees relationnelle (SGBDR) open source tres puissant.\\n\\n**Caracteristiques principales :**\\n- Support complet SQL\\n- Transactions ACID\\n- Extensions (comme pgcrypto pour le chiffrement)\\n- Excellent pour les charges de travail complexes\\n\\nC'est ce qu'on utilise chez WIDIP pour stocker les donnees WIBOT !","2025-12-24T07:43:20Z","Et comment faire un backup ?","2025-12-25T07:42:15Z","Pour faire un backup PostgreSQL, tu as plusieurs options :\\n\\n```bash\\n# Backup complet (dump SQL)\\npg_dump -U widip -d wibot > backup.sql\\n\\n# Backup compresse\\npg_dump -U widip -d wibot | gzip > backup.sql.gz\\n\\n# Restauration\\npsql -U widip -d wibot < backup.sql\\n```\\n\\nPour les backups automatiques, on peut utiliser un cron job ou un workflow n8n !","2025-12-25T07:42:18Z","salut","2025-12-26T17:16:30Z","Salut ! Comment puis-je vous aider aujourd'hui ?","ddadzax","2025-12-26T17:16:38Z","Bonjour ! Je ne suis pas sr de comprendre votre demande. Pourriez-vous prciser ou reformuler votre question ? Je suis l pour vous aider avec les questions techniques ou toute autre demande lie  WIDIP.","hey","2025-12-26T17:28:13Z","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["158","159","160","161","162","163","164","165","166","167","168","169"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"8c1-97WpuvK54GrQdO+AMWrIvvfcngA\\"",{"message_id":1,"role":"115","content":"116","created_at":"117"},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"}]
160	{"id":"wibotrene9fa6a78","name":"WIBOT - Rename Conversation","active":true,"activeVersionId":"83bbe10b-0d6d-43e4-a909-0d330620e8bb","isArchived":false,"createdAt":"2025-12-26T22:11:38.806Z","updatedAt":"2025-12-26T22:11:38.806Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"PATCH","path":"wibot/conversation/rename","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-rename","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-rename-conversation"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\nconst conversationId = body.conversationId;\\nconst newTitle = body.title;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nif (!newTitle || newTitle.trim().length === 0) {\\n  return [{ json: { valid: false, error: 'title is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId, newTitle: newTitle.trim() } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"UPDATE conversations\\nSET title = '{{ $json.newTitle }}', updated_at = NOW()\\nWHERE conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND user_id = {{ $json.userId }}\\nRETURNING conversation_id::text, title, TO_CHAR(updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at;","options":{}},"id":"rename-conversation","name":"Rename Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: false,\\n      error: 'Conversation not found or access denied'\\n    }\\n  }];\\n}\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversation: {\\n      conversation_id: rows[0].json.conversation_id,\\n      title: rows[0].json.title,\\n      updated_at: rows[0].json.updated_at\\n    }\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Rename Conversation","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Rename Conversation":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Rename Conversation":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787172751,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787172752,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787172752,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766787172756,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787172757,"executionIndex":3,"source":"35","hints":"36","executionTime":10,"executionStatus":"27","data":"37"},{"startTime":1766787172767,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787172770,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Rename Conversation",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1,"conversationId":"93","newTitle":"94"},{"item":0},{"item":0},{"conversation_id":"93","title":"94","updated_at":"95"},{"item":0},{"success":true,"conversation":"96"},{"item":0},{"item":0},{"host":"97","x-real-ip":"98","x-forwarded-for":"98","x-forwarded-proto":"99","connection":"100","content-length":"101","user-agent":"102","accept":"103","authorization":"104","content-type":"105"},{},{},{"conversationId":"93","title":"94"},"http://localhost:5678/webhook/wibot/conversation/rename","production","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T22:12:52Z",{"conversation_id":"93","title":"94","updated_at":"95"},"localhost","172.20.0.1","http","close","88","curl/8.12.1","*/*","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIwODgsImV4cCI6MTc2Njg1ODQ4OH0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","application/json"]
161	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787204107,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787204108,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787204108,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787204111,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787204112,"executionIndex":3,"source":"35","hints":"36","executionTime":8,"executionStatus":"27","data":"37"},{"startTime":1766787204120,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787204123,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76"],"Get Conversations",["77"],"Format Response",["78"],{"json":"79","pairedItem":"80"},{"json":"81","pairedItem":"82"},{"json":"81","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"85"},{"json":"87","pairedItem":"85"},{"json":"88"},{"json":"88","pairedItem":"89"},{"headers":"90","params":"91","query":"92","body":"93","webhookUrl":"94","executionMode":"95"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"96","title":"97","updated_at":"98","message_count":12},{"item":0},{"conversation_id":"99","title":"100","updated_at":"101","message_count":8},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14},{"success":true,"conversations":"105"},{"item":0},{"host":"106","x-real-ip":"107","x-forwarded-for":"107","x-forwarded-proto":"108","connection":"109","sec-ch-ua-platform":"110","authorization":"111","user-agent":"112","accept":"113","sec-ch-ua":"114","dnt":"115","sec-ch-ua-mobile":"116","sec-fetch-site":"117","sec-fetch-mode":"118","sec-fetch-dest":"119","referer":"120","accept-encoding":"121","accept-language":"122","cookie":"123","sec-gpc":"115","if-none-match":"124"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T22:12:52Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["125","126","127"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2B9EB6Vv9JSfLnt66gvJisTRhOfWOOPFJLcCOp11f%2BDHYzp6nz0iaMcoXR3ki%2FLI146YKiCa000p05mZW2S3%2BCoZYtMIgliPvP%2BqcGz3S6etUKEpKUF5EGToLNFyV0mxNBAniiLiHzskQ%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"96","title":"97","updated_at":"98","message_count":12},{"conversation_id":"99","title":"100","updated_at":"101","message_count":8},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14}]
163	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787204158,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787204159,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787204159,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787204162,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787204162,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766787204166,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787204168,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76"],"Get Conversations",["77"],"Format Response",["78"],{"json":"79","pairedItem":"80"},{"json":"81","pairedItem":"82"},{"json":"81","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"85"},{"json":"87","pairedItem":"85"},{"json":"88"},{"json":"88","pairedItem":"89"},{"headers":"90","params":"91","query":"92","body":"93","webhookUrl":"94","executionMode":"95"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"96","title":"97","updated_at":"98","message_count":12},{"item":0},{"conversation_id":"99","title":"100","updated_at":"101","message_count":8},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14},{"success":true,"conversations":"105"},{"item":0},{"host":"106","x-real-ip":"107","x-forwarded-for":"107","x-forwarded-proto":"108","connection":"109","sec-ch-ua-platform":"110","authorization":"111","user-agent":"112","accept":"113","sec-ch-ua":"114","dnt":"115","sec-ch-ua-mobile":"116","sec-fetch-site":"117","sec-fetch-mode":"118","sec-fetch-dest":"119","referer":"120","accept-encoding":"121","accept-language":"122","cookie":"123","sec-gpc":"115","if-none-match":"124"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T22:12:52Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["125","126","127"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2B9EB6Vv9JSfLnt66gvJisTRhOfWOOPFJLcCOp11f%2BDHYzp6nz0iaMcoXR3ki%2FLI146YKiCa000p05mZW2S3%2BCoZYtMIgliPvP%2BqcGz3S6etUKEpKUF5EGToLNFyV0mxNBAniiLiHzskQ%3D%3D","W/\\"1e4-scycjjgkneqHKjDG8osyDEk09pk\\"",{"conversation_id":"96","title":"97","updated_at":"98","message_count":12},{"conversation_id":"99","title":"100","updated_at":"101","message_count":8},{"conversation_id":"102","title":"103","updated_at":"104","message_count":14}]
164	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787204178,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787204178,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787204179,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787204181,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787204182,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766787204185,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787204188,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81","82","83","84","85"],"Get Messages",["86"],"Format Response",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"95","pairedItem":"94"},{"json":"96","pairedItem":"94"},{"json":"97","pairedItem":"94"},{"json":"98","pairedItem":"94"},{"json":"99","pairedItem":"94"},{"json":"100","pairedItem":"94"},{"json":"101","pairedItem":"94"},{"json":"102","pairedItem":"94"},{"json":"103","pairedItem":"94"},{"json":"104","pairedItem":"94"},{"json":"105","pairedItem":"94"},{"json":"106"},{"json":"106","pairedItem":"107"},{"headers":"108","params":"109","query":"110","body":"111","webhookUrl":"112","executionMode":"113"},{"item":0},{"valid":true,"userId":1,"conversationId":"114"},{"item":0},{"item":0},{"message_id":1,"role":"115","content":"116","created_at":"117"},{"item":0},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"},{"success":true,"messages":"138"},{"item":0},{"host":"139","x-real-ip":"140","x-forwarded-for":"140","x-forwarded-proto":"141","connection":"142","sec-ch-ua-platform":"143","authorization":"144","user-agent":"145","accept":"146","sec-ch-ua":"147","dnt":"148","sec-ch-ua-mobile":"149","sec-fetch-site":"150","sec-fetch-mode":"151","sec-fetch-dest":"152","referer":"153","accept-encoding":"154","accept-language":"155","cookie":"156","sec-gpc":"148","if-none-match":"157"},{},{"conversationId":"114"},{},"http://localhost:5678/webhook/wibot/messages","production","550e8400-e29b-41d4-a716-446655440000","user","Bonjour WIBOT !","2025-12-24T07:42:15Z","assistant","Bonjour ! Je suis WIBOT, l'assistant IA de WIDIP. Comment puis-je t'aider aujourd'hui ?","2025-12-24T07:42:17Z","Peux-tu m'expliquer comment fonctionne PostgreSQL ?","2025-12-24T07:43:15Z","PostgreSQL est un systeme de gestion de base de donnees relationnelle (SGBDR) open source tres puissant.\\n\\n**Caracteristiques principales :**\\n- Support complet SQL\\n- Transactions ACID\\n- Extensions (comme pgcrypto pour le chiffrement)\\n- Excellent pour les charges de travail complexes\\n\\nC'est ce qu'on utilise chez WIDIP pour stocker les donnees WIBOT !","2025-12-24T07:43:20Z","Et comment faire un backup ?","2025-12-25T07:42:15Z","Pour faire un backup PostgreSQL, tu as plusieurs options :\\n\\n```bash\\n# Backup complet (dump SQL)\\npg_dump -U widip -d wibot > backup.sql\\n\\n# Backup compresse\\npg_dump -U widip -d wibot | gzip > backup.sql.gz\\n\\n# Restauration\\npsql -U widip -d wibot < backup.sql\\n```\\n\\nPour les backups automatiques, on peut utiliser un cron job ou un workflow n8n !","2025-12-25T07:42:18Z","salut","2025-12-26T17:16:30Z","Salut ! Comment puis-je vous aider aujourd'hui ?","ddadzax","2025-12-26T17:16:38Z","Bonjour ! Je ne suis pas sr de comprendre votre demande. Pourriez-vous prciser ou reformuler votre question ? Je suis l pour vous aider avec les questions techniques ou toute autre demande lie  WIDIP.","hey","2025-12-26T17:28:13Z","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["158","159","160","161","162","163","164","165","166","167","168","169"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2B9EB6Vv9JSfLnt66gvJisTRhOfWOOPFJLcCOp11f%2BDHYzp6nz0iaMcoXR3ki%2FLI146YKiCa000p05mZW2S3%2BCoZYtMIgliPvP%2BqcGz3S6etUKEpKUF5EGToLNFyV0mxNBAniiLiHzskQ%3D%3D","W/\\"8c1-97WpuvK54GrQdO+AMWrIvvfcngA\\"",{"message_id":1,"role":"115","content":"116","created_at":"117"},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"}]
165	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787204190,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787204191,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787204191,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787204194,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787204194,"executionIndex":3,"source":"35","hints":"36","executionTime":4,"executionStatus":"27","data":"37"},{"startTime":1766787204198,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787204200,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2B9EB6Vv9JSfLnt66gvJisTRhOfWOOPFJLcCOp11f%2BDHYzp6nz0iaMcoXR3ki%2FLI146YKiCa000p05mZW2S3%2BCoZYtMIgliPvP%2BqcGz3S6etUKEpKUF5EGToLNFyV0mxNBAniiLiHzskQ%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
201	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787525387,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787525387,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787525387,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766787525391,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787525392,"executionIndex":3,"source":"35","hints":"36","executionTime":16,"executionStatus":"27","data":"37"},{"startTime":1766787525408,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787525411,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Conversations",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"94","title":"95","updated_at":"96","message_count":2},{"item":0},{"conversation_id":"97","title":"98","updated_at":"99","message_count":8},{"success":true,"conversations":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","b88ac204-9035-4930-a37c-463f8b32af0c","hey","2025-12-26T22:14:50Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","ABC","2025-12-26T22:14:44Z",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"d0-3cHl/OTB+ULpColxOx53Op4UhNU\\"",{"conversation_id":"94","title":"95","updated_at":"96","message_count":2},{"conversation_id":"97","title":"98","updated_at":"99","message_count":8}]
203	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787525447,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787525447,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787525448,"executionIndex":1,"source":"29","hints":"30","executionTime":5,"executionStatus":"27","data":"31"},{"startTime":1766787525453,"executionIndex":2,"source":"32","hints":"33","executionTime":2,"executionStatus":"27","data":"34"},{"startTime":1766787525455,"executionIndex":3,"source":"35","hints":"36","executionTime":12,"executionStatus":"27","data":"37"},{"startTime":1766787525467,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787525470,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14367,"quota_tokens":50000,"tokens_remaining":35633},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14367","50000","35633","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"52-0KWVwhG9LdRVw88s2izPAi9Mbw0\\""]
101	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772153491,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772153491,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772153491,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772153494,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772153494,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766772153497,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766772153500,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
103	{"id":"NynEDh5rxUQL7788","name":"WIBOT - Chat Main","active":true,"activeVersionId":"7924c06c-c403-4b11-a377-81bbcf664b88","isArchived":false,"createdAt":"2025-12-26T17:23:30.579Z","updatedAt":"2025-12-26T17:24:09.477Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"POST","path":"wibot/chat","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"fa8ec4be-706d-4001-ad6c-fcb0f99736af","name":"Webhook Chat","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1328,112],"webhookId":"wibot-chat"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  // Decode base64url payload\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  // Check expiration\\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ \\n    json: { \\n      valid: true, \\n      user: decoded,\\n      userId: decoded.userId,\\n      conversationId: body.conversation_id,\\n      message: body.message,\\n      sessionId: `${decoded.userId}_${body.conversation_id}`\\n    } \\n  }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"0004c18c-eca3-41dc-997e-590e7fd79356","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1104,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"bfcef1a4-73b6-486c-aab3-5977d98eb079","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-880,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"cba8bdb1-b75a-4f70-aa59-b7a0eda05fa5","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-656,352]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"c95bf25e-6737-45ac-a7bb-499bc0b7c7dc","name":"Check Quota","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-656,112],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\nlet usedTokens = 0;\\nlet quotaTokens = 50000;\\n\\nif (rows && rows.length > 0 && rows[0].json.used_tokens !== undefined) {\\n  usedTokens = parseInt(rows[0].json.used_tokens) || 0;\\n  quotaTokens = parseInt(rows[0].json.quota_tokens) || 50000;\\n}\\n\\nconst quotaExceeded = usedTokens >= quotaTokens;\\n\\nreturn [{\\n  json: {\\n    ...jwtData,\\n    usedTokens,\\n    quotaTokens,\\n    quotaExceeded\\n  }\\n}];","notice":""},"id":"4a1c034d-d824-4eec-8f7d-30e703f1deb5","name":"Prepare Quota","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-quota-ok","leftValue":"={{ $json.quotaExceeded }}","rightValue":false,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"19cfec26-6daa-4bf5-a4dd-9c46bc7e775a","name":"Quota OK?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Quota tokens mensuel depass\\\\u00e9. Limite : 50,000 tokens/mois.\\",\\n  \\"code\\": \\"QUOTA_EXCEEDED\\"\\n}","options":{"responseCode":429,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"664cd109-b947-42ee-b8c1-42b595e37b31","name":"Quota Exceeded","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"aiAgentStarterCallout":"","preBuiltAgentsCallout":"","agent":"toolsAgent","promptType":"define","text":"={{ $json.message }}","hasOutputParser":false,"options":{"systemMessage":"Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel"},"credentials":""},"id":"9e04ca0c-5683-4a62-828d-5c057cf62605","name":"AI Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[0,0]},{"parameters":{"notice":"","model":"mistral-small-latest","options":{"maxTokens":2048,"temperature":0.7}},"id":"1668e2c3-0095-4fbb-877e-e60722e8d24b","name":"Mistral Cloud Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatMistralCloud","typeVersion":1,"position":[-208,304],"credentials":{"mistralCloudApi":{"id":"b9hl3JA2taufCYVr","name":"Mistral API"}}},{"parameters":{"notice":"","sessionIdType":"customKey","sessionKey":"={{ $('Verify JWT').first().json.sessionId }}","tableName":"n8n_chat_histories","contextWindowLength":10},"id":"cffc5919-5412-4308-9671-843b8d2d035f","name":"Postgres Chat Memory","type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[0,304],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const agentResponse = $input.first().json.output;\\nconst jwtData = $('Prepare Quota').first().json;\\n\\n// Estimation tokens (environ 4 chars par token)\\nconst messageTokens = Math.ceil(jwtData.message.length / 4);\\nconst responseTokens = Math.ceil(agentResponse.length / 4);\\nconst tokensUsed = messageTokens + responseTokens;\\n\\nconst newUsedTokens = jwtData.usedTokens + tokensUsed;\\nconst tokensRemaining = jwtData.quotaTokens - newUsedTokens;\\n\\nreturn [{\\n  json: {\\n    userId: jwtData.userId,\\n    conversationId: jwtData.conversationId,\\n    message: jwtData.message,\\n    response: agentResponse,\\n    tokensUsed,\\n    newUsedTokens,\\n    tokensRemaining: Math.max(0, tokensRemaining),\\n    quotaTokens: jwtData.quotaTokens\\n  }\\n}];","notice":""},"id":"b2c9d072-5736-4839-9f3f-8c63b5fe8801","name":"Prepare Save","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO conversations (conversation_id, user_id, title, created_at, updated_at)\\nVALUES (\\n  '{{ $json.conversationId }}'::uuid,\\n  {{ $json.userId }},\\n  '{{ $json.message.substring(0, 50).replace(/'/g, \\"''\\") }}',\\n  NOW(),\\n  NOW()\\n)\\nON CONFLICT (conversation_id)\\nDO UPDATE SET updated_at = NOW();","options":{}},"id":"6c1ace5b-ec88-44b5-a9b5-182a4957e5c9","name":"UPSERT Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[448,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'user',\\n  '{{ $('Prepare Save').first().json.message.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.message.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"19bf528f-0b9d-44d5-b768-58e63ddee026","name":"INSERT User Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[672,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'assistant',\\n  '{{ $('Prepare Save').first().json.response.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.response.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"22a33991-a55c-428d-b673-3b0eef3b8a1a","name":"INSERT Assistant Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[880,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO user_token_usage (user_id, month, used_tokens, quota_tokens)\\nVALUES (\\n  {{ $('Prepare Save').first().json.userId }},\\n  DATE_TRUNC('month', CURRENT_DATE),\\n  {{ $('Prepare Save').first().json.tokensUsed }},\\n  50000\\n)\\nON CONFLICT (user_id, month)\\nDO UPDATE SET used_tokens = user_token_usage.used_tokens + {{ $('Prepare Save').first().json.tokensUsed }};","options":{}},"id":"344a1edc-fdf7-4ba0-a506-10b00624a0ac","name":"UPDATE Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[1104,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const data = $('Prepare Save').first().json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    response: data.response,\\n    tokens_used: data.tokensUsed,\\n    tokens_remaining: data.tokensRemaining,\\n    conversation_id: data.conversationId\\n  }\\n}];","notice":""},"id":"d3257586-4db1-4ccf-8b88-2ec7203c06ee","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1328,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"bfca5f39-23d9-494d-9b4e-767225255749","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1552,0]}],"connections":{"Webhook Chat":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Check Quota","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Check Quota":{"main":[[{"node":"Prepare Quota","type":"main","index":0}]]},"Prepare Quota":{"main":[[{"node":"Quota OK?","type":"main","index":0}]]},"Quota OK?":{"main":[[{"node":"AI Agent","type":"main","index":0}],[{"node":"Quota Exceeded","type":"main","index":0}]]},"Mistral Cloud Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Postgres Chat Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"AI Agent":{"main":[[{"node":"Prepare Save","type":"main","index":0}]]},"Prepare Save":{"main":[[{"node":"UPSERT Conversation","type":"main","index":0}]]},"UPSERT Conversation":{"main":[[{"node":"INSERT User Message","type":"main","index":0}]]},"INSERT User Message":{"main":[[{"node":"INSERT Assistant Message","type":"main","index":0}]]},"INSERT Assistant Message":{"main":[[{"node":"UPDATE Token Usage","type":"main","index":0}]]},"UPDATE Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook Chat":"12","Verify JWT":"13","JWT Valid?":"14","Check Quota":"15","Prepare Quota":"16","Quota OK?":"17","Postgres Chat Memory":"18","Mistral Cloud Chat Model":"19","AI Agent":"20","Prepare Save":"21","UPSERT Conversation":"22","INSERT User Message":"23","INSERT Assistant Message":"24","UPDATE Token Usage":"25","Format Response":"26","Success":"27"},"Success",{},[],{"Postgres Chat Memory":"28","Mistral Cloud Chat Model":"29"},{},{},{"version":1,"establishedAt":1766772174692,"source":"30"},["31"],["32"],["33"],["34"],["35"],["36"],["37","38"],["39"],["40"],["41"],["42"],["43"],["44"],["45"],["46"],["47"],["48","49"],["50"],"webhook",{"startTime":1766772174692,"executionIndex":0,"source":"51","hints":"52","executionTime":0,"executionStatus":"53","data":"54"},{"startTime":1766772174692,"executionIndex":1,"source":"55","hints":"56","executionTime":3,"executionStatus":"53","data":"57"},{"startTime":1766772174695,"executionIndex":2,"source":"58","hints":"59","executionTime":1,"executionStatus":"53","data":"60"},{"startTime":1766772174696,"executionIndex":3,"source":"61","hints":"62","executionTime":8,"executionStatus":"53","data":"63"},{"startTime":1766772174704,"executionIndex":4,"source":"64","hints":"65","executionTime":3,"executionStatus":"53","data":"66"},{"startTime":1766772174707,"executionIndex":5,"source":"67","hints":"68","executionTime":3,"executionStatus":"53","data":"69"},{"startTime":1766772174742,"executionTime":7,"executionIndex":7,"executionStatus":"53","source":"70","data":"71","inputOverride":"72","metadata":"73"},{"startTime":1766772175899,"executionTime":6,"executionIndex":9,"executionStatus":"53","source":"74","data":"75","inputOverride":"76","metadata":"77"},{"startTime":1766772175151,"executionTime":738,"executionIndex":8,"executionStatus":"53","source":"78","data":"79","inputOverride":"80","metadata":"81"},{"startTime":1766772174710,"executionIndex":6,"source":"82","hints":"83","executionTime":1195,"executionStatus":"53","data":"84"},{"startTime":1766772175905,"executionIndex":10,"source":"85","hints":"86","executionTime":3,"executionStatus":"53","data":"87"},{"startTime":1766772175908,"executionIndex":11,"source":"88","hints":"89","executionTime":8,"executionStatus":"53","data":"90"},{"startTime":1766772175916,"executionIndex":12,"source":"91","hints":"92","executionTime":16,"executionStatus":"53","data":"93"},{"startTime":1766772175932,"executionIndex":13,"source":"94","hints":"95","executionTime":9,"executionStatus":"53","data":"96"},{"startTime":1766772175941,"executionIndex":14,"source":"97","hints":"98","executionTime":5,"executionStatus":"53","data":"99"},{"startTime":1766772175946,"executionIndex":15,"source":"100","hints":"101","executionTime":3,"executionStatus":"53","data":"102"},{"startTime":1766772175949,"executionIndex":16,"source":"103","hints":"104","executionTime":1,"executionStatus":"53","data":"105"},{"subRun":"106"},{"subRun":"107"},{"subRun":"108"},[],[],"success",{"main":"109"},["110"],["111"],{"main":"112"},["113"],[],{"main":"114"},["115"],[],{"main":"116"},["117"],["118"],{"main":"119"},["120"],[],{"main":"121"},["122"],{"ai_memory":"123"},{"ai_memory":"124"},{"subRun":"106"},["125"],{"ai_memory":"126"},{"ai_memory":"127"},{"subRun":"107"},["128"],{"ai_languageModel":"129"},{"ai_languageModel":"130"},{"subRun":"108"},["131"],[],{"main":"132"},["133"],["134"],{"main":"135"},["136"],[],{"main":"137"},["138"],[],{"main":"139"},["140"],[],{"main":"141"},["142"],[],{"main":"143"},["144"],["145"],{"main":"146"},["147"],[],{"main":"148"},["149"],["150"],["151"],["152"],{"previousNode":"153"},{"message":"154","location":"155"},["156"],{"previousNode":"157"},["158","159"],{"previousNode":"160"},["161"],{"previousNode":"162"},{"message":"154","location":"155"},["163"],{"previousNode":"164"},["165","166"],{"previousNode":"167","previousNodeRun":0},["168"],["169"],{"previousNode":"167","previousNodeRun":0},["170"],["171"],{"previousNode":"167","previousNodeRun":0},["172"],["173"],{"previousNode":"174"},["175"],{"previousNode":"167"},{"message":"154","location":"155"},["176"],{"previousNode":"177"},["178"],{"previousNode":"179"},["180"],{"previousNode":"181"},["182"],{"previousNode":"183"},["184"],{"previousNode":"185"},{"message":"154","location":"155"},["186"],{"previousNode":"187"},["188"],{"node":"189","runIndex":0},{"node":"189","runIndex":1},{"node":"190","runIndex":0},["191"],"Webhook Chat","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["192"],"Verify JWT",["193"],[],"JWT Valid?",["194"],"Check Quota",["195"],"Prepare Quota",["196"],[],"AI Agent",["197"],["198"],["199"],["200"],["201"],["202"],"Quota OK?",["203"],["204"],"Prepare Save",["205"],"UPSERT Conversation",["206"],"INSERT User Message",["207"],"INSERT Assistant Message",["208"],"UPDATE Token Usage",["209"],"Format Response",["210"],"Postgres Chat Memory","Mistral Cloud Chat Model",{"json":"211","pairedItem":"212"},{"json":"213","pairedItem":"214"},{"json":"213","pairedItem":"215"},{"json":"216","pairedItem":"217"},{"json":"218","pairedItem":"219"},{"json":"218","pairedItem":"220"},{"json":"221"},{"json":"222"},{"json":"223"},{"json":"224"},{"json":"225"},{"json":"226"},{"json":"227","pairedItem":"228"},{"json":"229","pairedItem":"230"},{"json":"231","pairedItem":"232"},{"json":"233","pairedItem":"234"},{"json":"235","pairedItem":"236"},{"json":"237","pairedItem":"238"},{"json":"239","pairedItem":"240"},{"json":"239","pairedItem":"241"},{"headers":"242","params":"243","query":"244","body":"245","webhookUrl":"246","executionMode":"247"},{"item":0},{"valid":true,"user":"248","userId":1,"conversationId":"249","message":"250","sessionId":"251"},{"item":0},{"item":0},{"used_tokens":"252","quota_tokens":"253"},{"item":0},{"valid":true,"user":"254","userId":1,"conversationId":"249","message":"250","sessionId":"251","usedTokens":14289,"quotaTokens":50000,"quotaExceeded":false},{"item":0},{"item":0},{"action":"255","chatHistory":"256"},{"action":"255","values":"257"},{"action":"258","chatHistory":"259"},{"action":"258","input":"260","output":"261"},{"response":"262","tokenUsage":"263"},{"messages":"264","estimatedTokens":114,"options":"265"},{"output":"266"},{"item":0},{"userId":1,"conversationId":"249","message":"250","response":"266","tokensUsed":64,"newUsedTokens":14353,"tokensRemaining":35647,"quotaTokens":50000},{"item":0},{"success":true},["267"],{"success":true},["268"],{"success":true},["269"],{"success":true},["270"],{"success":true,"response":"266","tokens_used":64,"tokens_remaining":35647,"conversation_id":"249"},{"item":0},{"item":0},{"host":"271","x-real-ip":"272","x-forwarded-for":"272","x-forwarded-proto":"273","connection":"274","content-length":"275","sec-ch-ua-platform":"276","authorization":"277","sec-ch-ua":"278","sec-ch-ua-mobile":"279","user-agent":"280","accept":"281","dnt":"282","content-type":"283","origin":"284","sec-fetch-site":"285","sec-fetch-mode":"286","sec-fetch-dest":"287","referer":"288","accept-encoding":"289","accept-language":"290","cookie":"291","sec-gpc":"282"},{},{},{"conversation_id":"249","message":"250"},"http://localhost:5678/webhook/wibot/chat","production",{"userId":1,"username":"292","role":"293","iat":1766770086,"exp":1766856486},"419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","1_419ba4c9-f14d-4af2-83b3-ba2399c17ffb","14289","50000",{"userId":1,"username":"292","role":"293","iat":1766770086,"exp":1766856486},"loadMemoryVariables",[],{"input":"250","system_message":"294","formatting_instructions":"295"},"saveContext",["296","297"],{"input":"250","system_message":"294","formatting_instructions":"295"},{"input":"250","system_message":"294","formatting_instructions":"295","chat_history":"256","output":"266"},{"generations":"298"},{"completionTokens":56,"promptTokens":116,"totalTokens":172},["299"],{"mistral_api_key":"300","model":"301","max_tokens":2048,"temperature":0.7,"metadata":"302"},"Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",{"item":0},{"item":0},{"item":0},{"item":0},"localhost","172.20.0.1","http","close","86","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","?0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","1","application/json","http://localhost:5173","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","khora","admin","Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel","IMPORTANT: For your response to user, you MUST use the `format_final_json_response` tool with your complete answer formatted according to the required schema. Do not attempt to format the JSON manually - always use this tool. Your response will be rejected if it is not properly formatted through this tool. Only use this tool once you are ready to provide your final answer.",{"lc":1,"type":"303","id":"304","kwargs":"305"},{"lc":1,"type":"303","id":"306","kwargs":"307"},["308"],"System: Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel\\nHuman: tu es tristes ?",{"lc":1,"type":"309","id":"310"},"mistral-small-latest",{},"constructor",["311","312","313"],{"content":"250","additional_kwargs":"314","response_metadata":"315"},["311","312","316"],{"content":"266","tool_calls":"317","additional_kwargs":"318","response_metadata":"319","invalid_tool_calls":"320"},["321"],"secret",["322"],"langchain_core","messages","HumanMessage",{},{},"AIMessage",[],{},{},[],{"text":"266","generationInfo":"323"},"MISTRAL_API_KEY",{"prompt":0,"completion":0}]
104	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772178141,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772178142,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772178142,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766772178146,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772178146,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766772178149,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772178152,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
105	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772180856,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772180856,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772180856,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772180860,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772180860,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766772180863,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766772180866,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81","82","83","84","85"],"Get Messages",["86"],"Format Response",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"95","pairedItem":"94"},{"json":"96","pairedItem":"94"},{"json":"97","pairedItem":"94"},{"json":"98","pairedItem":"94"},{"json":"99","pairedItem":"94"},{"json":"100","pairedItem":"94"},{"json":"101","pairedItem":"94"},{"json":"102","pairedItem":"94"},{"json":"103","pairedItem":"94"},{"json":"104","pairedItem":"94"},{"json":"105","pairedItem":"94"},{"json":"106"},{"json":"106","pairedItem":"107"},{"headers":"108","params":"109","query":"110","body":"111","webhookUrl":"112","executionMode":"113"},{"item":0},{"valid":true,"userId":1,"conversationId":"114"},{"item":0},{"item":0},{"message_id":1,"role":"115","content":"116","created_at":"117"},{"item":0},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"},{"success":true,"messages":"138"},{"item":0},{"host":"139","x-real-ip":"140","x-forwarded-for":"140","x-forwarded-proto":"141","connection":"142","sec-ch-ua-platform":"143","authorization":"144","user-agent":"145","accept":"146","sec-ch-ua":"147","dnt":"148","sec-ch-ua-mobile":"149","sec-fetch-site":"150","sec-fetch-mode":"151","sec-fetch-dest":"152","referer":"153","accept-encoding":"154","accept-language":"155","cookie":"156","sec-gpc":"148","if-none-match":"157"},{},{"conversationId":"114"},{},"http://localhost:5678/webhook/wibot/messages","production","550e8400-e29b-41d4-a716-446655440000","user","Bonjour WIBOT !","2025-12-24T07:42:15Z","assistant","Bonjour ! Je suis WIBOT, l'assistant IA de WIDIP. Comment puis-je t'aider aujourd'hui ?","2025-12-24T07:42:17Z","Peux-tu m'expliquer comment fonctionne PostgreSQL ?","2025-12-24T07:43:15Z","PostgreSQL est un systeme de gestion de base de donnees relationnelle (SGBDR) open source tres puissant.\\n\\n**Caracteristiques principales :**\\n- Support complet SQL\\n- Transactions ACID\\n- Extensions (comme pgcrypto pour le chiffrement)\\n- Excellent pour les charges de travail complexes\\n\\nC'est ce qu'on utilise chez WIDIP pour stocker les donnees WIBOT !","2025-12-24T07:43:20Z","Et comment faire un backup ?","2025-12-25T07:42:15Z","Pour faire un backup PostgreSQL, tu as plusieurs options :\\n\\n```bash\\n# Backup complet (dump SQL)\\npg_dump -U widip -d wibot > backup.sql\\n\\n# Backup compresse\\npg_dump -U widip -d wibot | gzip > backup.sql.gz\\n\\n# Restauration\\npsql -U widip -d wibot < backup.sql\\n```\\n\\nPour les backups automatiques, on peut utiliser un cron job ou un workflow n8n !","2025-12-25T07:42:18Z","salut","2025-12-26T17:16:30Z","Salut ! Comment puis-je vous aider aujourd'hui ?","ddadzax","2025-12-26T17:16:38Z","Bonjour ! Je ne suis pas sr de comprendre votre demande. Pourriez-vous prciser ou reformuler votre question ? Je suis l pour vous aider avec les questions techniques ou toute autre demande lie  WIDIP.","hey","2025-12-26T17:28:13Z","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["158","159","160","161","162","163","164","165","166","167","168","169"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"8c1-97WpuvK54GrQdO+AMWrIvvfcngA\\"",{"message_id":1,"role":"115","content":"116","created_at":"117"},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"}]
106	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772182951,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772182951,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772182951,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772182955,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772182955,"executionIndex":3,"source":"35","hints":"36","executionTime":4,"executionStatus":"27","data":"37"},{"startTime":1766772182959,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772182961,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["119","120"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzAwODYsImV4cCI6MTc2Njg1NjQ4Nn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
107	{"id":"zZSHB9BHjR30ThPP","name":"WIBOT - Auth Login","active":true,"activeVersionId":"1e31f7d7-5e68-47eb-863c-91d1ec7b0819","isArchived":false,"createdAt":"2025-12-26T17:23:18.804Z","updatedAt":"2025-12-26T17:24:10.395Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"POST","path":"auth/login","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c8898033-10a2-436a-915d-a01f108756c6","name":"Webhook Login","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1104,208],"webhookId":"auth-login"},{"parameters":{"resource":"database","operation":"select","schema":"public","table":"users","returnAll":false,"limit":1,"where":{"values":[{"column":"username","condition":"equal","value":"={{ $json.body.username }}"},{"column":"is_active","condition":"equal","value":"true"}]},"combineConditions":"AND","sort":{},"options":{}},"id":"a2a158de-b676-468b-a23e-18466966d674","name":"Get User","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-880,208],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-user-exists","leftValue":"={{ $json.user_id }}","rightValue":"","operator":{"type":"exists","operation":"exists"}}],"combinator":"and"},"options":{}},"id":"dd3f022d-09ed-47fe-ba59-73ae33165762","name":"User Exists?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-656,208]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const inputPassword = $('Webhook Login').first().json.body.password;\\nconst storedHash = $input.first().json.password_hash;\\nconst user = $input.first().json;\\n\\n// Comparaison simple du mot de passe\\nconst isValid = (inputPassword === storedHash);\\n\\nreturn [{ json: { isValid, user } }];","notice":""},"id":"bb41f913-1c3c-4afb-88a4-c46324c2b9ec","name":"Verify Password","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-password-valid","leftValue":"={{ $json.isValid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"73c0896e-95a9-4677-86c9-3398d7856fad","name":"Password Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const user = $input.first().json.user;\\n\\n// Fonction base64 encode compatible n8n\\nfunction toBase64(str) {\\n  return Buffer.from(str).toString('base64').replace(/=/g, '').replace(/\\\\+/g, '-').replace(/\\\\//g, '_');\\n}\\n\\nconst header = toBase64(JSON.stringify({ alg: 'HS256', typ: 'JWT' }));\\n\\nconst payload = toBase64(JSON.stringify({\\n  userId: user.user_id,\\n  username: user.username,\\n  role: user.role,\\n  iat: Math.floor(Date.now() / 1000),\\n  exp: Math.floor(Date.now() / 1000) + (24 * 60 * 60)\\n}));\\n\\n// Signature simplifie\\nconst signature = toBase64(header + payload + 'wibot_secret').substring(0, 43);\\n\\nconst token = `${header}.${payload}.${signature}`;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    token,\\n    user: {\\n      id: user.user_id,\\n      username: user.username,\\n      role: user.role\\n    }\\n  }\\n}];","notice":""},"id":"56756190-1aeb-4413-946a-e2a7b4907e8e","name":"Generate JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[0,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"5e5d60cc-5fee-4f26-b838-71d66c7a885a","name":"Success Response","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Invalid credentials\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"e90d3bbc-527a-4b00-b1dc-9bb17afa5966","name":"Invalid Password","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,208]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"User not found\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"8423d2d4-a607-49d0-a6d7-8730cf78fd86","name":"User Not Found","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-448,304]}],"connections":{"Webhook Login":{"main":[[{"node":"Get User","type":"main","index":0}]]},"Get User":{"main":[[{"node":"User Exists?","type":"main","index":0}]]},"User Exists?":{"main":[[{"node":"Verify Password","type":"main","index":0}],[{"node":"User Not Found","type":"main","index":0}]]},"Verify Password":{"main":[[{"node":"Password Valid?","type":"main","index":0}]]},"Password Valid?":{"main":[[{"node":"Generate JWT","type":"main","index":0}],[{"node":"Invalid Password","type":"main","index":0}]]},"Generate JWT":{"main":[[{"node":"Success Response","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook Login":"12","Get User":"13","User Exists?":"14","Verify Password":"15","Password Valid?":"16","Generate JWT":"17","Success Response":"18"},"Success Response",{},[],{},{},{},{"version":1,"establishedAt":1766772216177,"source":"19"},["20"],["21"],["22"],["23"],["24"],["25"],["26"],"webhook",{"startTime":1766772216177,"executionIndex":0,"source":"27","hints":"28","executionTime":0,"executionStatus":"29","data":"30"},{"startTime":1766772216178,"executionIndex":1,"source":"31","hints":"32","executionTime":7,"executionStatus":"29","data":"33"},{"startTime":1766772216185,"executionIndex":2,"source":"34","hints":"35","executionTime":1,"executionStatus":"29","data":"36"},{"startTime":1766772216186,"executionIndex":3,"source":"37","hints":"38","executionTime":2,"executionStatus":"29","data":"39"},{"startTime":1766772216188,"executionIndex":4,"source":"40","hints":"41","executionTime":1,"executionStatus":"29","data":"42"},{"startTime":1766772216189,"executionIndex":5,"source":"43","hints":"44","executionTime":4,"executionStatus":"29","data":"45"},{"startTime":1766772216194,"executionIndex":6,"source":"46","hints":"47","executionTime":1,"executionStatus":"29","data":"48"},[],[],"success",{"main":"49"},["50"],[],{"main":"51"},["52"],[],{"main":"53"},["54"],["55"],{"main":"56"},["57"],[],{"main":"58"},["59"],["60"],{"main":"61"},["62"],[],{"main":"63"},["64"],{"previousNode":"65"},["66"],{"previousNode":"67"},["68","69"],{"previousNode":"70"},{"message":"71","location":"72"},["73"],{"previousNode":"74"},["75","76"],{"previousNode":"77"},{"message":"71","location":"72"},["78"],{"previousNode":"79"},["80"],["81"],"Webhook Login",["82"],"Get User",["83"],[],"User Exists?","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["84"],"Verify Password",["85"],[],"Password Valid?",["86"],"Generate JWT",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"93","pairedItem":"95"},{"json":"96","pairedItem":"97"},{"json":"96","pairedItem":"98"},{"headers":"99","params":"100","query":"101","body":"102","webhookUrl":"103","executionMode":"104"},{"item":0},{"user_id":1,"username":"105","password_hash":"106","email":"107","role":"108","created_at":"109","is_active":true},{"item":0},{"item":0},{"isValid":true,"user":"110"},{"item":0},{"item":0},{"success":true,"token":"111","user":"112"},{"item":0},{"item":0},{"host":"113","x-real-ip":"114","x-forwarded-for":"114","x-forwarded-proto":"115","connection":"116","content-length":"117","sec-ch-ua-platform":"118","user-agent":"119","accept":"120","sec-ch-ua":"121","content-type":"122","dnt":"123","sec-ch-ua-mobile":"124","origin":"125","sec-fetch-site":"126","sec-fetch-mode":"127","sec-fetch-dest":"128","referer":"129","accept-encoding":"130","accept-language":"131","cookie":"132","sec-gpc":"123"},{},{},{"username":"105","password":"106"},"http://localhost:5678/webhook/auth/login","production","khora","test123","khora@widip.fr","admin","2025-12-26T06:42:15.244Z",{"user_id":1,"username":"105","password_hash":"106","email":"107","role":"108","created_at":"109","is_active":true},"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh",{"id":1,"username":"105","role":"108"},"localhost","172.20.0.1","http","close","41","\\"Windows\\"","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","application/json","1","?0","http://localhost:5173","same-origin","cors","empty","http://localhost:5173/login","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D"]
109	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772216249,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772216249,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766772216250,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772216254,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766772216255,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766772216258,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772216261,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"52-bzbXh/RvEQA2yaKK8CkF6t5J3wM\\""]
108	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772216243,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772216243,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766772216244,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766772216248,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772216248,"executionIndex":3,"source":"35","hints":"36","executionTime":23,"executionStatus":"27","data":"37"},{"startTime":1766772216271,"executionIndex":4,"source":"38","hints":"39","executionTime":4,"executionStatus":"27","data":"40"},{"startTime":1766772216275,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"1e4-oCAPe6gog56nbHcwBhya3J1Oeb8\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
110	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772216297,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772216297,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772216297,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772216300,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772216300,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766772216303,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766772216306,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
111	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772216315,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772216315,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772216315,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766772216319,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772216320,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766772216322,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772216325,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
112	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772216327,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772216327,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772216327,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772216330,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766772216331,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766772216333,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772216335,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
113	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772216355,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772216355,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766772216356,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766772216359,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772216359,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766772216361,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772216363,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
162	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787204126,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787204126,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787204126,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787204129,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787204129,"executionIndex":3,"source":"35","hints":"36","executionTime":4,"executionStatus":"27","data":"37"},{"startTime":1766787204133,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787204135,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2B9EB6Vv9JSfLnt66gvJisTRhOfWOOPFJLcCOp11f%2BDHYzp6nz0iaMcoXR3ki%2FLI146YKiCa000p05mZW2S3%2BCoZYtMIgliPvP%2BqcGz3S6etUKEpKUF5EGToLNFyV0mxNBAniiLiHzskQ%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
167	{"id":"wibotdel7064ce92","name":"WIBOT - Delete Conversation","active":true,"activeVersionId":"92c7d10a-3f4c-43bb-a18e-fd783a5157d7","isArchived":false,"createdAt":"2025-12-26T22:11:38.817Z","updatedAt":"2025-12-26T22:11:38.817Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"DELETE","path":"wibot/conversation/delete","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-delete","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-delete-conversation"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\nconst conversationId = body.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"DELETE FROM conversations\\nWHERE conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND user_id = {{ $json.userId }}\\nRETURNING conversation_id::text;","options":{}},"id":"delete-conversation","name":"Delete Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: false,\\n      error: 'Conversation not found or access denied'\\n    }\\n  }];\\n}\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    deleted_conversation_id: rows[0].json.conversation_id\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Delete Conversation","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Delete Conversation":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Delete Conversation":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787208783,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787208783,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766787208784,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787208786,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787208787,"executionIndex":3,"source":"35","hints":"36","executionTime":4,"executionStatus":"27","data":"37"},{"startTime":1766787208791,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787208794,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Delete Conversation",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1,"conversationId":"93"},{"item":0},{"item":0},{"conversation_id":"93"},{"item":0},{"success":true,"deleted_conversation_id":"93"},{"item":0},{"item":0},{"host":"94","x-real-ip":"95","x-forwarded-for":"95","x-forwarded-proto":"96","connection":"97","content-length":"98","sec-ch-ua-platform":"99","authorization":"100","sec-ch-ua":"101","sec-ch-ua-mobile":"102","user-agent":"103","accept":"104","dnt":"105","content-type":"106","origin":"107","sec-fetch-site":"108","sec-fetch-mode":"109","sec-fetch-dest":"110","referer":"111","accept-encoding":"112","accept-language":"113","cookie":"114","sec-gpc":"105"},{},{},{"conversationId":"93"},"http://localhost:5678/webhook/wibot/conversation/delete","production","550e8400-e29b-41d4-a716-446655440000","localhost","172.20.0.1","http","close","57","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","?0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","1","application/json","http://localhost:5173","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2B9EB6Vv9JSfLnt66gvJisTRhOfWOOPFJLcCOp11f%2BDHYzp6nz0iaMcoXR3ki%2FLI146YKiCa000p05mZW2S3%2BCoZYtMIgliPvP%2BqcGz3S6etUKEpKUF5EGToLNFyV0mxNBAniiLiHzskQ%3D%3D"]
202	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787525393,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787525393,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787525393,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787525396,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787525396,"executionIndex":3,"source":"35","hints":"36","executionTime":7,"executionStatus":"27","data":"37"},{"startTime":1766787525403,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787525405,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14367,"quota_tokens":50000,"tokens_remaining":35633},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14367","50000","35633","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
204	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787525456,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787525456,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787525456,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787525459,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787525460,"executionIndex":3,"source":"35","hints":"36","executionTime":12,"executionStatus":"27","data":"37"},{"startTime":1766787525473,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787525475,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Conversations",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"94","title":"95","updated_at":"96","message_count":2},{"item":0},{"conversation_id":"97","title":"98","updated_at":"99","message_count":8},{"success":true,"conversations":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","b88ac204-9035-4930-a37c-463f8b32af0c","hey","2025-12-26T22:14:50Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","ABC","2025-12-26T22:14:44Z",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"120-1OCI3XUwsLkecDmw9x+LL8i5V7Q\\"",{"conversation_id":"94","title":"95","updated_at":"96","message_count":2},{"conversation_id":"97","title":"98","updated_at":"99","message_count":8}]
206	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787525504,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787525505,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787525505,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787525508,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787525508,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787525510,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787525512,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":37,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":38,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","b88ac204-9035-4930-a37c-463f8b32af0c","user","hey","2025-12-26T22:14:50Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"f9-O1/sOENLUroI7l3hH/aCJAX26bY\\"",{"message_id":37,"role":"95","content":"96","created_at":"97"},{"message_id":38,"role":"98","content":"99","created_at":"97"}]
114	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772217975,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772217975,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772217975,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772217978,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772217979,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766772217981,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772217983,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
116	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772218773,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772218773,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772218774,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766772218776,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766772218777,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766772218780,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772218782,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81","82","83","84","85","86","87"],"Get Messages",["88"],"Format Response",["89"],{"json":"90","pairedItem":"91"},{"json":"92","pairedItem":"93"},{"json":"92","pairedItem":"94"},{"json":"95","pairedItem":"96"},{"json":"97","pairedItem":"96"},{"json":"98","pairedItem":"96"},{"json":"99","pairedItem":"96"},{"json":"100","pairedItem":"96"},{"json":"101","pairedItem":"96"},{"json":"102","pairedItem":"96"},{"json":"103","pairedItem":"96"},{"json":"104","pairedItem":"96"},{"json":"105","pairedItem":"96"},{"json":"106","pairedItem":"96"},{"json":"107","pairedItem":"96"},{"json":"108","pairedItem":"96"},{"json":"109","pairedItem":"96"},{"json":"110"},{"json":"110","pairedItem":"111"},{"headers":"112","params":"113","query":"114","body":"115","webhookUrl":"116","executionMode":"117"},{"item":0},{"valid":true,"userId":1,"conversationId":"118"},{"item":0},{"item":0},{"message_id":7,"role":"119","content":"120","created_at":"121"},{"item":0},{"message_id":8,"role":"122","content":"123","created_at":"121"},{"message_id":9,"role":"119","content":"124","created_at":"125"},{"message_id":10,"role":"122","content":"126","created_at":"125"},{"message_id":11,"role":"119","content":"127","created_at":"128"},{"message_id":12,"role":"122","content":"129","created_at":"128"},{"message_id":13,"role":"119","content":"130","created_at":"131"},{"message_id":14,"role":"122","content":"132","created_at":"131"},{"message_id":15,"role":"119","content":"133","created_at":"134"},{"message_id":16,"role":"122","content":"135","created_at":"134"},{"message_id":17,"role":"119","content":"136","created_at":"137"},{"message_id":18,"role":"122","content":"138","created_at":"137"},{"message_id":19,"role":"119","content":"139","created_at":"140"},{"message_id":20,"role":"122","content":"141","created_at":"140"},{"success":true,"messages":"142"},{"item":0},{"host":"143","x-real-ip":"144","x-forwarded-for":"144","x-forwarded-proto":"145","connection":"146","sec-ch-ua-platform":"147","authorization":"148","user-agent":"149","accept":"150","sec-ch-ua":"151","dnt":"152","sec-ch-ua-mobile":"153","sec-fetch-site":"154","sec-fetch-mode":"155","sec-fetch-dest":"156","referer":"157","accept-encoding":"158","accept-language":"159","cookie":"160","sec-gpc":"152","if-none-match":"161"},{},{"conversationId":"118"},{},"http://localhost:5678/webhook/wibot/messages","production","3cc2c8db-afef-4637-accc-31d259f53857","user","saluty","2025-12-26T16:43:14Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?","tout va bien ?","2025-12-26T16:43:24Z","Tout va trs bien, merci de demander ! Je suis prt  vous aider avec vos questions techniques. Comment puis-je vous assister aujourd'hui ?","genere un max de text je test la conso token","2025-12-26T16:43:40Z","Je comprends que vous souhaitez tester la consommation de tokens. Voici un texte plus long pour vous aider dans votre test :\\n\\n---\\n\\nChez WIDIP, nous sommes une entreprise franaise de services informatiques spcialise dans l'accompagnement des entreprises dans leur transformation numrique. Notre mission est de fournir des solutions technologiques innovantes et sur mesure pour rpondre aux besoins spcifiques de nos clients.\\n\\nNous offrons une large gamme de services, allant du dveloppement de logiciels sur mesure  l'infogrance, en passant par la cyberscurit et le cloud computing. Notre quipe d'experts est compose de professionnels qualifis et passionns, toujours prts  relever les dfis technologiques les plus complexes.\\n\\nChez WIDIP, nous croyons en l'importance de la collaboration et de la communication. Nous travaillons en troite collaboration avec nos clients pour comprendre leurs besoins et leurs attentes, et nous nous engageons  fournir des solutions qui non seulement rpondent  ces besoins, mais qui les dpassent.\\n\\nNous sommes galement convaincus que la formation et le dveloppement des comptences sont essentiels pour rester  la pointe de la technologie. C'est pourquoi nous investissons continuellement dans la formation de nos employs et dans l'acquisition de nouvelles comptences.\\n\\nEn choisissant WIDIP, vous bnficiez de notre expertise, de notre engagement et de notre passion pour la technologie. Nous sommes l pour vous accompagner  chaque tape de votre transformation numrique, en vous fournissant des solutions qui vous permettent de tirer le meilleur parti de la technologie.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nJ'espre que ce texte rpond  vos besoins pour le test de consommation de tokens. Si vous avez d'autres questions ou besoin de plus d'informations, n'hsitez pas  me le faire savoir !","encore","2025-12-26T16:43:51Z","Bien sr ! Voici un texte encore plus long pour votre test de consommation de tokens :\\n\\n---\\n\\nChez WIDIP, nous sommes une entreprise franaise de services informatiques spcialise dans l'accompagnement des entreprises dans leur transformation numrique. Notre mission est de fournir des solutions technologiques innovantes et sur mesure pour rpondre aux besoins spcifiques de nos clients.\\n\\nNous offrons une large gamme de services, allant du dveloppement de logiciels sur mesure  l'infogrance, en passant par la cyberscurit et le cloud computing. Notre quipe d'experts est compose de professionnels qualifis et passionns, toujours prts  relever les dfis technologiques les plus complexes.\\n\\nChez WIDIP, nous croyons en l'importance de la collaboration et de la communication. Nous travaillons en troite collaboration avec nos clients pour comprendre leurs besoins et leurs attentes, et nous nous engageons  fournir des solutions qui non seulement rpondent  ces besoins, mais qui les dpassent.\\n\\nNous sommes galement convaincus que la formation et le dveloppement des comptences sont essentiels pour rester  la pointe de la technologie. C'est pourquoi nous investissons continuellement dans la formation de nos employs et dans l'acquisition de nouvelles comptences.\\n\\nEn choisissant WIDIP, vous bnficiez de notre expertise, de notre engagement et de notre passion pour la technologie. Nous sommes l pour vous accompagner  chaque tape de votre transformation numrique, en vous fournissant des solutions qui vous permettent de tirer le meilleur parti de la technologie.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nVoici un exemple de code en Python pour illustrer nos comptences en dveloppement de logiciels :\\n\\n```python\\n# Exemple de code Python pour calculer la factorielle d'un nombre\\n\\ndef factorielle(n):\\n    if n == 0:\\n        return 1\\n    else:\\n        return n * factorielle(n - 1)\\n\\n# Exemple d'utilisation\\nnombre = 5\\nresultat = factorielle(nombre)\\nprint(f\\"La factorielle de {nombre} est {resultat}\\")\\n```\\n\\nChez WIDIP, nous utilisons des technologies de pointe pour dvelopper des solutions robustes et volutives. Nos dveloppeurs sont expriments dans divers langages de programmation, tels que Python, Java, C++, et bien d'autres.\\n\\nNous mettons galement un point d'honneur  suivre les meilleures pratiques en matire de dveloppement logiciel, telles que la programmation oriente objet, les tests unitaires, et la documentation du code. Nous croyons que ces pratiques sont essentielles pour garantir la qualit et la maintenabilit de nos solutions.\\n\\nEn plus du dveloppement de logiciels, nous offrons galement des services d'infogrance pour aider nos clients  grer leurs infrastructures informatiques. Nos experts en infogrance peuvent vous aider  optimiser vos systmes,  amliorer leur scurit, et  assurer leur disponibilit.\\n\\nNous proposons galement des services de cyberscurit pour protger vos donnes et vos systmes contre les cybermenaces. Nos experts en cyberscurit peuvent vous aider  mettre en place des mesures de scurit efficaces,  effectuer des audits de scurit, et  rpondre aux incidents de scurit.\\n\\nEnfin, nous offrons des services de cloud computing pour vous aider  tirer parti des avantages du cloud. Nos experts en cloud computing peuvent vous aider  migrer vers le cloud,  optimiser vos cots, et  tirer parti des fonctionnalits avances des plateformes cloud.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nJ'espre que ce texte supplmentaire rpond  vos besoins pour le test de consommation de tokens. Si vous avez d'autres questions ou besoin de plus d'informations, n'hsitez pas  me le faire savoir !","hey !","2025-12-26T16:44:56Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","je vais te donner un chiffre important tu vas le retenir , tu es pret ?","2025-12-26T16:45:18Z","Je suis prt ! Donnez-moi le chiffre important, et je le retiendrai pour vous.","1996","2025-12-26T16:45:24Z","J'ai retenu le chiffre **1996**. Comment puis-je vous aider avec cette information ?",["162","163","164","165","166","167","168","169","170","171","172","173","174","175"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"1eab-+F60koe1ruhtzP9joS1/4+QB/b4\\"",{"message_id":7,"role":"119","content":"120","created_at":"121"},{"message_id":8,"role":"122","content":"123","created_at":"121"},{"message_id":9,"role":"119","content":"124","created_at":"125"},{"message_id":10,"role":"122","content":"126","created_at":"125"},{"message_id":11,"role":"119","content":"127","created_at":"128"},{"message_id":12,"role":"122","content":"129","created_at":"128"},{"message_id":13,"role":"119","content":"130","created_at":"131"},{"message_id":14,"role":"122","content":"132","created_at":"131"},{"message_id":15,"role":"119","content":"133","created_at":"134"},{"message_id":16,"role":"122","content":"135","created_at":"134"},{"message_id":17,"role":"119","content":"136","created_at":"137"},{"message_id":18,"role":"122","content":"138","created_at":"137"},{"message_id":19,"role":"119","content":"139","created_at":"140"},{"message_id":20,"role":"122","content":"141","created_at":"140"}]
166	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787204217,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787204217,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787204217,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766787204221,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787204222,"executionIndex":3,"source":"35","hints":"36","executionTime":1,"executionStatus":"27","data":"37"},{"startTime":1766787204223,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787204225,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81","82","83","84","85"],"Get Messages",["86"],"Format Response",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"95","pairedItem":"94"},{"json":"96","pairedItem":"94"},{"json":"97","pairedItem":"94"},{"json":"98","pairedItem":"94"},{"json":"99","pairedItem":"94"},{"json":"100","pairedItem":"94"},{"json":"101","pairedItem":"94"},{"json":"102","pairedItem":"94"},{"json":"103","pairedItem":"94"},{"json":"104","pairedItem":"94"},{"json":"105","pairedItem":"94"},{"json":"106"},{"json":"106","pairedItem":"107"},{"headers":"108","params":"109","query":"110","body":"111","webhookUrl":"112","executionMode":"113"},{"item":0},{"valid":true,"userId":1,"conversationId":"114"},{"item":0},{"item":0},{"message_id":1,"role":"115","content":"116","created_at":"117"},{"item":0},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"},{"success":true,"messages":"138"},{"item":0},{"host":"139","x-real-ip":"140","x-forwarded-for":"140","x-forwarded-proto":"141","connection":"142","sec-ch-ua-platform":"143","authorization":"144","user-agent":"145","accept":"146","sec-ch-ua":"147","dnt":"148","sec-ch-ua-mobile":"149","sec-fetch-site":"150","sec-fetch-mode":"151","sec-fetch-dest":"152","referer":"153","accept-encoding":"154","accept-language":"155","cookie":"156","sec-gpc":"148","if-none-match":"157"},{},{"conversationId":"114"},{},"http://localhost:5678/webhook/wibot/messages","production","550e8400-e29b-41d4-a716-446655440000","user","Bonjour WIBOT !","2025-12-24T07:42:15Z","assistant","Bonjour ! Je suis WIBOT, l'assistant IA de WIDIP. Comment puis-je t'aider aujourd'hui ?","2025-12-24T07:42:17Z","Peux-tu m'expliquer comment fonctionne PostgreSQL ?","2025-12-24T07:43:15Z","PostgreSQL est un systeme de gestion de base de donnees relationnelle (SGBDR) open source tres puissant.\\n\\n**Caracteristiques principales :**\\n- Support complet SQL\\n- Transactions ACID\\n- Extensions (comme pgcrypto pour le chiffrement)\\n- Excellent pour les charges de travail complexes\\n\\nC'est ce qu'on utilise chez WIDIP pour stocker les donnees WIBOT !","2025-12-24T07:43:20Z","Et comment faire un backup ?","2025-12-25T07:42:15Z","Pour faire un backup PostgreSQL, tu as plusieurs options :\\n\\n```bash\\n# Backup complet (dump SQL)\\npg_dump -U widip -d wibot > backup.sql\\n\\n# Backup compresse\\npg_dump -U widip -d wibot | gzip > backup.sql.gz\\n\\n# Restauration\\npsql -U widip -d wibot < backup.sql\\n```\\n\\nPour les backups automatiques, on peut utiliser un cron job ou un workflow n8n !","2025-12-25T07:42:18Z","salut","2025-12-26T17:16:30Z","Salut ! Comment puis-je vous aider aujourd'hui ?","ddadzax","2025-12-26T17:16:38Z","Bonjour ! Je ne suis pas sr de comprendre votre demande. Pourriez-vous prciser ou reformuler votre question ? Je suis l pour vous aider avec les questions techniques ou toute autre demande lie  WIDIP.","hey","2025-12-26T17:28:13Z","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["158","159","160","161","162","163","164","165","166","167","168","169"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2B9EB6Vv9JSfLnt66gvJisTRhOfWOOPFJLcCOp11f%2BDHYzp6nz0iaMcoXR3ki%2FLI146YKiCa000p05mZW2S3%2BCoZYtMIgliPvP%2BqcGz3S6etUKEpKUF5EGToLNFyV0mxNBAniiLiHzskQ%3D%3D","W/\\"8c1-97WpuvK54GrQdO+AMWrIvvfcngA\\"",{"message_id":1,"role":"115","content":"116","created_at":"117"},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"}]
205	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787525460,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787525460,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787525460,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787525463,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787525464,"executionIndex":3,"source":"35","hints":"36","executionTime":18,"executionStatus":"27","data":"37"},{"startTime":1766787525482,"executionIndex":4,"source":"38","hints":"39","executionTime":4,"executionStatus":"27","data":"40"},{"startTime":1766787525486,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":37,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":38,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","b88ac204-9035-4930-a37c-463f8b32af0c","user","hey","2025-12-26T22:14:50Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"f9-O1/sOENLUroI7l3hH/aCJAX26bY\\"",{"message_id":37,"role":"95","content":"96","created_at":"97"},{"message_id":38,"role":"98","content":"99","created_at":"97"}]
207	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787527170,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787527170,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787527170,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787527173,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787527173,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787527176,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787527178,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
209	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787530031,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787530031,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787530031,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766787530035,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787530036,"executionIndex":3,"source":"35","hints":"36","executionTime":1,"executionStatus":"27","data":"37"},{"startTime":1766787530038,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787530040,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":37,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":38,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","b88ac204-9035-4930-a37c-463f8b32af0c","user","hey","2025-12-26T22:14:50Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"f9-O1/sOENLUroI7l3hH/aCJAX26bY\\"",{"message_id":37,"role":"95","content":"96","created_at":"97"},{"message_id":38,"role":"98","content":"99","created_at":"97"}]
211	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787534528,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787534529,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787534529,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787534531,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787534532,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766787534535,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787534538,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
115	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766772218418,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766772218418,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766772218418,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766772218421,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766772218421,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766772218424,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766772218426,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81","82","83","84","85"],"Get Messages",["86"],"Format Response",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"95","pairedItem":"94"},{"json":"96","pairedItem":"94"},{"json":"97","pairedItem":"94"},{"json":"98","pairedItem":"94"},{"json":"99","pairedItem":"94"},{"json":"100","pairedItem":"94"},{"json":"101","pairedItem":"94"},{"json":"102","pairedItem":"94"},{"json":"103","pairedItem":"94"},{"json":"104","pairedItem":"94"},{"json":"105","pairedItem":"94"},{"json":"106"},{"json":"106","pairedItem":"107"},{"headers":"108","params":"109","query":"110","body":"111","webhookUrl":"112","executionMode":"113"},{"item":0},{"valid":true,"userId":1,"conversationId":"114"},{"item":0},{"item":0},{"message_id":1,"role":"115","content":"116","created_at":"117"},{"item":0},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"},{"success":true,"messages":"138"},{"item":0},{"host":"139","x-real-ip":"140","x-forwarded-for":"140","x-forwarded-proto":"141","connection":"142","sec-ch-ua-platform":"143","authorization":"144","user-agent":"145","accept":"146","sec-ch-ua":"147","dnt":"148","sec-ch-ua-mobile":"149","sec-fetch-site":"150","sec-fetch-mode":"151","sec-fetch-dest":"152","referer":"153","accept-encoding":"154","accept-language":"155","cookie":"156","sec-gpc":"148","if-none-match":"157"},{},{"conversationId":"114"},{},"http://localhost:5678/webhook/wibot/messages","production","550e8400-e29b-41d4-a716-446655440000","user","Bonjour WIBOT !","2025-12-24T07:42:15Z","assistant","Bonjour ! Je suis WIBOT, l'assistant IA de WIDIP. Comment puis-je t'aider aujourd'hui ?","2025-12-24T07:42:17Z","Peux-tu m'expliquer comment fonctionne PostgreSQL ?","2025-12-24T07:43:15Z","PostgreSQL est un systeme de gestion de base de donnees relationnelle (SGBDR) open source tres puissant.\\n\\n**Caracteristiques principales :**\\n- Support complet SQL\\n- Transactions ACID\\n- Extensions (comme pgcrypto pour le chiffrement)\\n- Excellent pour les charges de travail complexes\\n\\nC'est ce qu'on utilise chez WIDIP pour stocker les donnees WIBOT !","2025-12-24T07:43:20Z","Et comment faire un backup ?","2025-12-25T07:42:15Z","Pour faire un backup PostgreSQL, tu as plusieurs options :\\n\\n```bash\\n# Backup complet (dump SQL)\\npg_dump -U widip -d wibot > backup.sql\\n\\n# Backup compresse\\npg_dump -U widip -d wibot | gzip > backup.sql.gz\\n\\n# Restauration\\npsql -U widip -d wibot < backup.sql\\n```\\n\\nPour les backups automatiques, on peut utiliser un cron job ou un workflow n8n !","2025-12-25T07:42:18Z","salut","2025-12-26T17:16:30Z","Salut ! Comment puis-je vous aider aujourd'hui ?","ddadzax","2025-12-26T17:16:38Z","Bonjour ! Je ne suis pas sr de comprendre votre demande. Pourriez-vous prciser ou reformuler votre question ? Je suis l pour vous aider avec les questions techniques ou toute autre demande lie  WIDIP.","hey","2025-12-26T17:28:13Z","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["158","159","160","161","162","163","164","165","166","167","168","169"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"8c1-97WpuvK54GrQdO+AMWrIvvfcngA\\"",{"message_id":1,"role":"115","content":"116","created_at":"117"},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"}]
118	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786348278,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786348278,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766786348279,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786348281,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786348282,"executionIndex":3,"source":"35","hints":"36","executionTime":14,"executionStatus":"27","data":"37"},{"startTime":1766786348296,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786348298,"executionIndex":5,"source":"41","hints":"42","executionTime":2,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
117	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786348272,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786348272,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786348272,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766786348276,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786348277,"executionIndex":3,"source":"35","hints":"36","executionTime":24,"executionStatus":"27","data":"37"},{"startTime":1766786348301,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786348304,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
119	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786348351,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786348351,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786348351,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786348354,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786348355,"executionIndex":3,"source":"35","hints":"36","executionTime":14,"executionStatus":"27","data":"37"},{"startTime":1766786348369,"executionIndex":4,"source":"38","hints":"39","executionTime":4,"executionStatus":"27","data":"40"},{"startTime":1766786348373,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
120	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786348363,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786348363,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786348363,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786348365,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786348366,"executionIndex":3,"source":"35","hints":"36","executionTime":15,"executionStatus":"27","data":"37"},{"startTime":1766786348381,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786348383,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
121	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786348376,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786348376,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786348376,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786348380,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766786348380,"executionIndex":3,"source":"35","hints":"36","executionTime":8,"executionStatus":"27","data":"37"},{"startTime":1766786348388,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786348391,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
122	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786348413,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786348413,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786348413,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786348416,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786348417,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766786348420,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786348422,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
168	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787210134,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787210134,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787210134,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787210137,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787210137,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766787210140,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787210142,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2B9EB6Vv9JSfLnt66gvJisTRhOfWOOPFJLcCOp11f%2BDHYzp6nz0iaMcoXR3ki%2FLI146YKiCa000p05mZW2S3%2BCoZYtMIgliPvP%2BqcGz3S6etUKEpKUF5EGToLNFyV0mxNBAniiLiHzskQ%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
170	{"id":"wibotdel7064ce92","name":"WIBOT - Delete Conversation","active":true,"activeVersionId":"92c7d10a-3f4c-43bb-a18e-fd783a5157d7","isArchived":false,"createdAt":"2025-12-26T22:11:38.817Z","updatedAt":"2025-12-26T22:11:38.817Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"DELETE","path":"wibot/conversation/delete","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-delete","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-delete-conversation"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\nconst conversationId = body.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"DELETE FROM conversations\\nWHERE conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND user_id = {{ $json.userId }}\\nRETURNING conversation_id::text;","options":{}},"id":"delete-conversation","name":"Delete Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: false,\\n      error: 'Conversation not found or access denied'\\n    }\\n  }];\\n}\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    deleted_conversation_id: rows[0].json.conversation_id\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Delete Conversation","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Delete Conversation":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Delete Conversation":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787213608,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787213608,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787213608,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787213611,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787213611,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766787213614,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787213616,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Delete Conversation",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1,"conversationId":"93"},{"item":0},{"item":0},{"conversation_id":"93"},{"item":0},{"success":true,"deleted_conversation_id":"93"},{"item":0},{"item":0},{"host":"94","x-real-ip":"95","x-forwarded-for":"95","x-forwarded-proto":"96","connection":"97","content-length":"98","sec-ch-ua-platform":"99","authorization":"100","sec-ch-ua":"101","sec-ch-ua-mobile":"102","user-agent":"103","accept":"104","dnt":"105","content-type":"106","origin":"107","sec-fetch-site":"108","sec-fetch-mode":"109","sec-fetch-dest":"110","referer":"111","accept-encoding":"112","accept-language":"113","cookie":"114","sec-gpc":"105"},{},{},{"conversationId":"93"},"http://localhost:5678/webhook/wibot/conversation/delete","production","3cc2c8db-afef-4637-accc-31d259f53857","localhost","172.20.0.1","http","close","57","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","?0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","1","application/json","http://localhost:5173","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2B9EB6Vv9JSfLnt66gvJisTRhOfWOOPFJLcCOp11f%2BDHYzp6nz0iaMcoXR3ki%2FLI146YKiCa000p05mZW2S3%2BCoZYtMIgliPvP%2BqcGz3S6etUKEpKUF5EGToLNFyV0mxNBAniiLiHzskQ%3D%3D"]
172	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15"},"Get Messages",{},[],{},{},{},{"version":1,"establishedAt":1766787216908,"source":"16"},["17"],["18"],["19"],["20"],"webhook",{"startTime":1766787216908,"executionIndex":0,"source":"21","hints":"22","executionTime":0,"executionStatus":"23","data":"24"},{"startTime":1766787216908,"executionIndex":1,"source":"25","hints":"26","executionTime":3,"executionStatus":"23","data":"27"},{"startTime":1766787216912,"executionIndex":2,"source":"28","hints":"29","executionTime":0,"executionStatus":"23","data":"30"},{"startTime":1766787216912,"executionIndex":3,"source":"31","hints":"32","executionTime":2,"executionStatus":"23","data":"33"},[],[],"success",{"main":"34"},["35"],["36"],{"main":"37"},["38"],[],{"main":"39"},["40"],[],{"main":"41"},["42"],{"previousNode":"43"},{"message":"44","location":"45"},["46"],{"previousNode":"47"},["48","49"],{"previousNode":"50"},["51"],["52"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["53"],"Verify JWT",["54"],[],"JWT Valid?",[],{"json":"55","pairedItem":"56"},{"json":"57","pairedItem":"58"},{"json":"57","pairedItem":"59"},{"headers":"60","params":"61","query":"62","body":"63","webhookUrl":"64","executionMode":"65"},{"item":0},{"valid":true,"userId":1,"conversationId":"66"},{"item":0},{"item":0},{"host":"67","x-real-ip":"68","x-forwarded-for":"68","x-forwarded-proto":"69","connection":"70","sec-ch-ua-platform":"71","authorization":"72","user-agent":"73","accept":"74","sec-ch-ua":"75","dnt":"76","sec-ch-ua-mobile":"77","sec-fetch-site":"78","sec-fetch-mode":"79","sec-fetch-dest":"80","referer":"81","accept-encoding":"82","accept-language":"83","cookie":"84","sec-gpc":"76"},{},{"conversationId":"66"},{},"http://localhost:5678/webhook/wibot/messages","production","6697ccd2-e2dd-4095-bcea-b3c400551d44","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2B9EB6Vv9JSfLnt66gvJisTRhOfWOOPFJLcCOp11f%2BDHYzp6nz0iaMcoXR3ki%2FLI146YKiCa000p05mZW2S3%2BCoZYtMIgliPvP%2BqcGz3S6etUKEpKUF5EGToLNFyV0mxNBAniiLiHzskQ%3D%3D"]
173	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787252647,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787252648,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787252648,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787252651,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787252651,"executionIndex":3,"source":"35","hints":"36","executionTime":15,"executionStatus":"27","data":"37"},{"startTime":1766787252666,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787252668,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Conversations",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"93","title":"94","updated_at":"95","message_count":8},{"item":0},{"success":true,"conversations":"96"},{"item":0},{"item":0},{"host":"97","x-real-ip":"98","x-forwarded-for":"98","x-forwarded-proto":"99","connection":"100","sec-ch-ua-platform":"101","authorization":"102","user-agent":"103","accept":"104","sec-ch-ua":"105","dnt":"106","sec-ch-ua-mobile":"107","sec-fetch-site":"108","sec-fetch-mode":"109","sec-fetch-dest":"110","referer":"111","accept-encoding":"112","accept-language":"113","cookie":"114","sec-gpc":"106","if-none-match":"115"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z",["116"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"1e4-scycjjgkneqHKjDG8osyDEk09pk\\"",{"conversation_id":"93","title":"94","updated_at":"95","message_count":8}]
175	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787252696,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787252696,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787252696,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787252698,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787252699,"executionIndex":3,"source":"35","hints":"36","executionTime":5,"executionStatus":"27","data":"37"},{"startTime":1766787252704,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787252708,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
177	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787252709,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787252709,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766787252710,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787252712,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787252712,"executionIndex":3,"source":"35","hints":"36","executionTime":6,"executionStatus":"27","data":"37"},{"startTime":1766787252718,"executionIndex":4,"source":"38","hints":"39","executionTime":1,"executionStatus":"27","data":"40"},{"startTime":1766787252719,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
123	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786351082,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786351082,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786351083,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786351085,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786351086,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766786351088,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786351090,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
125	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786352875,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786352875,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786352875,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786352878,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786352879,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766786352881,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786352883,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81","82","83","84","85","86","87"],"Get Messages",["88"],"Format Response",["89"],{"json":"90","pairedItem":"91"},{"json":"92","pairedItem":"93"},{"json":"92","pairedItem":"94"},{"json":"95","pairedItem":"96"},{"json":"97","pairedItem":"96"},{"json":"98","pairedItem":"96"},{"json":"99","pairedItem":"96"},{"json":"100","pairedItem":"96"},{"json":"101","pairedItem":"96"},{"json":"102","pairedItem":"96"},{"json":"103","pairedItem":"96"},{"json":"104","pairedItem":"96"},{"json":"105","pairedItem":"96"},{"json":"106","pairedItem":"96"},{"json":"107","pairedItem":"96"},{"json":"108","pairedItem":"96"},{"json":"109","pairedItem":"96"},{"json":"110"},{"json":"110","pairedItem":"111"},{"headers":"112","params":"113","query":"114","body":"115","webhookUrl":"116","executionMode":"117"},{"item":0},{"valid":true,"userId":1,"conversationId":"118"},{"item":0},{"item":0},{"message_id":7,"role":"119","content":"120","created_at":"121"},{"item":0},{"message_id":8,"role":"122","content":"123","created_at":"121"},{"message_id":9,"role":"119","content":"124","created_at":"125"},{"message_id":10,"role":"122","content":"126","created_at":"125"},{"message_id":11,"role":"119","content":"127","created_at":"128"},{"message_id":12,"role":"122","content":"129","created_at":"128"},{"message_id":13,"role":"119","content":"130","created_at":"131"},{"message_id":14,"role":"122","content":"132","created_at":"131"},{"message_id":15,"role":"119","content":"133","created_at":"134"},{"message_id":16,"role":"122","content":"135","created_at":"134"},{"message_id":17,"role":"119","content":"136","created_at":"137"},{"message_id":18,"role":"122","content":"138","created_at":"137"},{"message_id":19,"role":"119","content":"139","created_at":"140"},{"message_id":20,"role":"122","content":"141","created_at":"140"},{"success":true,"messages":"142"},{"item":0},{"host":"143","x-real-ip":"144","x-forwarded-for":"144","x-forwarded-proto":"145","connection":"146","sec-ch-ua-platform":"147","authorization":"148","user-agent":"149","accept":"150","sec-ch-ua":"151","dnt":"152","sec-ch-ua-mobile":"153","sec-fetch-site":"154","sec-fetch-mode":"155","sec-fetch-dest":"156","referer":"157","accept-encoding":"158","accept-language":"159","cookie":"160","sec-gpc":"152","if-none-match":"161"},{},{"conversationId":"118"},{},"http://localhost:5678/webhook/wibot/messages","production","3cc2c8db-afef-4637-accc-31d259f53857","user","saluty","2025-12-26T16:43:14Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?","tout va bien ?","2025-12-26T16:43:24Z","Tout va trs bien, merci de demander ! Je suis prt  vous aider avec vos questions techniques. Comment puis-je vous assister aujourd'hui ?","genere un max de text je test la conso token","2025-12-26T16:43:40Z","Je comprends que vous souhaitez tester la consommation de tokens. Voici un texte plus long pour vous aider dans votre test :\\n\\n---\\n\\nChez WIDIP, nous sommes une entreprise franaise de services informatiques spcialise dans l'accompagnement des entreprises dans leur transformation numrique. Notre mission est de fournir des solutions technologiques innovantes et sur mesure pour rpondre aux besoins spcifiques de nos clients.\\n\\nNous offrons une large gamme de services, allant du dveloppement de logiciels sur mesure  l'infogrance, en passant par la cyberscurit et le cloud computing. Notre quipe d'experts est compose de professionnels qualifis et passionns, toujours prts  relever les dfis technologiques les plus complexes.\\n\\nChez WIDIP, nous croyons en l'importance de la collaboration et de la communication. Nous travaillons en troite collaboration avec nos clients pour comprendre leurs besoins et leurs attentes, et nous nous engageons  fournir des solutions qui non seulement rpondent  ces besoins, mais qui les dpassent.\\n\\nNous sommes galement convaincus que la formation et le dveloppement des comptences sont essentiels pour rester  la pointe de la technologie. C'est pourquoi nous investissons continuellement dans la formation de nos employs et dans l'acquisition de nouvelles comptences.\\n\\nEn choisissant WIDIP, vous bnficiez de notre expertise, de notre engagement et de notre passion pour la technologie. Nous sommes l pour vous accompagner  chaque tape de votre transformation numrique, en vous fournissant des solutions qui vous permettent de tirer le meilleur parti de la technologie.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nJ'espre que ce texte rpond  vos besoins pour le test de consommation de tokens. Si vous avez d'autres questions ou besoin de plus d'informations, n'hsitez pas  me le faire savoir !","encore","2025-12-26T16:43:51Z","Bien sr ! Voici un texte encore plus long pour votre test de consommation de tokens :\\n\\n---\\n\\nChez WIDIP, nous sommes une entreprise franaise de services informatiques spcialise dans l'accompagnement des entreprises dans leur transformation numrique. Notre mission est de fournir des solutions technologiques innovantes et sur mesure pour rpondre aux besoins spcifiques de nos clients.\\n\\nNous offrons une large gamme de services, allant du dveloppement de logiciels sur mesure  l'infogrance, en passant par la cyberscurit et le cloud computing. Notre quipe d'experts est compose de professionnels qualifis et passionns, toujours prts  relever les dfis technologiques les plus complexes.\\n\\nChez WIDIP, nous croyons en l'importance de la collaboration et de la communication. Nous travaillons en troite collaboration avec nos clients pour comprendre leurs besoins et leurs attentes, et nous nous engageons  fournir des solutions qui non seulement rpondent  ces besoins, mais qui les dpassent.\\n\\nNous sommes galement convaincus que la formation et le dveloppement des comptences sont essentiels pour rester  la pointe de la technologie. C'est pourquoi nous investissons continuellement dans la formation de nos employs et dans l'acquisition de nouvelles comptences.\\n\\nEn choisissant WIDIP, vous bnficiez de notre expertise, de notre engagement et de notre passion pour la technologie. Nous sommes l pour vous accompagner  chaque tape de votre transformation numrique, en vous fournissant des solutions qui vous permettent de tirer le meilleur parti de la technologie.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nVoici un exemple de code en Python pour illustrer nos comptences en dveloppement de logiciels :\\n\\n```python\\n# Exemple de code Python pour calculer la factorielle d'un nombre\\n\\ndef factorielle(n):\\n    if n == 0:\\n        return 1\\n    else:\\n        return n * factorielle(n - 1)\\n\\n# Exemple d'utilisation\\nnombre = 5\\nresultat = factorielle(nombre)\\nprint(f\\"La factorielle de {nombre} est {resultat}\\")\\n```\\n\\nChez WIDIP, nous utilisons des technologies de pointe pour dvelopper des solutions robustes et volutives. Nos dveloppeurs sont expriments dans divers langages de programmation, tels que Python, Java, C++, et bien d'autres.\\n\\nNous mettons galement un point d'honneur  suivre les meilleures pratiques en matire de dveloppement logiciel, telles que la programmation oriente objet, les tests unitaires, et la documentation du code. Nous croyons que ces pratiques sont essentielles pour garantir la qualit et la maintenabilit de nos solutions.\\n\\nEn plus du dveloppement de logiciels, nous offrons galement des services d'infogrance pour aider nos clients  grer leurs infrastructures informatiques. Nos experts en infogrance peuvent vous aider  optimiser vos systmes,  amliorer leur scurit, et  assurer leur disponibilit.\\n\\nNous proposons galement des services de cyberscurit pour protger vos donnes et vos systmes contre les cybermenaces. Nos experts en cyberscurit peuvent vous aider  mettre en place des mesures de scurit efficaces,  effectuer des audits de scurit, et  rpondre aux incidents de scurit.\\n\\nEnfin, nous offrons des services de cloud computing pour vous aider  tirer parti des avantages du cloud. Nos experts en cloud computing peuvent vous aider  migrer vers le cloud,  optimiser vos cots, et  tirer parti des fonctionnalits avances des plateformes cloud.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nJ'espre que ce texte supplmentaire rpond  vos besoins pour le test de consommation de tokens. Si vous avez d'autres questions ou besoin de plus d'informations, n'hsitez pas  me le faire savoir !","hey !","2025-12-26T16:44:56Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","je vais te donner un chiffre important tu vas le retenir , tu es pret ?","2025-12-26T16:45:18Z","Je suis prt ! Donnez-moi le chiffre important, et je le retiendrai pour vous.","1996","2025-12-26T16:45:24Z","J'ai retenu le chiffre **1996**. Comment puis-je vous aider avec cette information ?",["162","163","164","165","166","167","168","169","170","171","172","173","174","175"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"1eab-+F60koe1ruhtzP9joS1/4+QB/b4\\"",{"message_id":7,"role":"119","content":"120","created_at":"121"},{"message_id":8,"role":"122","content":"123","created_at":"121"},{"message_id":9,"role":"119","content":"124","created_at":"125"},{"message_id":10,"role":"122","content":"126","created_at":"125"},{"message_id":11,"role":"119","content":"127","created_at":"128"},{"message_id":12,"role":"122","content":"129","created_at":"128"},{"message_id":13,"role":"119","content":"130","created_at":"131"},{"message_id":14,"role":"122","content":"132","created_at":"131"},{"message_id":15,"role":"119","content":"133","created_at":"134"},{"message_id":16,"role":"122","content":"135","created_at":"134"},{"message_id":17,"role":"119","content":"136","created_at":"137"},{"message_id":18,"role":"122","content":"138","created_at":"137"},{"message_id":19,"role":"119","content":"139","created_at":"140"},{"message_id":20,"role":"122","content":"141","created_at":"140"}]
126	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786793008,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786793008,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786793009,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786793012,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786793013,"executionIndex":3,"source":"35","hints":"36","executionTime":9,"executionStatus":"27","data":"37"},{"startTime":1766786793022,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786793024,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
129	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786793073,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786793073,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786793073,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786793076,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786793077,"executionIndex":3,"source":"35","hints":"36","executionTime":22,"executionStatus":"27","data":"37"},{"startTime":1766786793099,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786793101,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
169	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787211777,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787211777,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787211777,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766787211781,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787211782,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787211784,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787211786,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81","82","83","84","85","86","87"],"Get Messages",["88"],"Format Response",["89"],{"json":"90","pairedItem":"91"},{"json":"92","pairedItem":"93"},{"json":"92","pairedItem":"94"},{"json":"95","pairedItem":"96"},{"json":"97","pairedItem":"96"},{"json":"98","pairedItem":"96"},{"json":"99","pairedItem":"96"},{"json":"100","pairedItem":"96"},{"json":"101","pairedItem":"96"},{"json":"102","pairedItem":"96"},{"json":"103","pairedItem":"96"},{"json":"104","pairedItem":"96"},{"json":"105","pairedItem":"96"},{"json":"106","pairedItem":"96"},{"json":"107","pairedItem":"96"},{"json":"108","pairedItem":"96"},{"json":"109","pairedItem":"96"},{"json":"110"},{"json":"110","pairedItem":"111"},{"headers":"112","params":"113","query":"114","body":"115","webhookUrl":"116","executionMode":"117"},{"item":0},{"valid":true,"userId":1,"conversationId":"118"},{"item":0},{"item":0},{"message_id":7,"role":"119","content":"120","created_at":"121"},{"item":0},{"message_id":8,"role":"122","content":"123","created_at":"121"},{"message_id":9,"role":"119","content":"124","created_at":"125"},{"message_id":10,"role":"122","content":"126","created_at":"125"},{"message_id":11,"role":"119","content":"127","created_at":"128"},{"message_id":12,"role":"122","content":"129","created_at":"128"},{"message_id":13,"role":"119","content":"130","created_at":"131"},{"message_id":14,"role":"122","content":"132","created_at":"131"},{"message_id":15,"role":"119","content":"133","created_at":"134"},{"message_id":16,"role":"122","content":"135","created_at":"134"},{"message_id":17,"role":"119","content":"136","created_at":"137"},{"message_id":18,"role":"122","content":"138","created_at":"137"},{"message_id":19,"role":"119","content":"139","created_at":"140"},{"message_id":20,"role":"122","content":"141","created_at":"140"},{"success":true,"messages":"142"},{"item":0},{"host":"143","x-real-ip":"144","x-forwarded-for":"144","x-forwarded-proto":"145","connection":"146","sec-ch-ua-platform":"147","authorization":"148","user-agent":"149","accept":"150","sec-ch-ua":"151","dnt":"152","sec-ch-ua-mobile":"153","sec-fetch-site":"154","sec-fetch-mode":"155","sec-fetch-dest":"156","referer":"157","accept-encoding":"158","accept-language":"159","cookie":"160","sec-gpc":"152","if-none-match":"161"},{},{"conversationId":"118"},{},"http://localhost:5678/webhook/wibot/messages","production","3cc2c8db-afef-4637-accc-31d259f53857","user","saluty","2025-12-26T16:43:14Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?","tout va bien ?","2025-12-26T16:43:24Z","Tout va trs bien, merci de demander ! Je suis prt  vous aider avec vos questions techniques. Comment puis-je vous assister aujourd'hui ?","genere un max de text je test la conso token","2025-12-26T16:43:40Z","Je comprends que vous souhaitez tester la consommation de tokens. Voici un texte plus long pour vous aider dans votre test :\\n\\n---\\n\\nChez WIDIP, nous sommes une entreprise franaise de services informatiques spcialise dans l'accompagnement des entreprises dans leur transformation numrique. Notre mission est de fournir des solutions technologiques innovantes et sur mesure pour rpondre aux besoins spcifiques de nos clients.\\n\\nNous offrons une large gamme de services, allant du dveloppement de logiciels sur mesure  l'infogrance, en passant par la cyberscurit et le cloud computing. Notre quipe d'experts est compose de professionnels qualifis et passionns, toujours prts  relever les dfis technologiques les plus complexes.\\n\\nChez WIDIP, nous croyons en l'importance de la collaboration et de la communication. Nous travaillons en troite collaboration avec nos clients pour comprendre leurs besoins et leurs attentes, et nous nous engageons  fournir des solutions qui non seulement rpondent  ces besoins, mais qui les dpassent.\\n\\nNous sommes galement convaincus que la formation et le dveloppement des comptences sont essentiels pour rester  la pointe de la technologie. C'est pourquoi nous investissons continuellement dans la formation de nos employs et dans l'acquisition de nouvelles comptences.\\n\\nEn choisissant WIDIP, vous bnficiez de notre expertise, de notre engagement et de notre passion pour la technologie. Nous sommes l pour vous accompagner  chaque tape de votre transformation numrique, en vous fournissant des solutions qui vous permettent de tirer le meilleur parti de la technologie.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nJ'espre que ce texte rpond  vos besoins pour le test de consommation de tokens. Si vous avez d'autres questions ou besoin de plus d'informations, n'hsitez pas  me le faire savoir !","encore","2025-12-26T16:43:51Z","Bien sr ! Voici un texte encore plus long pour votre test de consommation de tokens :\\n\\n---\\n\\nChez WIDIP, nous sommes une entreprise franaise de services informatiques spcialise dans l'accompagnement des entreprises dans leur transformation numrique. Notre mission est de fournir des solutions technologiques innovantes et sur mesure pour rpondre aux besoins spcifiques de nos clients.\\n\\nNous offrons une large gamme de services, allant du dveloppement de logiciels sur mesure  l'infogrance, en passant par la cyberscurit et le cloud computing. Notre quipe d'experts est compose de professionnels qualifis et passionns, toujours prts  relever les dfis technologiques les plus complexes.\\n\\nChez WIDIP, nous croyons en l'importance de la collaboration et de la communication. Nous travaillons en troite collaboration avec nos clients pour comprendre leurs besoins et leurs attentes, et nous nous engageons  fournir des solutions qui non seulement rpondent  ces besoins, mais qui les dpassent.\\n\\nNous sommes galement convaincus que la formation et le dveloppement des comptences sont essentiels pour rester  la pointe de la technologie. C'est pourquoi nous investissons continuellement dans la formation de nos employs et dans l'acquisition de nouvelles comptences.\\n\\nEn choisissant WIDIP, vous bnficiez de notre expertise, de notre engagement et de notre passion pour la technologie. Nous sommes l pour vous accompagner  chaque tape de votre transformation numrique, en vous fournissant des solutions qui vous permettent de tirer le meilleur parti de la technologie.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nVoici un exemple de code en Python pour illustrer nos comptences en dveloppement de logiciels :\\n\\n```python\\n# Exemple de code Python pour calculer la factorielle d'un nombre\\n\\ndef factorielle(n):\\n    if n == 0:\\n        return 1\\n    else:\\n        return n * factorielle(n - 1)\\n\\n# Exemple d'utilisation\\nnombre = 5\\nresultat = factorielle(nombre)\\nprint(f\\"La factorielle de {nombre} est {resultat}\\")\\n```\\n\\nChez WIDIP, nous utilisons des technologies de pointe pour dvelopper des solutions robustes et volutives. Nos dveloppeurs sont expriments dans divers langages de programmation, tels que Python, Java, C++, et bien d'autres.\\n\\nNous mettons galement un point d'honneur  suivre les meilleures pratiques en matire de dveloppement logiciel, telles que la programmation oriente objet, les tests unitaires, et la documentation du code. Nous croyons que ces pratiques sont essentielles pour garantir la qualit et la maintenabilit de nos solutions.\\n\\nEn plus du dveloppement de logiciels, nous offrons galement des services d'infogrance pour aider nos clients  grer leurs infrastructures informatiques. Nos experts en infogrance peuvent vous aider  optimiser vos systmes,  amliorer leur scurit, et  assurer leur disponibilit.\\n\\nNous proposons galement des services de cyberscurit pour protger vos donnes et vos systmes contre les cybermenaces. Nos experts en cyberscurit peuvent vous aider  mettre en place des mesures de scurit efficaces,  effectuer des audits de scurit, et  rpondre aux incidents de scurit.\\n\\nEnfin, nous offrons des services de cloud computing pour vous aider  tirer parti des avantages du cloud. Nos experts en cloud computing peuvent vous aider  migrer vers le cloud,  optimiser vos cots, et  tirer parti des fonctionnalits avances des plateformes cloud.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nJ'espre que ce texte supplmentaire rpond  vos besoins pour le test de consommation de tokens. Si vous avez d'autres questions ou besoin de plus d'informations, n'hsitez pas  me le faire savoir !","hey !","2025-12-26T16:44:56Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","je vais te donner un chiffre important tu vas le retenir , tu es pret ?","2025-12-26T16:45:18Z","Je suis prt ! Donnez-moi le chiffre important, et je le retiendrai pour vous.","1996","2025-12-26T16:45:24Z","J'ai retenu le chiffre **1996**. Comment puis-je vous aider avec cette information ?",["162","163","164","165","166","167","168","169","170","171","172","173","174","175"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2B9EB6Vv9JSfLnt66gvJisTRhOfWOOPFJLcCOp11f%2BDHYzp6nz0iaMcoXR3ki%2FLI146YKiCa000p05mZW2S3%2BCoZYtMIgliPvP%2BqcGz3S6etUKEpKUF5EGToLNFyV0mxNBAniiLiHzskQ%3D%3D","W/\\"1eab-+F60koe1ruhtzP9joS1/4+QB/b4\\"",{"message_id":7,"role":"119","content":"120","created_at":"121"},{"message_id":8,"role":"122","content":"123","created_at":"121"},{"message_id":9,"role":"119","content":"124","created_at":"125"},{"message_id":10,"role":"122","content":"126","created_at":"125"},{"message_id":11,"role":"119","content":"127","created_at":"128"},{"message_id":12,"role":"122","content":"129","created_at":"128"},{"message_id":13,"role":"119","content":"130","created_at":"131"},{"message_id":14,"role":"122","content":"132","created_at":"131"},{"message_id":15,"role":"119","content":"133","created_at":"134"},{"message_id":16,"role":"122","content":"135","created_at":"134"},{"message_id":17,"role":"119","content":"136","created_at":"137"},{"message_id":18,"role":"122","content":"138","created_at":"137"},{"message_id":19,"role":"119","content":"139","created_at":"140"},{"message_id":20,"role":"122","content":"141","created_at":"140"}]
171	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787216081,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787216081,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787216081,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766787216085,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787216085,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787216087,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787216090,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2B9EB6Vv9JSfLnt66gvJisTRhOfWOOPFJLcCOp11f%2BDHYzp6nz0iaMcoXR3ki%2FLI146YKiCa000p05mZW2S3%2BCoZYtMIgliPvP%2BqcGz3S6etUKEpKUF5EGToLNFyV0mxNBAniiLiHzskQ%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
174	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787252652,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787252652,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787252652,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787252654,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787252655,"executionIndex":3,"source":"35","hints":"36","executionTime":6,"executionStatus":"27","data":"37"},{"startTime":1766787252662,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787252664,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
176	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787252699,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787252700,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787252700,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787252702,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787252702,"executionIndex":3,"source":"35","hints":"36","executionTime":10,"executionStatus":"27","data":"37"},{"startTime":1766787252712,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787252714,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Conversations",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"93","title":"94","updated_at":"95","message_count":8},{"item":0},{"success":true,"conversations":"96"},{"item":0},{"item":0},{"host":"97","x-real-ip":"98","x-forwarded-for":"98","x-forwarded-proto":"99","connection":"100","sec-ch-ua-platform":"101","authorization":"102","user-agent":"103","accept":"104","sec-ch-ua":"105","dnt":"106","sec-ch-ua-mobile":"107","sec-fetch-site":"108","sec-fetch-mode":"109","sec-fetch-dest":"110","referer":"111","accept-encoding":"112","accept-language":"113","cookie":"114","sec-gpc":"106","if-none-match":"115"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z",["116"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"d0-3cHl/OTB+ULpColxOx53Op4UhNU\\"",{"conversation_id":"93","title":"94","updated_at":"95","message_count":8}]
178	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787252740,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787252740,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766787252741,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787252743,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787252743,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787252745,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787252747,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
124	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786351776,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786351777,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786351777,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786351780,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766786351780,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766786351783,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786351785,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81","82","83","84","85"],"Get Messages",["86"],"Format Response",["87"],{"json":"88","pairedItem":"89"},{"json":"90","pairedItem":"91"},{"json":"90","pairedItem":"92"},{"json":"93","pairedItem":"94"},{"json":"95","pairedItem":"94"},{"json":"96","pairedItem":"94"},{"json":"97","pairedItem":"94"},{"json":"98","pairedItem":"94"},{"json":"99","pairedItem":"94"},{"json":"100","pairedItem":"94"},{"json":"101","pairedItem":"94"},{"json":"102","pairedItem":"94"},{"json":"103","pairedItem":"94"},{"json":"104","pairedItem":"94"},{"json":"105","pairedItem":"94"},{"json":"106"},{"json":"106","pairedItem":"107"},{"headers":"108","params":"109","query":"110","body":"111","webhookUrl":"112","executionMode":"113"},{"item":0},{"valid":true,"userId":1,"conversationId":"114"},{"item":0},{"item":0},{"message_id":1,"role":"115","content":"116","created_at":"117"},{"item":0},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"},{"success":true,"messages":"138"},{"item":0},{"host":"139","x-real-ip":"140","x-forwarded-for":"140","x-forwarded-proto":"141","connection":"142","sec-ch-ua-platform":"143","authorization":"144","user-agent":"145","accept":"146","sec-ch-ua":"147","dnt":"148","sec-ch-ua-mobile":"149","sec-fetch-site":"150","sec-fetch-mode":"151","sec-fetch-dest":"152","referer":"153","accept-encoding":"154","accept-language":"155","cookie":"156","sec-gpc":"148","if-none-match":"157"},{},{"conversationId":"114"},{},"http://localhost:5678/webhook/wibot/messages","production","550e8400-e29b-41d4-a716-446655440000","user","Bonjour WIBOT !","2025-12-24T07:42:15Z","assistant","Bonjour ! Je suis WIBOT, l'assistant IA de WIDIP. Comment puis-je t'aider aujourd'hui ?","2025-12-24T07:42:17Z","Peux-tu m'expliquer comment fonctionne PostgreSQL ?","2025-12-24T07:43:15Z","PostgreSQL est un systeme de gestion de base de donnees relationnelle (SGBDR) open source tres puissant.\\n\\n**Caracteristiques principales :**\\n- Support complet SQL\\n- Transactions ACID\\n- Extensions (comme pgcrypto pour le chiffrement)\\n- Excellent pour les charges de travail complexes\\n\\nC'est ce qu'on utilise chez WIDIP pour stocker les donnees WIBOT !","2025-12-24T07:43:20Z","Et comment faire un backup ?","2025-12-25T07:42:15Z","Pour faire un backup PostgreSQL, tu as plusieurs options :\\n\\n```bash\\n# Backup complet (dump SQL)\\npg_dump -U widip -d wibot > backup.sql\\n\\n# Backup compresse\\npg_dump -U widip -d wibot | gzip > backup.sql.gz\\n\\n# Restauration\\npsql -U widip -d wibot < backup.sql\\n```\\n\\nPour les backups automatiques, on peut utiliser un cron job ou un workflow n8n !","2025-12-25T07:42:18Z","salut","2025-12-26T17:16:30Z","Salut ! Comment puis-je vous aider aujourd'hui ?","ddadzax","2025-12-26T17:16:38Z","Bonjour ! Je ne suis pas sr de comprendre votre demande. Pourriez-vous prciser ou reformuler votre question ? Je suis l pour vous aider avec les questions techniques ou toute autre demande lie  WIDIP.","hey","2025-12-26T17:28:13Z","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["158","159","160","161","162","163","164","165","166","167","168","169"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"8c1-97WpuvK54GrQdO+AMWrIvvfcngA\\"",{"message_id":1,"role":"115","content":"116","created_at":"117"},{"message_id":2,"role":"118","content":"119","created_at":"120"},{"message_id":3,"role":"115","content":"121","created_at":"122"},{"message_id":4,"role":"118","content":"123","created_at":"124"},{"message_id":5,"role":"115","content":"125","created_at":"126"},{"message_id":6,"role":"118","content":"127","created_at":"128"},{"message_id":27,"role":"115","content":"129","created_at":"130"},{"message_id":28,"role":"118","content":"131","created_at":"130"},{"message_id":29,"role":"115","content":"132","created_at":"133"},{"message_id":30,"role":"118","content":"134","created_at":"133"},{"message_id":31,"role":"115","content":"135","created_at":"136"},{"message_id":32,"role":"118","content":"137","created_at":"136"}]
127	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786793030,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786793030,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786793030,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786793032,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786793033,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766786793036,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786793040,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
128	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786793067,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786793067,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786793067,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786793069,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786793070,"executionIndex":3,"source":"35","hints":"36","executionTime":14,"executionStatus":"27","data":"37"},{"startTime":1766786793084,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786793087,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
130	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786793078,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786793078,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786793078,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786793081,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786793082,"executionIndex":3,"source":"35","hints":"36","executionTime":7,"executionStatus":"27","data":"37"},{"startTime":1766786793089,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786793091,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
131	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786793119,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786793119,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766786793120,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786793123,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786793124,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766786793126,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786793128,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2BxQI2xV%2FYHh01O1pwB%2BH042OGH2KGkMTCFY3xeavR%2BX%2FC%2BhsHwYNBU9ElksiuvBJTeHQGIwXTvPD8WvPU022IMKpYEzW0EYnJ%2BuRipsR6rSue25UcGcJm1wNf4i9CaXh4WyUZzYulTVw%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
132	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786927804,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786927804,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786927804,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786927807,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786927808,"executionIndex":3,"source":"35","hints":"36","executionTime":14,"executionStatus":"27","data":"37"},{"startTime":1766786927822,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786927825,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
133	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786927817,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786927817,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786927817,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786927821,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766786927821,"executionIndex":3,"source":"35","hints":"36","executionTime":8,"executionStatus":"27","data":"37"},{"startTime":1766786927829,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786927833,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
134	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786927858,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786927858,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786927858,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786927861,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786927862,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766786927865,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786927868,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
135	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786927872,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786927872,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786927872,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786927875,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786927876,"executionIndex":3,"source":"35","hints":"36","executionTime":5,"executionStatus":"27","data":"37"},{"startTime":1766786927881,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786927883,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
136	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786927907,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786927907,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786927907,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786927910,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766786927910,"executionIndex":3,"source":"35","hints":"36","executionTime":7,"executionStatus":"27","data":"37"},{"startTime":1766786927917,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786927920,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
138	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786927923,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786927924,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786927924,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786927927,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766786927927,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766786927929,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786927932,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
137	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786927911,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786927911,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786927912,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786927914,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786927915,"executionIndex":3,"source":"35","hints":"36","executionTime":23,"executionStatus":"27","data":"37"},{"startTime":1766786927938,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786927941,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
141	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786927986,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786927987,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786927987,"executionIndex":1,"source":"29","hints":"30","executionTime":6,"executionStatus":"27","data":"31"},{"startTime":1766786927993,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786927994,"executionIndex":3,"source":"35","hints":"36","executionTime":12,"executionStatus":"27","data":"37"},{"startTime":1766786928006,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786928009,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
179	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787256309,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787256309,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787256309,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787256312,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787256312,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787256314,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787256317,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
182	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787270506,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787270506,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787270506,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787270508,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787270509,"executionIndex":3,"source":"35","hints":"36","executionTime":6,"executionStatus":"27","data":"37"},{"startTime":1766787270515,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787270517,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
183	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787270549,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787270549,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787270549,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787270551,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787270552,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787270554,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787270556,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
184	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787270558,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787270558,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787270558,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787270560,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787270561,"executionIndex":3,"source":"35","hints":"36","executionTime":7,"executionStatus":"27","data":"37"},{"startTime":1766787270568,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787270570,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Conversations",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"93","title":"94","updated_at":"95","message_count":8},{"item":0},{"success":true,"conversations":"96"},{"item":0},{"item":0},{"host":"97","x-real-ip":"98","x-forwarded-for":"98","x-forwarded-proto":"99","connection":"100","sec-ch-ua-platform":"101","authorization":"102","user-agent":"103","accept":"104","sec-ch-ua":"105","dnt":"106","sec-ch-ua-mobile":"107","sec-fetch-site":"108","sec-fetch-mode":"109","sec-fetch-dest":"110","referer":"111","accept-encoding":"112","accept-language":"113","cookie":"114","sec-gpc":"106","if-none-match":"115"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z",["116"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"d0-3cHl/OTB+ULpColxOx53Op4UhNU\\"",{"conversation_id":"93","title":"94","updated_at":"95","message_count":8}]
186	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787270596,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787270596,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787270596,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787270599,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787270600,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787270602,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787270605,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
188	{"id":"wibotrene9fa6a78","name":"WIBOT - Rename Conversation","active":true,"activeVersionId":"83bbe10b-0d6d-43e4-a909-0d330620e8bb","isArchived":false,"createdAt":"2025-12-26T22:11:38.806Z","updatedAt":"2025-12-26T22:11:38.806Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"PATCH","path":"wibot/conversation/rename","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-rename","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-rename-conversation"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\nconst conversationId = body.conversationId;\\nconst newTitle = body.title;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nif (!newTitle || newTitle.trim().length === 0) {\\n  return [{ json: { valid: false, error: 'title is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId, newTitle: newTitle.trim() } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"UPDATE conversations\\nSET title = '{{ $json.newTitle }}', updated_at = NOW()\\nWHERE conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND user_id = {{ $json.userId }}\\nRETURNING conversation_id::text, title, TO_CHAR(updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at;","options":{}},"id":"rename-conversation","name":"Rename Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: false,\\n      error: 'Conversation not found or access denied'\\n    }\\n  }];\\n}\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversation: {\\n      conversation_id: rows[0].json.conversation_id,\\n      title: rows[0].json.title,\\n      updated_at: rows[0].json.updated_at\\n    }\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Rename Conversation","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Rename Conversation":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Rename Conversation":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787284382,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787284382,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787284382,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787284385,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787284386,"executionIndex":3,"source":"35","hints":"36","executionTime":4,"executionStatus":"27","data":"37"},{"startTime":1766787284390,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787284393,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Rename Conversation",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1,"conversationId":"93","newTitle":"94"},{"item":0},{"item":0},{"conversation_id":"93","title":"94","updated_at":"95"},{"item":0},{"success":true,"conversation":"96"},{"item":0},{"item":0},{"host":"97","x-real-ip":"98","x-forwarded-for":"98","x-forwarded-proto":"99","connection":"100","content-length":"101","sec-ch-ua-platform":"102","authorization":"103","sec-ch-ua":"104","sec-ch-ua-mobile":"105","user-agent":"106","accept":"107","dnt":"108","content-type":"109","origin":"110","sec-fetch-site":"111","sec-fetch-mode":"112","sec-fetch-dest":"113","referer":"114","accept-encoding":"115","accept-language":"116","cookie":"117","sec-gpc":"108"},{},{},{"conversationId":"93","title":"94"},"http://localhost:5678/webhook/wibot/conversation/rename","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","ABC","2025-12-26T22:14:44Z",{"conversation_id":"93","title":"94","updated_at":"95"},"localhost","172.20.0.1","http","close","71","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","?0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","1","application/json","http://localhost:5173","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D"]
139	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786927965,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786927965,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786927965,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766786927969,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766786927970,"executionIndex":3,"source":"35","hints":"36","executionTime":5,"executionStatus":"27","data":"37"},{"startTime":1766786927975,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786927978,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
140	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786927980,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786927980,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786927980,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786927983,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786927984,"executionIndex":3,"source":"35","hints":"36","executionTime":17,"executionStatus":"27","data":"37"},{"startTime":1766786928002,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786928004,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
142	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786928029,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786928030,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786928030,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786928032,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786928033,"executionIndex":3,"source":"35","hints":"36","executionTime":1,"executionStatus":"27","data":"37"},{"startTime":1766786928035,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786928037,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
144	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786935577,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786935577,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766786935578,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786935580,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786935581,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766786935583,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786935586,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
147	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786935641,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786935642,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786935642,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786935644,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786935645,"executionIndex":3,"source":"35","hints":"36","executionTime":6,"executionStatus":"27","data":"37"},{"startTime":1766786935651,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786935654,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
149	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786935685,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786935686,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786935686,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786935688,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766786935688,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766786935691,"executionIndex":4,"source":"38","hints":"39","executionTime":1,"executionStatus":"27","data":"40"},{"startTime":1766786935693,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
151	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786935698,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786935698,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786935698,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786935701,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786935702,"executionIndex":3,"source":"35","hints":"36","executionTime":6,"executionStatus":"27","data":"37"},{"startTime":1766786935708,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786935711,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
153	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786935746,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786935746,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786935746,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786935748,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786935749,"executionIndex":3,"source":"35","hints":"36","executionTime":8,"executionStatus":"27","data":"37"},{"startTime":1766786935757,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786935760,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
180	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15"},"Get Messages",{},[],{},{},{},{"version":1,"establishedAt":1766787256970,"source":"16"},["17"],["18"],["19"],["20"],"webhook",{"startTime":1766787256971,"executionIndex":0,"source":"21","hints":"22","executionTime":0,"executionStatus":"23","data":"24"},{"startTime":1766787256971,"executionIndex":1,"source":"25","hints":"26","executionTime":2,"executionStatus":"23","data":"27"},{"startTime":1766787256973,"executionIndex":2,"source":"28","hints":"29","executionTime":0,"executionStatus":"23","data":"30"},{"startTime":1766787256973,"executionIndex":3,"source":"31","hints":"32","executionTime":2,"executionStatus":"23","data":"33"},[],[],"success",{"main":"34"},["35"],["36"],{"main":"37"},["38"],[],{"main":"39"},["40"],[],{"main":"41"},["42"],{"previousNode":"43"},{"message":"44","location":"45"},["46"],{"previousNode":"47"},["48","49"],{"previousNode":"50"},["51"],["52"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["53"],"Verify JWT",["54"],[],"JWT Valid?",[],{"json":"55","pairedItem":"56"},{"json":"57","pairedItem":"58"},{"json":"57","pairedItem":"59"},{"headers":"60","params":"61","query":"62","body":"63","webhookUrl":"64","executionMode":"65"},{"item":0},{"valid":true,"userId":1,"conversationId":"66"},{"item":0},{"item":0},{"host":"67","x-real-ip":"68","x-forwarded-for":"68","x-forwarded-proto":"69","connection":"70","sec-ch-ua-platform":"71","authorization":"72","user-agent":"73","accept":"74","sec-ch-ua":"75","dnt":"76","sec-ch-ua-mobile":"77","sec-fetch-site":"78","sec-fetch-mode":"79","sec-fetch-dest":"80","referer":"81","accept-encoding":"82","accept-language":"83","cookie":"84","sec-gpc":"76"},{},{"conversationId":"66"},{},"http://localhost:5678/webhook/wibot/messages","production","26ffea5e-c255-4188-a32a-e313127ccce8","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D"]
181	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787270500,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787270500,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787270500,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787270503,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787270504,"executionIndex":3,"source":"35","hints":"36","executionTime":15,"executionStatus":"27","data":"37"},{"startTime":1766787270519,"executionIndex":4,"source":"38","hints":"39","executionTime":1,"executionStatus":"27","data":"40"},{"startTime":1766787270521,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Conversations",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"93","title":"94","updated_at":"95","message_count":8},{"item":0},{"success":true,"conversations":"96"},{"item":0},{"item":0},{"host":"97","x-real-ip":"98","x-forwarded-for":"98","x-forwarded-proto":"99","connection":"100","sec-ch-ua-platform":"101","authorization":"102","user-agent":"103","accept":"104","sec-ch-ua":"105","dnt":"106","sec-ch-ua-mobile":"107","sec-fetch-site":"108","sec-fetch-mode":"109","sec-fetch-dest":"110","referer":"111","accept-encoding":"112","accept-language":"113","cookie":"114","sec-gpc":"106","if-none-match":"115"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z",["116"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"d0-3cHl/OTB+ULpColxOx53Op4UhNU\\"",{"conversation_id":"93","title":"94","updated_at":"95","message_count":8}]
185	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787270563,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787270563,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787270563,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787270565,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787270566,"executionIndex":3,"source":"35","hints":"36","executionTime":5,"executionStatus":"27","data":"37"},{"startTime":1766787270572,"executionIndex":4,"source":"38","hints":"39","executionTime":1,"executionStatus":"27","data":"40"},{"startTime":1766787270574,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
187	{"id":"wibotrene9fa6a78","name":"WIBOT - Rename Conversation","active":true,"activeVersionId":"83bbe10b-0d6d-43e4-a909-0d330620e8bb","isArchived":false,"createdAt":"2025-12-26T22:11:38.806Z","updatedAt":"2025-12-26T22:11:38.806Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"PATCH","path":"wibot/conversation/rename","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-rename","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-rename-conversation"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\nconst conversationId = body.conversationId;\\nconst newTitle = body.title;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nif (!newTitle || newTitle.trim().length === 0) {\\n  return [{ json: { valid: false, error: 'title is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId, newTitle: newTitle.trim() } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"UPDATE conversations\\nSET title = '{{ $json.newTitle }}', updated_at = NOW()\\nWHERE conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND user_id = {{ $json.userId }}\\nRETURNING conversation_id::text, title, TO_CHAR(updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at;","options":{}},"id":"rename-conversation","name":"Rename Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: false,\\n      error: 'Conversation not found or access denied'\\n    }\\n  }];\\n}\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversation: {\\n      conversation_id: rows[0].json.conversation_id,\\n      title: rows[0].json.title,\\n      updated_at: rows[0].json.updated_at\\n    }\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Rename Conversation","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Rename Conversation":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"error":"4","runData":"5","lastNodeExecuted":"6"},{"contextData":"7","nodeExecutionStack":"8","metadata":"9","waitingExecution":"10","waitingExecutionSource":"11","runtimeData":"12"},{"level":"13","tags":"14","description":"15","timestamp":1766787278034,"context":"16","functionality":"17","name":"18","node":"19","messages":"20","message":"21","stack":"22"},{"Webhook":"23","Verify JWT":"24","JWT Valid?":"25","Rename Conversation":"26"},"Rename Conversation",{},["27"],{},{},{},{"version":1,"establishedAt":1766787278027,"source":"28"},"warning",{},"Failed query: UPDATE conversations\\nSET title = 'quel est le chiffre important que je t'ai donn !', updated_at = NOW()\\nWHERE conversation_id = '963eb9f1-fdcc-4cd5-918b-29fae40c17a0'::uuid\\n  AND user_id = 1\\nRETURNING conversation_id::text, title, TO_CHAR(updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at;",{"itemIndex":0},"regular","NodeOperationError",{"parameters":"29","id":"30","name":"6","type":"31","typeVersion":2.5,"position":"32","credentials":"33"},[],"Syntax error at line 2 near \\"ai\\"","NodeOperationError: Syntax error at line 2 near \\"ai\\"\\n    at parsePostgresError (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-nodes-base@file+packages+nodes-base_@aws-sdk+credential-providers@3.808.0_asn1.js@5_8da18263ca0574b0db58d4fefd8173ce/node_modules/n8n-nodes-base/nodes/Postgres/v2/helpers/utils.ts:124:9)\\n    at /usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-nodes-base@file+packages+nodes-base_@aws-sdk+credential-providers@3.808.0_asn1.js@5_8da18263ca0574b0db58d4fefd8173ce/node_modules/n8n-nodes-base/nodes/Postgres/v2/helpers/utils.ts:279:19\\n    at processTicksAndRejections (node:internal/process/task_queues:105:5)\\n    at ExecuteContext.execute (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-nodes-base@file+packages+nodes-base_@aws-sdk+credential-providers@3.808.0_asn1.js@5_8da18263ca0574b0db58d4fefd8173ce/node_modules/n8n-nodes-base/nodes/Postgres/v2/actions/database/executeQuery.operation.ts:149:9)\\n    at ExecuteContext.router (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-nodes-base@file+packages+nodes-base_@aws-sdk+credential-providers@3.808.0_asn1.js@5_8da18263ca0574b0db58d4fefd8173ce/node_modules/n8n-nodes-base/nodes/Postgres/v2/actions/router.ts:41:17)\\n    at ExecuteContext.execute (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-nodes-base@file+packages+nodes-base_@aws-sdk+credential-providers@3.808.0_asn1.js@5_8da18263ca0574b0db58d4fefd8173ce/node_modules/n8n-nodes-base/nodes/Postgres/v2/PostgresV2.node.ts:26:10)\\n    at WorkflowExecute.executeNode (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_08b575bec2313d5d8a4cc75358971443/node_modules/n8n-core/src/execution-engine/workflow-execute.ts:1074:8)\\n    at WorkflowExecute.runNode (/usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_08b575bec2313d5d8a4cc75358971443/node_modules/n8n-core/src/execution-engine/workflow-execute.ts:1255:11)\\n    at /usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_08b575bec2313d5d8a4cc75358971443/node_modules/n8n-core/src/execution-engine/workflow-execute.ts:1691:27\\n    at /usr/local/lib/node_modules/n8n/node_modules/.pnpm/n8n-core@file+packages+core_@opentelemetry+api@1.9.0_@opentelemetry+sdk-trace-base@1.30_08b575bec2313d5d8a4cc75358971443/node_modules/n8n-core/src/execution-engine/workflow-execute.ts:2307:11",["34"],["35"],["36"],["37"],{"node":"38","data":"39","source":"40"},"webhook",{"resource":"41","operation":"42","query":"43","options":"44"},"rename-conversation","n8n-nodes-base.postgres",[910,200],{"postgres":"45"},{"startTime":1766787278027,"executionIndex":0,"source":"46","hints":"47","executionTime":0,"executionStatus":"48","data":"49"},{"startTime":1766787278027,"executionIndex":1,"source":"50","hints":"51","executionTime":3,"executionStatus":"48","data":"52"},{"startTime":1766787278030,"executionIndex":2,"source":"53","hints":"54","executionTime":0,"executionStatus":"48","data":"55"},{"startTime":1766787278031,"executionIndex":3,"source":"56","hints":"57","executionTime":17,"executionStatus":"58","error":"59"},{"parameters":"60","id":"30","name":"6","type":"31","typeVersion":2.5,"position":"61","credentials":"62"},{"main":"63"},{"main":"56"},"database","executeQuery","UPDATE conversations\\nSET title = '{{ $json.newTitle }}', updated_at = NOW()\\nWHERE conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND user_id = {{ $json.userId }}\\nRETURNING conversation_id::text, title, TO_CHAR(updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at;",{},{"id":"64","name":"65"},[],[],"success",{"main":"66"},["67"],["68"],{"main":"69"},["70"],[],{"main":"71"},["72"],[],"error",{"level":"13","tags":"14","description":"15","timestamp":1766787278034,"context":"16","functionality":"17","name":"18","node":"19","messages":"20","message":"21","stack":"22"},{"resource":"41","operation":"42","query":"43","options":"73"},[910,200],{"postgres":"74"},["75"],"yY2GzRzLXTG4anFZ","WIBOT PostgreSQL",["76"],{"previousNode":"77"},{"message":"78","location":"79"},["80"],{"previousNode":"81"},["82","83"],{"previousNode":"84"},{},{"id":"64","name":"65"},["85"],["86"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["87"],"Verify JWT",["88"],[],"JWT Valid?",{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"92"},{"json":"89","pairedItem":"93"},{"json":"89","pairedItem":"94"},{"valid":true,"userId":1,"conversationId":"95","newTitle":"96"},{"item":0},{"headers":"97","params":"98","query":"99","body":"100","webhookUrl":"101","executionMode":"102"},{"item":0},{"item":0},{"item":0},"963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn !",{"host":"103","x-real-ip":"104","x-forwarded-for":"104","x-forwarded-proto":"105","connection":"106","content-length":"107","sec-ch-ua-platform":"108","authorization":"109","sec-ch-ua":"110","sec-ch-ua-mobile":"111","user-agent":"112","accept":"113","dnt":"114","content-type":"115","origin":"116","sec-fetch-site":"117","sec-fetch-mode":"118","sec-fetch-dest":"119","referer":"120","accept-encoding":"121","accept-language":"122","cookie":"123","sec-gpc":"114"},{},{},{"conversationId":"95","title":"96"},"http://localhost:5678/webhook/wibot/conversation/rename","production","localhost","172.20.0.1","http","close","118","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","?0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","1","application/json","http://localhost:5173","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D"]
189	{"id":"NynEDh5rxUQL7788","name":"WIBOT - Chat Main","active":true,"activeVersionId":"0320f681-77a9-433a-8fa9-e5979502f561","isArchived":false,"createdAt":"2025-12-26T17:23:30.579Z","updatedAt":"2025-12-26T22:07:31.120Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"POST","path":"wibot/chat","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"fa8ec4be-706d-4001-ad6c-fcb0f99736af","name":"Webhook Chat","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1328,348],"webhookId":"wibot-chat"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  // Decode base64url payload\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  // Check expiration\\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ \\n    json: { \\n      valid: true, \\n      user: decoded,\\n      userId: decoded.userId,\\n      conversationId: body.conversation_id,\\n      message: body.message,\\n      sessionId: `${decoded.userId}_${body.conversation_id}`\\n    } \\n  }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"0004c18c-eca3-41dc-997e-590e7fd79356","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1104,348]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"bfcef1a4-73b6-486c-aab3-5977d98eb079","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-880,348]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"cba8bdb1-b75a-4f70-aa59-b7a0eda05fa5","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-656,444]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"c95bf25e-6737-45ac-a7bb-499bc0b7c7dc","name":"Check Quota","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-656,252],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\nlet usedTokens = 0;\\nlet quotaTokens = 50000;\\n\\nif (rows && rows.length > 0 && rows[0].json.used_tokens !== undefined) {\\n  usedTokens = parseInt(rows[0].json.used_tokens) || 0;\\n  quotaTokens = parseInt(rows[0].json.quota_tokens) || 50000;\\n}\\n\\nconst quotaExceeded = usedTokens >= quotaTokens;\\n\\nreturn [{\\n  json: {\\n    ...jwtData,\\n    usedTokens,\\n    quotaTokens,\\n    quotaExceeded\\n  }\\n}];","notice":""},"id":"4a1c034d-d824-4eec-8f7d-30e703f1deb5","name":"Prepare Quota","type":"n8n-nodes-base.code","typeVersion":2,"position":[-432,252]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-quota-ok","leftValue":"={{ $json.quotaExceeded }}","rightValue":false,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"19cfec26-6daa-4bf5-a4dd-9c46bc7e775a","name":"Quota OK?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-208,252]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Quota tokens mensuel depass\\\\u00e9. Limite : 50,000 tokens/mois.\\",\\n  \\"code\\": \\"QUOTA_EXCEEDED\\"\\n}","options":{"responseCode":429,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"664cd109-b947-42ee-b8c1-42b595e37b31","name":"Quota Exceeded","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[80,400]},{"parameters":{"aiAgentStarterCallout":"","preBuiltAgentsCallout":"","agent":"toolsAgent","promptType":"define","text":"={{ $json.message }}","hasOutputParser":false,"options":{"systemMessage":"Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel"},"credentials":""},"id":"9e04ca0c-5683-4a62-828d-5c057cf62605","name":"AI Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[16,0]},{"parameters":{"notice":"","model":"mistral-small-latest","options":{"maxTokens":2048,"temperature":0.7}},"id":"1668e2c3-0095-4fbb-877e-e60722e8d24b","name":"Mistral Cloud Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatMistralCloud","typeVersion":1,"position":[16,160],"credentials":{"mistralCloudApi":{"id":"b9hl3JA2taufCYVr","name":"Mistral API"}}},{"parameters":{"notice":"","sessionIdType":"customKey","sessionKey":"={{ $('Verify JWT').first().json.sessionId }}","tableName":"n8n_chat_histories","contextWindowLength":10},"id":"cffc5919-5412-4308-9671-843b8d2d035f","name":"Postgres Chat Memory","type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[112,224],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const agentResponse = $input.first().json.output;\\nconst jwtData = $('Prepare Quota').first().json;\\n\\n// Estimation tokens (environ 4 chars par token)\\nconst messageTokens = Math.ceil(jwtData.message.length / 4);\\nconst responseTokens = Math.ceil(agentResponse.length / 4);\\nconst tokensUsed = messageTokens + responseTokens;\\n\\nconst newUsedTokens = jwtData.usedTokens + tokensUsed;\\nconst tokensRemaining = jwtData.quotaTokens - newUsedTokens;\\n\\nreturn [{\\n  json: {\\n    userId: jwtData.userId,\\n    conversationId: jwtData.conversationId,\\n    message: jwtData.message,\\n    response: agentResponse,\\n    tokensUsed,\\n    newUsedTokens,\\n    tokensRemaining: Math.max(0, tokensRemaining),\\n    quotaTokens: jwtData.quotaTokens\\n  }\\n}];","notice":""},"id":"b2c9d072-5736-4839-9f3f-8c63b5fe8801","name":"Prepare Save","type":"n8n-nodes-base.code","typeVersion":2,"position":[368,104]},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO conversations (conversation_id, user_id, title, created_at, updated_at)\\nVALUES (\\n  '{{ $json.conversationId }}'::uuid,\\n  {{ $json.userId }},\\n  '{{ $json.message.substring(0, 50).replace(/'/g, \\"''\\") }}',\\n  NOW(),\\n  NOW()\\n)\\nON CONFLICT (conversation_id)\\nDO UPDATE SET updated_at = NOW();","options":{}},"id":"6c1ace5b-ec88-44b5-a9b5-182a4957e5c9","name":"UPSERT Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[592,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'user',\\n  '{{ $('Prepare Save').first().json.message.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.message.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"19bf528f-0b9d-44d5-b768-58e63ddee026","name":"INSERT User Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[816,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'assistant',\\n  '{{ $('Prepare Save').first().json.response.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.response.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"22a33991-a55c-428d-b673-3b0eef3b8a1a","name":"INSERT Assistant Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[1040,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"resource":"database","operation":"executeQuery","query":"INSERT INTO user_token_usage (user_id, month, used_tokens, quota_tokens)\\nVALUES (\\n  {{ $('Prepare Save').first().json.userId }},\\n  DATE_TRUNC('month', CURRENT_DATE),\\n  {{ $('Prepare Save').first().json.tokensUsed }},\\n  50000\\n)\\nON CONFLICT (user_id, month)\\nDO UPDATE SET used_tokens = user_token_usage.used_tokens + {{ $('Prepare Save').first().json.tokensUsed }};","options":{}},"id":"344a1edc-fdf7-4ba0-a506-10b00624a0ac","name":"UPDATE Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[1264,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const data = $('Prepare Save').first().json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    response: data.response,\\n    tokens_used: data.tokensUsed,\\n    tokens_remaining: data.tokensRemaining,\\n    conversation_id: data.conversationId\\n  }\\n}];","notice":""},"id":"d3257586-4db1-4ccf-8b88-2ec7203c06ee","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1488,104]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"bfca5f39-23d9-494d-9b4e-767225255749","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1712,104]}],"connections":{"Webhook Chat":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Check Quota","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Check Quota":{"main":[[{"node":"Prepare Quota","type":"main","index":0}]]},"Prepare Quota":{"main":[[{"node":"Quota OK?","type":"main","index":0}]]},"Quota OK?":{"main":[[{"node":"AI Agent","type":"main","index":0}],[{"node":"Quota Exceeded","type":"main","index":0}]]},"Mistral Cloud Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Postgres Chat Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"AI Agent":{"main":[[{"node":"Prepare Save","type":"main","index":0}]]},"Prepare Save":{"main":[[{"node":"UPSERT Conversation","type":"main","index":0}]]},"UPSERT Conversation":{"main":[[{"node":"INSERT User Message","type":"main","index":0}]]},"INSERT User Message":{"main":[[{"node":"INSERT Assistant Message","type":"main","index":0}]]},"INSERT Assistant Message":{"main":[[{"node":"UPDATE Token Usage","type":"main","index":0}]]},"UPDATE Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook Chat":"12","Verify JWT":"13","JWT Valid?":"14","Check Quota":"15","Prepare Quota":"16","Quota OK?":"17","Postgres Chat Memory":"18","Mistral Cloud Chat Model":"19","AI Agent":"20","Prepare Save":"21","UPSERT Conversation":"22","INSERT User Message":"23","INSERT Assistant Message":"24","UPDATE Token Usage":"25","Format Response":"26","Success":"27"},"Success",{},[],{"Postgres Chat Memory":"28","Mistral Cloud Chat Model":"29"},{},{},{"version":1,"establishedAt":1766787290033,"source":"30"},["31"],["32"],["33"],["34"],["35"],["36"],["37","38"],["39"],["40"],["41"],["42"],["43"],["44"],["45"],["46"],["47"],["48","49"],["50"],"webhook",{"startTime":1766787290033,"executionIndex":0,"source":"51","hints":"52","executionTime":0,"executionStatus":"53","data":"54"},{"startTime":1766787290033,"executionIndex":1,"source":"55","hints":"56","executionTime":4,"executionStatus":"53","data":"57"},{"startTime":1766787290037,"executionIndex":2,"source":"58","hints":"59","executionTime":1,"executionStatus":"53","data":"60"},{"startTime":1766787290038,"executionIndex":3,"source":"61","hints":"62","executionTime":1,"executionStatus":"53","data":"63"},{"startTime":1766787290039,"executionIndex":4,"source":"64","hints":"65","executionTime":3,"executionStatus":"53","data":"66"},{"startTime":1766787290042,"executionIndex":5,"source":"67","hints":"68","executionTime":4,"executionStatus":"53","data":"69"},{"startTime":1766787290075,"executionTime":7,"executionIndex":7,"executionStatus":"53","source":"70","data":"71","inputOverride":"72","metadata":"73"},{"startTime":1766787290789,"executionTime":5,"executionIndex":9,"executionStatus":"53","source":"74","data":"75","inputOverride":"76","metadata":"77"},{"startTime":1766787290519,"executionTime":264,"executionIndex":8,"executionStatus":"53","source":"78","data":"79","inputOverride":"80","metadata":"81"},{"startTime":1766787290046,"executionIndex":6,"source":"82","hints":"83","executionTime":749,"executionStatus":"53","data":"84"},{"startTime":1766787290795,"executionIndex":10,"source":"85","hints":"86","executionTime":3,"executionStatus":"53","data":"87"},{"startTime":1766787290798,"executionIndex":11,"source":"88","hints":"89","executionTime":7,"executionStatus":"53","data":"90"},{"startTime":1766787290805,"executionIndex":12,"source":"91","hints":"92","executionTime":13,"executionStatus":"53","data":"93"},{"startTime":1766787290818,"executionIndex":13,"source":"94","hints":"95","executionTime":9,"executionStatus":"53","data":"96"},{"startTime":1766787290827,"executionIndex":14,"source":"97","hints":"98","executionTime":6,"executionStatus":"53","data":"99"},{"startTime":1766787290833,"executionIndex":15,"source":"100","hints":"101","executionTime":2,"executionStatus":"53","data":"102"},{"startTime":1766787290835,"executionIndex":16,"source":"103","hints":"104","executionTime":1,"executionStatus":"53","data":"105"},{"subRun":"106"},{"subRun":"107"},{"subRun":"108"},[],[],"success",{"main":"109"},["110"],["111"],{"main":"112"},["113"],[],{"main":"114"},["115"],[],{"main":"116"},["117"],["118"],{"main":"119"},["120"],[],{"main":"121"},["122"],{"ai_memory":"123"},{"ai_memory":"124"},{"subRun":"106"},["125"],{"ai_memory":"126"},{"ai_memory":"127"},{"subRun":"107"},["128"],{"ai_languageModel":"129"},{"ai_languageModel":"130"},{"subRun":"108"},["131"],[],{"main":"132"},["133"],["134"],{"main":"135"},["136"],[],{"main":"137"},["138"],[],{"main":"139"},["140"],[],{"main":"141"},["142"],[],{"main":"143"},["144"],["145"],{"main":"146"},["147"],[],{"main":"148"},["149"],["150"],["151"],["152"],{"previousNode":"153"},{"message":"154","location":"155"},["156"],{"previousNode":"157"},["158","159"],{"previousNode":"160"},["161"],{"previousNode":"162"},{"message":"154","location":"155"},["163"],{"previousNode":"164"},["165","166"],{"previousNode":"167","previousNodeRun":0},["168"],["169"],{"previousNode":"167","previousNodeRun":0},["170"],["171"],{"previousNode":"167","previousNodeRun":0},["172"],["173"],{"previousNode":"174"},["175"],{"previousNode":"167"},{"message":"154","location":"155"},["176"],{"previousNode":"177"},["178"],{"previousNode":"179"},["180"],{"previousNode":"181"},["182"],{"previousNode":"183"},["184"],{"previousNode":"185"},{"message":"154","location":"155"},["186"],{"previousNode":"187"},["188"],{"node":"189","runIndex":0},{"node":"189","runIndex":1},{"node":"190","runIndex":0},["191"],"Webhook Chat","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["192"],"Verify JWT",["193"],[],"JWT Valid?",["194"],"Check Quota",["195"],"Prepare Quota",["196"],[],"AI Agent",["197"],["198"],["199"],["200"],["201"],["202"],"Quota OK?",["203"],["204"],"Prepare Save",["205"],"UPSERT Conversation",["206"],"INSERT User Message",["207"],"INSERT Assistant Message",["208"],"UPDATE Token Usage",["209"],"Format Response",["210"],"Postgres Chat Memory","Mistral Cloud Chat Model",{"json":"211","pairedItem":"212"},{"json":"213","pairedItem":"214"},{"json":"213","pairedItem":"215"},{"json":"216","pairedItem":"217"},{"json":"218","pairedItem":"219"},{"json":"218","pairedItem":"220"},{"json":"221"},{"json":"222"},{"json":"223"},{"json":"224"},{"json":"225"},{"json":"226"},{"json":"227","pairedItem":"228"},{"json":"229","pairedItem":"230"},{"json":"231","pairedItem":"232"},{"json":"233","pairedItem":"234"},{"json":"235","pairedItem":"236"},{"json":"237","pairedItem":"238"},{"json":"239","pairedItem":"240"},{"json":"239","pairedItem":"241"},{"headers":"242","params":"243","query":"244","body":"245","webhookUrl":"246","executionMode":"247"},{"item":0},{"valid":true,"user":"248","userId":1,"conversationId":"249","message":"250","sessionId":"251"},{"item":0},{"item":0},{"used_tokens":"252","quota_tokens":"253"},{"item":0},{"valid":true,"user":"254","userId":1,"conversationId":"249","message":"250","sessionId":"251","usedTokens":14353,"quotaTokens":50000,"quotaExceeded":false},{"item":0},{"item":0},{"action":"255","chatHistory":"256"},{"action":"255","values":"257"},{"action":"258","chatHistory":"259"},{"action":"258","input":"260","output":"261"},{"response":"262","tokenUsage":"263"},{"messages":"264","estimatedTokens":110,"options":"265"},{"output":"266"},{"item":0},{"userId":1,"conversationId":"249","message":"250","response":"266","tokensUsed":14,"newUsedTokens":14367,"tokensRemaining":35633,"quotaTokens":50000},{"item":0},{"success":true},["267"],{"success":true},["268"],{"success":true},["269"],{"success":true},["270"],{"success":true,"response":"266","tokens_used":14,"tokens_remaining":35633,"conversation_id":"249"},{"item":0},{"item":0},{"host":"271","x-real-ip":"272","x-forwarded-for":"272","x-forwarded-proto":"273","connection":"274","content-length":"275","sec-ch-ua-platform":"276","authorization":"277","sec-ch-ua":"278","sec-ch-ua-mobile":"279","user-agent":"280","accept":"281","dnt":"282","content-type":"283","origin":"284","sec-fetch-site":"285","sec-fetch-mode":"286","sec-fetch-dest":"287","referer":"288","accept-encoding":"289","accept-language":"290","cookie":"291","sec-gpc":"282"},{},{},{"conversation_id":"249","message":"250"},"http://localhost:5678/webhook/wibot/chat","production",{"userId":1,"username":"292","role":"293","iat":1766772216,"exp":1766858616},"b88ac204-9035-4930-a37c-463f8b32af0c","hey","1_b88ac204-9035-4930-a37c-463f8b32af0c","14353","50000",{"userId":1,"username":"292","role":"293","iat":1766772216,"exp":1766858616},"loadMemoryVariables",[],{"input":"250","system_message":"294","formatting_instructions":"295"},"saveContext",["296","297"],{"input":"250","system_message":"294","formatting_instructions":"295"},{"input":"250","system_message":"294","formatting_instructions":"295","chat_history":"256","output":"266"},{"generations":"298"},{"completionTokens":12,"promptTokens":112,"totalTokens":124},["299"],{"mistral_api_key":"300","model":"301","max_tokens":2048,"temperature":0.7,"metadata":"302"},"Bonjour ! Comment puis-je vous aider aujourd'hui ?",{"item":0},{"item":0},{"item":0},{"item":0},"localhost","172.20.0.1","http","close","74","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","?0","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","1","application/json","http://localhost:5173","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","khora","admin","Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel","IMPORTANT: For your response to user, you MUST use the `format_final_json_response` tool with your complete answer formatted according to the required schema. Do not attempt to format the JSON manually - always use this tool. Your response will be rejected if it is not properly formatted through this tool. Only use this tool once you are ready to provide your final answer.",{"lc":1,"type":"303","id":"304","kwargs":"305"},{"lc":1,"type":"303","id":"306","kwargs":"307"},["308"],"System: Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel\\nHuman: hey",{"lc":1,"type":"309","id":"310"},"mistral-small-latest",{},"constructor",["311","312","313"],{"content":"250","additional_kwargs":"314","response_metadata":"315"},["311","312","316"],{"content":"266","tool_calls":"317","additional_kwargs":"318","response_metadata":"319","invalid_tool_calls":"320"},["321"],"secret",["322"],"langchain_core","messages","HumanMessage",{},{},"AIMessage",[],{},{},[],{"text":"266","generationInfo":"323"},"MISTRAL_API_KEY",{"prompt":0,"completion":0}]
143	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786928058,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786928059,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786928059,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786928062,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766786928062,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766786928064,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786928066,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
145	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786935589,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786935589,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766786935590,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786935593,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766786935593,"executionIndex":3,"source":"35","hints":"36","executionTime":5,"executionStatus":"27","data":"37"},{"startTime":1766786935598,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786935601,"executionIndex":5,"source":"41","hints":"42","executionTime":2,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
146	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786935630,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786935630,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786935630,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786935632,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786935633,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766786935636,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786935638,"executionIndex":5,"source":"41","hints":"42","executionTime":2,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
148	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786935645,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786935645,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766786935646,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786935648,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786935649,"executionIndex":3,"source":"35","hints":"36","executionTime":8,"executionStatus":"27","data":"37"},{"startTime":1766786935657,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786935660,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
150	{"id":"c8fbjjX9ObuzBE4b","name":"WIBOT - Get User Tokens","active":true,"activeVersionId":"62643582-5e10-4f85-9c6c-74a85d102e67","isArchived":false,"createdAt":"2025-12-26T17:24:01.471Z","updatedAt":"2025-12-26T17:24:05.529Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/user/tokens","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];","notice":""},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Token Usage":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786935695,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786935695,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786935695,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786935697,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766786935698,"executionIndex":3,"source":"35","hints":"36","executionTime":5,"executionStatus":"27","data":"37"},{"startTime":1766786935703,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786935706,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Get Token Usage",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"used_tokens":"93","quota_tokens":"94","tokens_remaining":"95"},{"item":0},{"success":true,"used_tokens":14353,"quota_tokens":50000,"tokens_remaining":35647},{"item":0},{"item":0},{"host":"96","x-real-ip":"97","x-forwarded-for":"97","x-forwarded-proto":"98","connection":"99","sec-ch-ua-platform":"100","authorization":"101","user-agent":"102","accept":"103","sec-ch-ua":"104","dnt":"105","sec-ch-ua-mobile":"106","sec-fetch-site":"107","sec-fetch-mode":"108","sec-fetch-dest":"109","referer":"110","accept-encoding":"111","accept-language":"112","cookie":"113","sec-gpc":"105","if-none-match":"114"},{},{},{},"http://localhost:5678/webhook/wibot/user/tokens","production","14353","50000","35647","localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"52-eHX1zguHDxHiVPOLsHSEAK1e2d4\\""]
152	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786935741,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786935741,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786935741,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766786935744,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766786935744,"executionIndex":3,"source":"35","hints":"36","executionTime":10,"executionStatus":"27","data":"37"},{"startTime":1766786935754,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786935756,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","sec-ch-ua-platform":"115","authorization":"116","user-agent":"117","accept":"118","sec-ch-ua":"119","dnt":"120","sec-ch-ua-mobile":"121","sec-fetch-site":"122","sec-fetch-mode":"123","sec-fetch-dest":"124","referer":"125","accept-encoding":"126","accept-language":"127","cookie":"128","sec-gpc":"120","if-none-match":"129"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","550e8400-e29b-41d4-a716-446655440000","Conversation de test","2025-12-26T17:28:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["130","131","132","133"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"26f-vT5fVP674oqMWVPWp39kPkaUWpU\\"",{"conversation_id":"98","title":"99","updated_at":"100","message_count":2},{"conversation_id":"101","title":"102","updated_at":"103","message_count":8},{"conversation_id":"104","title":"105","updated_at":"106","message_count":12},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
154	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786935749,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786935749,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786935749,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786935751,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786935752,"executionIndex":3,"source":"35","hints":"36","executionTime":14,"executionStatus":"27","data":"37"},{"startTime":1766786935766,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766786935768,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
190	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787292485,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787292485,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787292485,"executionIndex":1,"source":"29","hints":"30","executionTime":4,"executionStatus":"27","data":"31"},{"startTime":1766787292489,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787292489,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787292491,"executionIndex":4,"source":"38","hints":"39","executionTime":4,"executionStatus":"27","data":"40"},{"startTime":1766787292495,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
192	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787293884,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787293884,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787293884,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787293887,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787293888,"executionIndex":3,"source":"35","hints":"36","executionTime":1,"executionStatus":"27","data":"37"},{"startTime":1766787293890,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787293892,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
194	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787294481,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787294481,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766787294482,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787294485,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787294485,"executionIndex":3,"source":"35","hints":"36","executionTime":4,"executionStatus":"27","data":"37"},{"startTime":1766787294489,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787294492,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77","78","79","80","81"],"Get Messages",["82"],"Format Response",["83"],{"json":"84","pairedItem":"85"},{"json":"86","pairedItem":"87"},{"json":"86","pairedItem":"88"},{"json":"89","pairedItem":"90"},{"json":"91","pairedItem":"90"},{"json":"92","pairedItem":"90"},{"json":"93","pairedItem":"90"},{"json":"94","pairedItem":"90"},{"json":"95","pairedItem":"90"},{"json":"96","pairedItem":"90"},{"json":"97","pairedItem":"90"},{"json":"98"},{"json":"98","pairedItem":"99"},{"headers":"100","params":"101","query":"102","body":"103","webhookUrl":"104","executionMode":"105"},{"item":0},{"valid":true,"userId":1,"conversationId":"106"},{"item":0},{"item":0},{"message_id":21,"role":"107","content":"108","created_at":"109"},{"item":0},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"},{"success":true,"messages":"120"},{"item":0},{"host":"121","x-real-ip":"122","x-forwarded-for":"122","x-forwarded-proto":"123","connection":"124","sec-ch-ua-platform":"125","authorization":"126","user-agent":"127","accept":"128","sec-ch-ua":"129","dnt":"130","sec-ch-ua-mobile":"131","sec-fetch-site":"132","sec-fetch-mode":"133","sec-fetch-dest":"134","referer":"135","accept-encoding":"136","accept-language":"137","cookie":"138","sec-gpc":"130","if-none-match":"139"},{},{"conversationId":"106"},{},"http://localhost:5678/webhook/wibot/messages","production","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","user","quel est le chiffre important que je t'ai donn ?","2025-12-26T16:45:37Z","assistant","Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !","salut","2025-12-26T17:13:49Z","Salut ! Comment puis-je vous aider aujourd'hui ? ","2025-12-26T17:14:33Z","Bonjour ! Comment puis-je vous aider aujourd'hui ? ","dsf a va ?","2025-12-26T17:34:13Z","Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?",["140","141","142","143","144","145","146","147"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"4f5-iX7OrMLhqWRZ+Pgvd44GsjyMq3A\\"",{"message_id":21,"role":"107","content":"108","created_at":"109"},{"message_id":22,"role":"110","content":"111","created_at":"109"},{"message_id":23,"role":"107","content":"112","created_at":"113"},{"message_id":24,"role":"110","content":"114","created_at":"113"},{"message_id":25,"role":"107","content":"112","created_at":"115"},{"message_id":26,"role":"110","content":"116","created_at":"115"},{"message_id":33,"role":"107","content":"117","created_at":"118"},{"message_id":34,"role":"110","content":"119","created_at":"118"}]
155	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766786935785,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766786935785,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766786935785,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766786935787,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766786935788,"executionIndex":3,"source":"35","hints":"36","executionTime":1,"executionStatus":"27","data":"37"},{"startTime":1766786935789,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766786935792,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":35,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":36,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","user","tu es tristes ?","2025-12-26T18:02:55Z","assistant","Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX1%2BkaSTLcADdjqHH0yrXGAibk2iR77BwMirzs19Iyl7Po6XoRoD9FsXOnuXYzYsGvE%2FrRyPG7uQDaA%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX19Gf4AdQLHt8kAQWtTVjWp8Ad5vr9oRWJKcHnlLiegmO%2FdgW2MB3x7IP%2FNiQ2u%2FcQZBn0YNXBv5XbhMA7fn73jDM63EE3v2iakvPE4dDYXyUA9LIqm1EYhVit7rI%2B2Y06oRP351%2F5pjgMBwdeNp0cgLp1csqoeoI3g%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX19C1%2F8axYq7btsEj3iF1%2FzYRsZL%2BuMaT2NgI5x2UnBYVojWaUpU1rpid%2BAeWYSWCEBbV7hyjWwcPIp9ixLCfqOvO5isyq5Rh%2FPRJFXtqMN0v4XINC404YU%2FHqMlIHeyC0DcyqjvBSDAhEInNtCe%2FXDpbqy3jD2lDeo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX19DGRkKj2JtmBGRzs938rzQWczhy9fWdEsp2b5P5lYcB2VX4Bbl9C2z%2FtRVyRzzRReSaA%2FGqoleDbFt1r%2FXWbxlmWiPdZkODX5XDSLmUO9sYr7%2B8PY6XB%2BgPb6afkpL42j3SVYC7EG17A%3D%3D","W/\\"1c3-FLRNx9lSWv1AwsfyAn02Yeb78cA\\"",{"message_id":35,"role":"95","content":"96","created_at":"97"},{"message_id":36,"role":"98","content":"99","created_at":"97"}]
156	{"id":"wibotrene9fa6a78","name":"WIBOT - Rename Conversation","active":true,"activeVersionId":"83bbe10b-0d6d-43e4-a909-0d330620e8bb","isArchived":false,"createdAt":"2025-12-26T22:11:38.806Z","updatedAt":"2025-12-26T22:11:38.806Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"PATCH","path":"wibot/conversation/rename","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-rename","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-rename-conversation"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\nconst conversationId = body.conversationId;\\nconst newTitle = body.title;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nif (!newTitle || newTitle.trim().length === 0) {\\n  return [{ json: { valid: false, error: 'title is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId, newTitle: newTitle.trim() } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"UPDATE conversations\\nSET title = '{{ $json.newTitle }}', updated_at = NOW()\\nWHERE conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND user_id = {{ $json.userId }}\\nRETURNING conversation_id::text, title, TO_CHAR(updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at;","options":{}},"id":"rename-conversation","name":"Rename Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: false,\\n      error: 'Conversation not found or access denied'\\n    }\\n  }];\\n}\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversation: {\\n      conversation_id: rows[0].json.conversation_id,\\n      title: rows[0].json.title,\\n      updated_at: rows[0].json.updated_at\\n    }\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Rename Conversation","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Rename Conversation":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Rename Conversation":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787139176,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787139177,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787139178,"executionIndex":1,"source":"29","hints":"30","executionTime":12,"executionStatus":"27","data":"31"},{"startTime":1766787139191,"executionIndex":2,"source":"32","hints":"33","executionTime":2,"executionStatus":"27","data":"34"},{"startTime":1766787139193,"executionIndex":3,"source":"35","hints":"36","executionTime":37,"executionStatus":"27","data":"37"},{"startTime":1766787139230,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787139233,"executionIndex":5,"source":"41","hints":"42","executionTime":3,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74"],"Rename Conversation",["75"],"Format Response",["76"],{"json":"77","pairedItem":"78"},{"json":"79","pairedItem":"80"},{"json":"79","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"84","pairedItem":"85"},{"json":"84","pairedItem":"86"},{"headers":"87","params":"88","query":"89","body":"90","webhookUrl":"91","executionMode":"92"},{"item":0},{"valid":true,"userId":1,"conversationId":"93","newTitle":"94"},{"item":0},{"item":0},{"conversation_id":"93","title":"94","updated_at":"95"},{"item":0},{"success":true,"conversation":"96"},{"item":0},{"item":0},{"host":"97","x-real-ip":"98","x-forwarded-for":"98","x-forwarded-proto":"99","connection":"100","content-length":"101","user-agent":"102","accept":"103","authorization":"104","content-type":"105"},{},{},{"conversationId":"93","title":"94"},"http://localhost:5678/webhook/wibot/conversation/rename","production","550e8400-e29b-41d4-a716-446655440000","Test Rename","2025-12-26T22:12:19Z",{"conversation_id":"93","title":"94","updated_at":"95"},"localhost","172.20.0.1","http","close","79","curl/8.12.1","*/*","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIwODgsImV4cCI6MTc2Njg1ODQ4OH0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","application/json"]
157	{"id":"yPYTzGXVRP2JQxs8","name":"WIBOT - Get Conversations","active":true,"activeVersionId":"e1bae720-4a31-4afe-a595-4a35f7e26b0f","isArchived":false,"createdAt":"2025-12-26T17:23:46.197Z","updatedAt":"2025-12-26T17:24:07.735Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/conversations","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];","notice":""},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Conversations":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787147390,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787147390,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766787147391,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787147394,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787147395,"executionIndex":3,"source":"35","hints":"36","executionTime":4,"executionStatus":"27","data":"37"},{"startTime":1766787147399,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787147402,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75","76","77"],"Get Conversations",["78"],"Format Response",["79"],{"json":"80","pairedItem":"81"},{"json":"82","pairedItem":"83"},{"json":"82","pairedItem":"84"},{"json":"85","pairedItem":"86"},{"json":"87","pairedItem":"86"},{"json":"88","pairedItem":"86"},{"json":"89","pairedItem":"86"},{"json":"90"},{"json":"90","pairedItem":"91"},{"headers":"92","params":"93","query":"94","body":"95","webhookUrl":"96","executionMode":"97"},{"item":0},{"valid":true,"userId":1},{"item":0},{"item":0},{"conversation_id":"98","title":"99","updated_at":"100","message_count":12},{"item":0},{"conversation_id":"101","title":"102","updated_at":"103","message_count":2},{"conversation_id":"104","title":"105","updated_at":"106","message_count":8},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14},{"success":true,"conversations":"110"},{"item":0},{"host":"111","x-real-ip":"112","x-forwarded-for":"112","x-forwarded-proto":"113","connection":"114","user-agent":"115","accept":"116","authorization":"117"},{},{},{},"http://localhost:5678/webhook/wibot/conversations","production","550e8400-e29b-41d4-a716-446655440000","Test Rename","2025-12-26T22:12:19Z","419ba4c9-f14d-4af2-83b3-ba2399c17ffb","tu es tristes ?","2025-12-26T18:02:55Z","963eb9f1-fdcc-4cd5-918b-29fae40c17a0","quel est le chiffre important que je t'ai donn ?","2025-12-26T17:34:13Z","3cc2c8db-afef-4637-accc-31d259f53857","saluty","2025-12-26T16:45:24Z",["118","119","120","121"],"localhost","172.20.0.1","http","close","curl/8.12.1","*/*","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIwODgsImV4cCI6MTc2Njg1ODQ4OH0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh",{"conversation_id":"98","title":"99","updated_at":"100","message_count":12},{"conversation_id":"101","title":"102","updated_at":"103","message_count":2},{"conversation_id":"104","title":"105","updated_at":"106","message_count":8},{"conversation_id":"107","title":"108","updated_at":"109","message_count":14}]
191	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787293155,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787293155,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787293155,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787293158,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787293158,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787293160,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787293163,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":37,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":38,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","b88ac204-9035-4930-a37c-463f8b32af0c","user","hey","2025-12-26T22:14:50Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["119","120"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D",{"message_id":37,"role":"95","content":"96","created_at":"97"},{"message_id":38,"role":"98","content":"99","created_at":"97"}]
193	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787294143,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787294143,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787294143,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787294146,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787294147,"executionIndex":3,"source":"35","hints":"36","executionTime":1,"executionStatus":"27","data":"37"},{"startTime":1766787294148,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787294151,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":37,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":38,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","b88ac204-9035-4930-a37c-463f8b32af0c","user","hey","2025-12-26T22:14:50Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"f9-O1/sOENLUroI7l3hH/aCJAX26bY\\"",{"message_id":37,"role":"95","content":"96","created_at":"97"},{"message_id":38,"role":"98","content":"99","created_at":"97"}]
195	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787294710,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787294710,"executionIndex":0,"source":"25","hints":"26","executionTime":1,"executionStatus":"27","data":"28"},{"startTime":1766787294711,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787294713,"executionIndex":2,"source":"32","hints":"33","executionTime":1,"executionStatus":"27","data":"34"},{"startTime":1766787294714,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787294716,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787294718,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":37,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":38,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","b88ac204-9035-4930-a37c-463f8b32af0c","user","hey","2025-12-26T22:14:50Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"f9-O1/sOENLUroI7l3hH/aCJAX26bY\\"",{"message_id":37,"role":"95","content":"96","created_at":"97"},{"message_id":38,"role":"98","content":"99","created_at":"97"}]
197	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787295244,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787295244,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787295244,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787295247,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787295248,"executionIndex":3,"source":"35","hints":"36","executionTime":1,"executionStatus":"27","data":"37"},{"startTime":1766787295249,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787295252,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":37,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":38,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","b88ac204-9035-4930-a37c-463f8b32af0c","user","hey","2025-12-26T22:14:50Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"f9-O1/sOENLUroI7l3hH/aCJAX26bY\\"",{"message_id":37,"role":"95","content":"96","created_at":"97"},{"message_id":38,"role":"98","content":"99","created_at":"97"}]
199	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787298534,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787298534,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787298534,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787298538,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787298538,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787298540,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787298543,"executionIndex":5,"source":"41","hints":"42","executionTime":0,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":37,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":38,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","b88ac204-9035-4930-a37c-463f8b32af0c","user","hey","2025-12-26T22:14:50Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"f9-O1/sOENLUroI7l3hH/aCJAX26bY\\"",{"message_id":37,"role":"95","content":"96","created_at":"97"},{"message_id":38,"role":"98","content":"99","created_at":"97"}]
208	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787528158,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787528158,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787528158,"executionIndex":1,"source":"29","hints":"30","executionTime":3,"executionStatus":"27","data":"31"},{"startTime":1766787528161,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787528161,"executionIndex":3,"source":"35","hints":"36","executionTime":2,"executionStatus":"27","data":"37"},{"startTime":1766787528163,"executionIndex":4,"source":"38","hints":"39","executionTime":3,"executionStatus":"27","data":"40"},{"startTime":1766787528166,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":37,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":38,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","b88ac204-9035-4930-a37c-463f8b32af0c","user","hey","2025-12-26T22:14:50Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"f9-O1/sOENLUroI7l3hH/aCJAX26bY\\"",{"message_id":37,"role":"95","content":"96","created_at":"97"},{"message_id":38,"role":"98","content":"99","created_at":"97"}]
210	{"id":"msg5c740bd9db51","name":"WIBOT - Get Messages","active":true,"activeVersionId":"704bc444-e5e2-4901-9322-383bc1bd0434","isArchived":false,"createdAt":"2025-12-26T17:58:10.218Z","updatedAt":"2025-12-26T17:58:10.218Z","nodes":[{"parameters":{"multipleMethods":false,"httpMethod":"GET","path":"wibot/messages","authentication":"none","responseMode":"responseNode","webhookNotice":"","options":{}},"id":"webhook-messages","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[250,300],"webhookId":"wibot-messages"},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}","notice":""},"id":"verify-jwt","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[470,300]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"if-jwt-valid","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[690,300]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-unauthorized","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[910,450]},{"parameters":{"resource":"database","operation":"executeQuery","query":"SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;","options":{}},"id":"get-messages","name":"Get Messages","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[910,200],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"mode":"runOnceForAllItems","language":"javaScript","jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];","notice":""},"id":"format-response","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1130,200]},{"parameters":{"generalNotice":"","respondWith":"json","webhookNotice":"","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"respond-success","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1350,200]}],"connections":{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Messages","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Messages":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}},"settings":{"executionOrder":"v1"},"staticData":{},"pinData":{}}	[{"version":0,"startData":"1","resultData":"2","executionData":"3"},{},{"runData":"4","lastNodeExecuted":"5"},{"contextData":"6","nodeExecutionStack":"7","metadata":"8","waitingExecution":"9","waitingExecutionSource":"10","runtimeData":"11"},{"Webhook":"12","Verify JWT":"13","JWT Valid?":"14","Get Messages":"15","Format Response":"16","Success":"17"},"Success",{},[],{},{},{},{"version":1,"establishedAt":1766787532191,"source":"18"},["19"],["20"],["21"],["22"],["23"],["24"],"webhook",{"startTime":1766787532191,"executionIndex":0,"source":"25","hints":"26","executionTime":0,"executionStatus":"27","data":"28"},{"startTime":1766787532191,"executionIndex":1,"source":"29","hints":"30","executionTime":2,"executionStatus":"27","data":"31"},{"startTime":1766787532194,"executionIndex":2,"source":"32","hints":"33","executionTime":0,"executionStatus":"27","data":"34"},{"startTime":1766787532194,"executionIndex":3,"source":"35","hints":"36","executionTime":3,"executionStatus":"27","data":"37"},{"startTime":1766787532197,"executionIndex":4,"source":"38","hints":"39","executionTime":2,"executionStatus":"27","data":"40"},{"startTime":1766787532199,"executionIndex":5,"source":"41","hints":"42","executionTime":1,"executionStatus":"27","data":"43"},[],[],"success",{"main":"44"},["45"],["46"],{"main":"47"},["48"],[],{"main":"49"},["50"],[],{"main":"51"},["52"],["53"],{"main":"54"},["55"],[],{"main":"56"},["57"],{"previousNode":"58"},{"message":"59","location":"60"},["61"],{"previousNode":"62"},["63","64"],{"previousNode":"65"},["66"],{"previousNode":"67"},{"message":"59","location":"60"},["68"],{"previousNode":"69"},["70"],["71"],"Webhook","To make sure expressions after this node work, return the input items that produced each output item. <a target=\\"_blank\\" href=\\"https://docs.n8n.io/data/data-mapping/data-item-linking/item-linking-code-node/\\">More info</a>","outputPane",["72"],"Verify JWT",["73"],[],"JWT Valid?",["74","75"],"Get Messages",["76"],"Format Response",["77"],{"json":"78","pairedItem":"79"},{"json":"80","pairedItem":"81"},{"json":"80","pairedItem":"82"},{"json":"83","pairedItem":"84"},{"json":"85","pairedItem":"84"},{"json":"86"},{"json":"86","pairedItem":"87"},{"headers":"88","params":"89","query":"90","body":"91","webhookUrl":"92","executionMode":"93"},{"item":0},{"valid":true,"userId":1,"conversationId":"94"},{"item":0},{"item":0},{"message_id":37,"role":"95","content":"96","created_at":"97"},{"item":0},{"message_id":38,"role":"98","content":"99","created_at":"97"},{"success":true,"messages":"100"},{"item":0},{"host":"101","x-real-ip":"102","x-forwarded-for":"102","x-forwarded-proto":"103","connection":"104","sec-ch-ua-platform":"105","authorization":"106","user-agent":"107","accept":"108","sec-ch-ua":"109","dnt":"110","sec-ch-ua-mobile":"111","sec-fetch-site":"112","sec-fetch-mode":"113","sec-fetch-dest":"114","referer":"115","accept-encoding":"116","accept-language":"117","cookie":"118","sec-gpc":"110","if-none-match":"119"},{},{"conversationId":"94"},{},"http://localhost:5678/webhook/wibot/messages","production","b88ac204-9035-4930-a37c-463f8b32af0c","user","hey","2025-12-26T22:14:50Z","assistant","Bonjour ! Comment puis-je vous aider aujourd'hui ?",["120","121"],"localhost","172.20.0.1","http","close","\\"Windows\\"","Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOjEsInVzZXJuYW1lIjoia2hvcmEiLCJyb2xlIjoiYWRtaW4iLCJpYXQiOjE3NjY3NzIyMTYsImV4cCI6MTc2Njg1ODYxNn0.ZXlKaGJHY2lPaUpJVXpJMU5pSXNJblI1Y0NJNklrcFh","Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/143.0.0.0 Safari/537.36","application/json, text/plain, */*","\\"Google Chrome\\";v=\\"143\\", \\"Chromium\\";v=\\"143\\", \\"Not A(Brand\\";v=\\"24\\"","1","?0","same-origin","cors","empty","http://localhost:5173/chat","gzip, deflate, br, zstd","fr-FR,fr;q=0.9,en-US;q=0.8,en;q=0.7","rl_page_init_referrer=RudderEncrypt%3AU2FsdGVkX1%2BnxaF%2FOrHXxhG%2BF0iUrnK5WwPl3GWATWw%3D; rl_page_init_referring_domain=RudderEncrypt%3AU2FsdGVkX1%2B0hJZePG8lNcvzChFVhwuZIAH%2BuQhHVXU%3D; ph_phc_4URIAm1uYfJO7j8kWSe0J8lc8IqnstRLS7Jx8NcakHo_posthog=%7B%22distinct_id%22%3A%22ff7f0f550a96ea53a4adb0ee6b5fca4386dfe54d383163a4a8fab256d2c3d0d0%236e698337-218c-4c36-ac65-182581a495b4%22%2C%22%24sesid%22%3A%5B1766525214203%2C%22019b4cf8-34da-775e-ae9c-8fcf622dd395%22%2C1766522893527%5D%2C%22%24epp%22%3Atrue%2C%22%24initial_person_info%22%3A%7B%22r%22%3A%22%24direct%22%2C%22u%22%3A%22http%3A%2F%2Flocalhost%3A5678%2Fhome%2Fworkflows%22%7D%7D; rl_anonymous_id=RudderEncrypt%3AU2FsdGVkX19vvNbbtmJkH1%2F8kl1JqQSAXpePGzek8pxf5hkd5a%2FN9LMElYuFNIxJeFhKHVUrrrd3uP2bz4AhCg%3D%3D; rl_user_id=RudderEncrypt%3AU2FsdGVkX1%2BdJi7GODReYt5bQi4%2F1IdOtSLd6qFIFW5PwrUk4UgQCI5i9BfW2mfwzNXgbBkyy01y8lWnfXwIBYvPp7i52LxLVYfYyAcIoxWr32evOKaCkJN37zx1f%2BgnP8RptKp%2FvTIufWp1Xs7k5zakuJ9%2BcCNz1RCaBM6H%2FSM%3D; rl_trait=RudderEncrypt%3AU2FsdGVkX18vCh07Nye1FYgltEjrNc9bCM272rEq%2Fc5czJMugdY16Uc4pE9IIXxUxYX7zCOj%2B9p%2BIG7oNn7YxgnJSdF20MHs4%2Ff%2FVd6ZOvpDBaEeK5gqjjA0hRJLp9xX6KQdhILwgOtOTuT0m%2FvmGscQCwjAk6VVL01AaM0Alzo%3D; rl_session=RudderEncrypt%3AU2FsdGVkX1%2Bt3bJMtglfLknSyXuKU46ephNmV7Syl5DOFwP78HHsNg45FOMXfwL%2BMqozZPC4W6ZpYm36UStiyn%2BhZm1gbcqw27cmqYyzUB6Eu0lJ7V8Zf2AhBuvKEyINm1gZCuDVDg3aBoao7UIbCA%3D%3D","W/\\"f9-O1/sOENLUroI7l3hH/aCJAX26bY\\"",{"message_id":37,"role":"95","content":"96","created_at":"97"},{"message_id":38,"role":"98","content":"99","created_at":"97"}]
\.


--
-- Data for Name: execution_entity; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.execution_entity (id, finished, mode, "retryOf", "retrySuccessId", "startedAt", "stoppedAt", "waitTill", status, "workflowId", "deletedAt", "createdAt") FROM stdin;
74	t	webhook	\N	\N	2025-12-26 17:24:52.378+00	2025-12-26 17:24:52.395+00	\N	success	zZSHB9BHjR30ThPP	\N	2025-12-26 17:24:52.371+00
103	t	webhook	\N	\N	2025-12-26 18:02:54.689+00	2025-12-26 18:02:55.95+00	\N	success	NynEDh5rxUQL7788	\N	2025-12-26 18:02:54.679+00
156	t	webhook	\N	\N	2025-12-26 22:12:19.168+00	2025-12-26 22:12:19.236+00	\N	success	wibotrene9fa6a78	\N	2025-12-26 22:12:19.158+00
75	t	webhook	\N	\N	2025-12-26 17:25:43.178+00	2025-12-26 17:25:43.195+00	\N	success	zZSHB9BHjR30ThPP	\N	2025-12-26 17:25:43.171+00
104	t	webhook	\N	\N	2025-12-26 18:02:58.139+00	2025-12-26 18:02:58.152+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:02:58.131+00
126	t	webhook	\N	\N	2025-12-26 22:06:33.006+00	2025-12-26 22:06:33.025+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:06:32.996+00
76	t	webhook	\N	\N	2025-12-26 17:25:58.376+00	2025-12-26 17:25:58.391+00	\N	success	zZSHB9BHjR30ThPP	\N	2025-12-26 17:25:58.368+00
127	t	webhook	\N	\N	2025-12-26 22:06:33.027+00	2025-12-26 22:06:33.04+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:06:33.013+00
105	t	webhook	\N	\N	2025-12-26 18:03:00.854+00	2025-12-26 18:03:00.867+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:03:00.845+00
77	t	webhook	\N	\N	2025-12-26 17:28:05.999+00	2025-12-26 17:28:06.018+00	\N	success	zZSHB9BHjR30ThPP	\N	2025-12-26 17:28:05.99+00
106	t	webhook	\N	\N	2025-12-26 18:03:02.948+00	2025-12-26 18:03:02.962+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:03:02.939+00
78	t	webhook	\N	\N	2025-12-26 17:28:06.637+00	2025-12-26 17:28:06.654+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 17:28:06.626+00
107	t	webhook	\N	\N	2025-12-26 18:03:36.175+00	2025-12-26 18:03:36.195+00	\N	success	zZSHB9BHjR30ThPP	\N	2025-12-26 18:03:36.165+00
80	t	webhook	\N	\N	2025-12-26 17:28:06.669+00	2025-12-26 17:28:06.68+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 17:28:06.664+00
79	t	webhook	\N	\N	2025-12-26 17:28:06.638+00	2025-12-26 17:28:06.689+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 17:28:06.63+00
128	t	webhook	\N	\N	2025-12-26 22:06:33.063+00	2025-12-26 22:06:33.088+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:06:33.053+00
130	t	webhook	\N	\N	2025-12-26 22:06:33.066+00	2025-12-26 22:06:33.092+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:06:33.057+00
81	t	webhook	\N	\N	2025-12-26 17:28:06.705+00	2025-12-26 17:28:06.716+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 17:28:06.699+00
129	t	webhook	\N	\N	2025-12-26 22:06:33.066+00	2025-12-26 22:06:33.102+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:06:33.055+00
109	t	webhook	\N	\N	2025-12-26 18:03:36.242+00	2025-12-26 18:03:36.262+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 18:03:36.235+00
82	t	webhook	\N	\N	2025-12-26 17:28:13.179+00	2025-12-26 17:28:13.531+00	\N	success	NynEDh5rxUQL7788	\N	2025-12-26 17:28:13.169+00
108	t	webhook	\N	\N	2025-12-26 18:03:36.241+00	2025-12-26 18:03:36.276+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 18:03:36.233+00
83	t	webhook	\N	\N	2025-12-26 17:29:58.303+00	2025-12-26 17:29:58.32+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 17:29:58.296+00
131	t	webhook	\N	\N	2025-12-26 22:06:33.116+00	2025-12-26 22:06:33.128+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:06:33.111+00
84	t	webhook	\N	\N	2025-12-26 17:30:14.381+00	2025-12-26 17:30:14.396+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 17:30:14.372+00
110	t	webhook	\N	\N	2025-12-26 18:03:36.294+00	2025-12-26 18:03:36.307+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 18:03:36.281+00
85	t	webhook	\N	\N	2025-12-26 17:34:12.976+00	2025-12-26 17:34:13.445+00	\N	success	NynEDh5rxUQL7788	\N	2025-12-26 17:34:12.968+00
111	t	webhook	\N	\N	2025-12-26 18:03:36.311+00	2025-12-26 18:03:36.325+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 18:03:36.294+00
86	t	webhook	\N	\N	2025-12-26 17:46:29.897+00	2025-12-26 17:46:29.923+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 17:46:29.878+00
112	t	webhook	\N	\N	2025-12-26 18:03:36.321+00	2025-12-26 18:03:36.336+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:03:36.301+00
132	t	webhook	\N	\N	2025-12-26 22:08:47.8+00	2025-12-26 22:08:47.826+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:08:47.793+00
133	t	webhook	\N	\N	2025-12-26 22:08:47.815+00	2025-12-26 22:08:47.833+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:08:47.808+00
87	t	webhook	\N	\N	2025-12-26 18:00:56.373+00	2025-12-26 18:00:56.4+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:00:56.353+00
113	t	webhook	\N	\N	2025-12-26 18:03:36.352+00	2025-12-26 18:03:36.364+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:03:36.346+00
88	t	webhook	\N	\N	2025-12-26 18:01:10.562+00	2025-12-26 18:01:10.607+00	\N	success	zZSHB9BHjR30ThPP	\N	2025-12-26 18:01:10.553+00
114	t	webhook	\N	\N	2025-12-26 18:03:37.972+00	2025-12-26 18:03:37.984+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:03:37.966+00
89	t	webhook	\N	\N	2025-12-26 18:01:28.392+00	2025-12-26 18:01:28.416+00	\N	success	zZSHB9BHjR30ThPP	\N	2025-12-26 18:01:28.382+00
134	t	webhook	\N	\N	2025-12-26 22:08:47.855+00	2025-12-26 22:08:47.869+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:08:47.849+00
90	t	webhook	\N	\N	2025-12-26 18:01:43.406+00	2025-12-26 18:01:43.429+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:01:43.399+00
115	t	webhook	\N	\N	2025-12-26 18:03:38.416+00	2025-12-26 18:03:38.427+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:03:38.409+00
135	t	webhook	\N	\N	2025-12-26 22:08:47.865+00	2025-12-26 22:08:47.884+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:08:47.851+00
91	t	webhook	\N	\N	2025-12-26 18:01:51.363+00	2025-12-26 18:01:51.379+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 18:01:51.356+00
116	t	webhook	\N	\N	2025-12-26 18:03:38.771+00	2025-12-26 18:03:38.783+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:03:38.763+00
92	t	webhook	\N	\N	2025-12-26 18:01:58.34+00	2025-12-26 18:01:58.354+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:01:58.335+00
118	t	webhook	\N	\N	2025-12-26 21:59:08.271+00	2025-12-26 21:59:08.3+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 21:59:08.26+00
93	t	webhook	\N	\N	2025-12-26 18:02:28.575+00	2025-12-26 18:02:28.6+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 18:02:28.568+00
94	t	webhook	\N	\N	2025-12-26 18:02:28.589+00	2025-12-26 18:02:28.608+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 18:02:28.584+00
117	t	webhook	\N	\N	2025-12-26 21:59:08.269+00	2025-12-26 21:59:08.306+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 21:59:08.253+00
136	t	webhook	\N	\N	2025-12-26 22:08:47.904+00	2025-12-26 22:08:47.921+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:08:47.891+00
138	t	webhook	\N	\N	2025-12-26 22:08:47.917+00	2025-12-26 22:08:47.933+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:08:47.902+00
137	t	webhook	\N	\N	2025-12-26 22:08:47.905+00	2025-12-26 22:08:47.942+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:08:47.896+00
95	t	webhook	\N	\N	2025-12-26 18:02:28.638+00	2025-12-26 18:02:28.658+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 18:02:28.628+00
97	t	webhook	\N	\N	2025-12-26 18:02:28.651+00	2025-12-26 18:02:28.67+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 18:02:28.632+00
96	t	webhook	\N	\N	2025-12-26 18:02:28.639+00	2025-12-26 18:02:28.68+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:02:28.63+00
119	t	webhook	\N	\N	2025-12-26 21:59:08.347+00	2025-12-26 21:59:08.374+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 21:59:08.335+00
120	t	webhook	\N	\N	2025-12-26 21:59:08.348+00	2025-12-26 21:59:08.385+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 21:59:08.339+00
98	t	webhook	\N	\N	2025-12-26 18:02:28.702+00	2025-12-26 18:02:28.715+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:02:28.695+00
121	t	webhook	\N	\N	2025-12-26 21:59:08.367+00	2025-12-26 21:59:08.392+00	\N	success	msg5c740bd9db51	\N	2025-12-26 21:59:08.34+00
99	t	webhook	\N	\N	2025-12-26 18:02:30.592+00	2025-12-26 18:02:30.605+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:02:30.586+00
122	t	webhook	\N	\N	2025-12-26 21:59:08.411+00	2025-12-26 21:59:08.423+00	\N	success	msg5c740bd9db51	\N	2025-12-26 21:59:08.405+00
100	t	webhook	\N	\N	2025-12-26 18:02:31.524+00	2025-12-26 18:02:31.539+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:02:31.519+00
139	t	webhook	\N	\N	2025-12-26 22:08:47.961+00	2025-12-26 22:08:47.979+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:08:47.951+00
140	t	webhook	\N	\N	2025-12-26 22:08:47.973+00	2025-12-26 22:08:48.005+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:08:47.957+00
123	t	webhook	\N	\N	2025-12-26 21:59:11.08+00	2025-12-26 21:59:11.092+00	\N	success	msg5c740bd9db51	\N	2025-12-26 21:59:11.071+00
101	t	webhook	\N	\N	2025-12-26 18:02:33.489+00	2025-12-26 18:02:33.501+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:02:33.481+00
141	t	webhook	\N	\N	2025-12-26 22:08:47.974+00	2025-12-26 22:08:48.01+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:08:47.959+00
102	t	webhook	\N	\N	2025-12-26 18:02:37.362+00	2025-12-26 18:02:37.374+00	\N	success	msg5c740bd9db51	\N	2025-12-26 18:02:37.354+00
124	t	webhook	\N	\N	2025-12-26 21:59:11.773+00	2025-12-26 21:59:11.786+00	\N	success	msg5c740bd9db51	\N	2025-12-26 21:59:11.768+00
142	t	webhook	\N	\N	2025-12-26 22:08:48.027+00	2025-12-26 22:08:48.038+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:08:48.02+00
125	t	webhook	\N	\N	2025-12-26 21:59:12.873+00	2025-12-26 21:59:12.884+00	\N	success	msg5c740bd9db51	\N	2025-12-26 21:59:12.865+00
143	t	webhook	\N	\N	2025-12-26 22:08:48.056+00	2025-12-26 22:08:48.066+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:08:48.051+00
144	t	webhook	\N	\N	2025-12-26 22:08:55.575+00	2025-12-26 22:08:55.587+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:08:55.568+00
145	t	webhook	\N	\N	2025-12-26 22:08:55.582+00	2025-12-26 22:08:55.603+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:08:55.572+00
147	t	webhook	\N	\N	2025-12-26 22:08:55.634+00	2025-12-26 22:08:55.654+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:08:55.621+00
146	t	webhook	\N	\N	2025-12-26 22:08:55.625+00	2025-12-26 22:08:55.64+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:08:55.614+00
212	t	webhook	\N	\N	2025-12-26 22:20:15.886+00	2025-12-26 22:20:17.543+00	\N	success	NynEDh5rxUQL7788	\N	2025-12-26 22:20:15.868+00
157	t	webhook	\N	\N	2025-12-26 22:12:27.387+00	2025-12-26 22:12:27.403+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:12:27.378+00
150	t	webhook	\N	\N	2025-12-26 22:08:55.689+00	2025-12-26 22:08:55.707+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:08:55.678+00
182	t	webhook	\N	\N	2025-12-26 22:14:30.499+00	2025-12-26 22:14:30.518+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:14:30.492+00
159	t	webhook	\N	\N	2025-12-26 22:12:41.906+00	2025-12-26 22:12:41.918+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:12:41.9+00
152	t	webhook	\N	\N	2025-12-26 22:08:55.738+00	2025-12-26 22:08:55.757+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:08:55.727+00
154	t	webhook	\N	\N	2025-12-26 22:08:55.74+00	2025-12-26 22:08:55.769+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:08:55.732+00
162	t	webhook	\N	\N	2025-12-26 22:13:24.119+00	2025-12-26 22:13:24.136+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:13:24.107+00
155	t	webhook	\N	\N	2025-12-26 22:08:55.783+00	2025-12-26 22:08:55.792+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:08:55.778+00
183	t	webhook	\N	\N	2025-12-26 22:14:30.543+00	2025-12-26 22:14:30.557+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:14:30.534+00
184	t	webhook	\N	\N	2025-12-26 22:14:30.548+00	2025-12-26 22:14:30.571+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:14:30.539+00
167	t	webhook	\N	\N	2025-12-26 22:13:28.781+00	2025-12-26 22:13:28.794+00	\N	success	wibotdel7064ce92	\N	2025-12-26 22:13:28.774+00
169	t	webhook	\N	\N	2025-12-26 22:13:31.775+00	2025-12-26 22:13:31.787+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:13:31.766+00
186	t	webhook	\N	\N	2025-12-26 22:14:30.593+00	2025-12-26 22:14:30.607+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:30.587+00
171	t	webhook	\N	\N	2025-12-26 22:13:36.079+00	2025-12-26 22:13:36.091+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:13:36.07+00
188	t	webhook	\N	\N	2025-12-26 22:14:44.38+00	2025-12-26 22:14:44.393+00	\N	success	wibotrene9fa6a78	\N	2025-12-26 22:14:44.372+00
174	t	webhook	\N	\N	2025-12-26 22:14:12.646+00	2025-12-26 22:14:12.665+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:14:12.639+00
190	t	webhook	\N	\N	2025-12-26 22:14:52.482+00	2025-12-26 22:14:52.496+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:52.473+00
176	t	webhook	\N	\N	2025-12-26 22:14:12.694+00	2025-12-26 22:14:12.715+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:14:12.686+00
178	t	webhook	\N	\N	2025-12-26 22:14:12.738+00	2025-12-26 22:14:12.747+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:12.733+00
192	t	webhook	\N	\N	2025-12-26 22:14:53.881+00	2025-12-26 22:14:53.893+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:53.876+00
180	t	webhook	\N	\N	2025-12-26 22:14:16.968+00	2025-12-26 22:14:16.975+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:16.963+00
194	t	webhook	\N	\N	2025-12-26 22:14:54.479+00	2025-12-26 22:14:54.493+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:54.473+00
196	t	webhook	\N	\N	2025-12-26 22:14:55.001+00	2025-12-26 22:14:55.013+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:54.993+00
198	t	webhook	\N	\N	2025-12-26 22:14:55.578+00	2025-12-26 22:14:55.589+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:55.572+00
200	t	webhook	\N	\N	2025-12-26 22:15:01.105+00	2025-12-26 22:15:01.114+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:15:01.1+00
201	t	webhook	\N	\N	2025-12-26 22:18:45.384+00	2025-12-26 22:18:45.412+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:18:45.373+00
203	t	webhook	\N	\N	2025-12-26 22:18:45.442+00	2025-12-26 22:18:45.47+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:18:45.432+00
205	t	webhook	\N	\N	2025-12-26 22:18:45.446+00	2025-12-26 22:18:45.487+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:18:45.437+00
207	t	webhook	\N	\N	2025-12-26 22:18:47.167+00	2025-12-26 22:18:47.179+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:18:47.161+00
209	t	webhook	\N	\N	2025-12-26 22:18:50.029+00	2025-12-26 22:18:50.041+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:18:50.02+00
211	t	webhook	\N	\N	2025-12-26 22:18:54.526+00	2025-12-26 22:18:54.538+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:18:54.521+00
148	t	webhook	\N	\N	2025-12-26 22:08:55.636+00	2025-12-26 22:08:55.661+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:08:55.624+00
158	t	webhook	\N	\N	2025-12-26 22:12:35.699+00	2025-12-26 22:12:35.722+00	\N	success	wibotdel7064ce92	\N	2025-12-26 22:12:35.678+00
181	t	webhook	\N	\N	2025-12-26 22:14:30.498+00	2025-12-26 22:14:30.521+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:14:30.491+00
160	t	webhook	\N	\N	2025-12-26 22:12:52.749+00	2025-12-26 22:12:52.771+00	\N	success	wibotrene9fa6a78	\N	2025-12-26 22:12:52.738+00
149	t	webhook	\N	\N	2025-12-26 22:08:55.681+00	2025-12-26 22:08:55.694+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:08:55.67+00
151	t	webhook	\N	\N	2025-12-26 22:08:55.69+00	2025-12-26 22:08:55.711+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:08:55.68+00
185	t	webhook	\N	\N	2025-12-26 22:14:30.554+00	2025-12-26 22:14:30.574+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:30.542+00
161	t	webhook	\N	\N	2025-12-26 22:13:24.105+00	2025-12-26 22:13:24.124+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:13:24.096+00
153	t	webhook	\N	\N	2025-12-26 22:08:55.739+00	2025-12-26 22:08:55.76+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:08:55.73+00
187	f	webhook	\N	\N	2025-12-26 22:14:38.025+00	2025-12-26 22:14:38.048+00	\N	error	wibotrene9fa6a78	\N	2025-12-26 22:14:38.02+00
163	t	webhook	\N	\N	2025-12-26 22:13:24.156+00	2025-12-26 22:13:24.169+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:13:24.145+00
189	t	webhook	\N	\N	2025-12-26 22:14:50.03+00	2025-12-26 22:14:50.836+00	\N	success	NynEDh5rxUQL7788	\N	2025-12-26 22:14:50.021+00
164	t	webhook	\N	\N	2025-12-26 22:13:24.173+00	2025-12-26 22:13:24.189+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:13:24.154+00
165	t	webhook	\N	\N	2025-12-26 22:13:24.183+00	2025-12-26 22:13:24.201+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:13:24.163+00
191	t	webhook	\N	\N	2025-12-26 22:14:53.153+00	2025-12-26 22:14:53.163+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:53.147+00
166	t	webhook	\N	\N	2025-12-26 22:13:24.215+00	2025-12-26 22:13:24.226+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:13:24.209+00
193	t	webhook	\N	\N	2025-12-26 22:14:54.141+00	2025-12-26 22:14:54.152+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:54.135+00
168	t	webhook	\N	\N	2025-12-26 22:13:30.131+00	2025-12-26 22:13:30.143+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:13:30.126+00
170	t	webhook	\N	\N	2025-12-26 22:13:33.606+00	2025-12-26 22:13:33.616+00	\N	success	wibotdel7064ce92	\N	2025-12-26 22:13:33.599+00
195	t	webhook	\N	\N	2025-12-26 22:14:54.708+00	2025-12-26 22:14:54.719+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:54.703+00
172	t	webhook	\N	\N	2025-12-26 22:13:36.906+00	2025-12-26 22:13:36.914+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:13:36.9+00
197	t	webhook	\N	\N	2025-12-26 22:14:55.242+00	2025-12-26 22:14:55.252+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:55.236+00
173	t	webhook	\N	\N	2025-12-26 22:14:12.645+00	2025-12-26 22:14:12.669+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:14:12.638+00
199	t	webhook	\N	\N	2025-12-26 22:14:58.532+00	2025-12-26 22:14:58.543+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:58.527+00
175	t	webhook	\N	\N	2025-12-26 22:14:12.693+00	2025-12-26 22:14:12.709+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:14:12.685+00
177	t	webhook	\N	\N	2025-12-26 22:14:12.703+00	2025-12-26 22:14:12.72+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:12.688+00
202	t	webhook	\N	\N	2025-12-26 22:18:45.385+00	2025-12-26 22:18:45.406+00	\N	success	c8fbjjX9ObuzBE4b	\N	2025-12-26 22:18:45.379+00
179	t	webhook	\N	\N	2025-12-26 22:14:16.306+00	2025-12-26 22:14:16.318+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:14:16.301+00
204	t	webhook	\N	\N	2025-12-26 22:18:45.445+00	2025-12-26 22:18:45.476+00	\N	success	yPYTzGXVRP2JQxs8	\N	2025-12-26 22:18:45.435+00
206	t	webhook	\N	\N	2025-12-26 22:18:45.503+00	2025-12-26 22:18:45.513+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:18:45.497+00
208	t	webhook	\N	\N	2025-12-26 22:18:48.156+00	2025-12-26 22:18:48.167+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:18:48.15+00
210	t	webhook	\N	\N	2025-12-26 22:18:52.189+00	2025-12-26 22:18:52.2+00	\N	success	msg5c740bd9db51	\N	2025-12-26 22:18:52.183+00
\.


--
-- Data for Name: execution_metadata; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.execution_metadata (id, "executionId", key, value) FROM stdin;
\.


--
-- Data for Name: folder; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.folder (id, name, "parentFolderId", "projectId", "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: folder_tag; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.folder_tag ("folderId", "tagId") FROM stdin;
\.


--
-- Data for Name: insights_by_period; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.insights_by_period (id, "metaId", type, value, "periodUnit", "periodStart") FROM stdin;
2	4	3	2	0	2025-12-26 08:00:00+00
3	2	2	1	0	2025-12-26 07:00:00+00
4	2	1	42	0	2025-12-26 08:00:00+00
6	3	1	26	0	2025-12-26 07:00:00+00
7	1	3	2	0	2025-12-26 07:00:00+00
8	5	2	2	0	2025-12-26 08:00:00+00
9	2	1	21	0	2025-12-26 07:00:00+00
10	1	1	75	0	2025-12-26 07:00:00+00
11	3	3	5	0	2025-12-26 07:00:00+00
12	5	1	20	0	2025-12-26 08:00:00+00
13	4	1	33	0	2025-12-26 08:00:00+00
14	2	2	2	0	2025-12-26 08:00:00+00
1	6	2	17	0	2025-12-26 08:00:00+00
5	6	1	209095	0	2025-12-26 08:00:00+00
17	6	2	1	0	2025-12-26 09:00:00+00
18	6	1	19737	0	2025-12-26 09:00:00+00
19	5	2	6	0	2025-12-26 12:00:00+00
20	6	1	26934	0	2025-12-26 12:00:00+00
21	6	2	6	0	2025-12-26 12:00:00+00
22	5	1	61	0	2025-12-26 12:00:00+00
23	10	2	2	0	2025-12-26 16:00:00+00
24	2	1	20	0	2025-12-26 16:00:00+00
25	9	1	12610	0	2025-12-26 16:00:00+00
26	10	1	43	0	2025-12-26 16:00:00+00
27	2	2	1	0	2025-12-26 16:00:00+00
28	9	2	8	0	2025-12-26 16:00:00+00
29	2	1	71	0	2025-12-26 17:00:00+00
30	16	1	37	0	2025-12-26 17:00:00+00
31	16	2	3	0	2025-12-26 17:00:00+00
32	9	1	1440	0	2025-12-26 17:00:00+00
33	14	2	1	0	2025-12-26 18:00:00+00
34	14	1	1259	0	2025-12-26 18:00:00+00
35	2	2	6	0	2025-12-26 17:00:00+00
36	16	2	4	0	2025-12-26 18:00:00+00
37	15	1	95	0	2025-12-26 18:00:00+00
38	13	2	3	0	2025-12-26 18:00:00+00
39	13	2	4	0	2025-12-26 17:00:00+00
40	15	2	4	0	2025-12-26 17:00:00+00
41	14	2	2	0	2025-12-26 17:00:00+00
42	9	2	5	0	2025-12-26 17:00:00+00
43	16	1	51	0	2025-12-26 18:00:00+00
44	10	2	5	0	2025-12-26 17:00:00+00
45	12	1	11	0	2025-12-26 17:00:00+00
46	15	2	5	0	2025-12-26 18:00:00+00
47	13	1	60	0	2025-12-26 17:00:00+00
48	18	1	224	0	2025-12-26 18:00:00+00
49	18	2	17	0	2025-12-26 18:00:00+00
50	13	1	83	0	2025-12-26 18:00:00+00
51	12	2	2	0	2025-12-26 17:00:00+00
52	14	1	816	0	2025-12-26 17:00:00+00
53	15	1	91	0	2025-12-26 17:00:00+00
54	10	1	54	0	2025-12-26 17:00:00+00
55	15	2	2	0	2025-12-26 21:00:00+00
56	16	1	45	0	2025-12-26 21:00:00+00
57	18	1	56	0	2025-12-26 21:00:00+00
58	18	2	5	0	2025-12-26 21:00:00+00
59	15	1	56	0	2025-12-26 21:00:00+00
60	16	2	2	0	2025-12-26 21:00:00+00
\.


--
-- Data for Name: insights_metadata; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.insights_metadata ("metaId", "workflowId", "projectId", "workflowName", "projectName") FROM stdin;
3	\N	sxOW4Z7kldKTFN4J	WIBOT - Get Conversations	Maxime Ripouteau <maximeripouteau@gmail.com>
1	\N	sxOW4Z7kldKTFN4J	WIBOT - Auth Login	Maxime Ripouteau <maximeripouteau@gmail.com>
6	\N	sxOW4Z7kldKTFN4J	WIBOT - Chat Main	Maxime Ripouteau <maximeripouteau@gmail.com>
4	\N	sxOW4Z7kldKTFN4J	WIBOT - Get Conversations	Maxime Ripouteau <maximeripouteau@gmail.com>
2	\N	sxOW4Z7kldKTFN4J	WIBOT - Auth Login	Maxime Ripouteau <maximeripouteau@gmail.com>
10	\N	sxOW4Z7kldKTFN4J	WIBOT - Get Conversations	Maxime Ripouteau <maximeripouteau@gmail.com>
12	\N	sxOW4Z7kldKTFN4J	WIBOT - Get User Tokens	Maxime Ripouteau <maximeripouteau@gmail.com>
5	\N	sxOW4Z7kldKTFN4J	WIBOT - Get Conversations	Maxime Ripouteau <maximeripouteau@gmail.com>
9	\N	sxOW4Z7kldKTFN4J	WIBOT - Chat Main	Maxime Ripouteau <maximeripouteau@gmail.com>
13	zZSHB9BHjR30ThPP	sxOW4Z7kldKTFN4J	WIBOT - Auth Login	Maxime Ripouteau <maximeripouteau@gmail.com>
15	yPYTzGXVRP2JQxs8	sxOW4Z7kldKTFN4J	WIBOT - Get Conversations	Maxime Ripouteau <maximeripouteau@gmail.com>
24	wibotrene9fa6a78	sxOW4Z7kldKTFN4J	WIBOT - Rename Conversation	Maxime Ripouteau <maximeripouteau@gmail.com>
25	wibotdel7064ce92	sxOW4Z7kldKTFN4J	WIBOT - Delete Conversation	Maxime Ripouteau <maximeripouteau@gmail.com>
16	c8fbjjX9ObuzBE4b	sxOW4Z7kldKTFN4J	WIBOT - Get User Tokens	Maxime Ripouteau <maximeripouteau@gmail.com>
18	msg5c740bd9db51	sxOW4Z7kldKTFN4J	WIBOT - Get Messages	Maxime Ripouteau <maximeripouteau@gmail.com>
14	NynEDh5rxUQL7788	sxOW4Z7kldKTFN4J	WIBOT - Chat Main	Maxime Ripouteau <maximeripouteau@gmail.com>
\.


--
-- Data for Name: insights_raw; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.insights_raw (id, "metaId", type, value, "timestamp") FROM stdin;
251	15	2	1	2025-12-26 22:06:33+00
252	15	1	17	2025-12-26 22:06:33+00
253	16	2	1	2025-12-26 22:06:33+00
254	16	1	11	2025-12-26 22:06:33+00
255	15	2	1	2025-12-26 22:06:33+00
256	15	1	21	2025-12-26 22:06:33+00
257	16	2	1	2025-12-26 22:06:33+00
258	16	1	14	2025-12-26 22:06:33+00
259	18	2	1	2025-12-26 22:06:33+00
260	18	1	29	2025-12-26 22:06:33+00
261	18	2	1	2025-12-26 22:06:33+00
262	18	1	9	2025-12-26 22:06:33+00
263	15	2	1	2025-12-26 22:08:48+00
264	15	1	22	2025-12-26 22:08:48+00
265	16	2	1	2025-12-26 22:08:48+00
266	16	1	16	2025-12-26 22:08:48+00
267	15	2	1	2025-12-26 22:08:48+00
268	15	1	11	2025-12-26 22:08:48+00
269	16	2	1	2025-12-26 22:08:48+00
270	16	1	13	2025-12-26 22:08:48+00
271	18	2	1	2025-12-26 22:08:48+00
272	18	1	14	2025-12-26 22:08:48+00
273	16	2	1	2025-12-26 22:08:48+00
274	16	1	10	2025-12-26 22:08:48+00
275	15	2	1	2025-12-26 22:08:48+00
276	15	1	31	2025-12-26 22:08:48+00
277	18	2	1	2025-12-26 22:08:48+00
278	18	1	14	2025-12-26 22:08:48+00
279	16	2	1	2025-12-26 22:08:48+00
280	16	1	25	2025-12-26 22:08:48+00
281	15	2	1	2025-12-26 22:08:48+00
282	15	1	24	2025-12-26 22:08:48+00
283	18	2	1	2025-12-26 22:08:48+00
284	18	1	9	2025-12-26 22:08:48+00
285	18	2	1	2025-12-26 22:08:48+00
286	18	1	8	2025-12-26 22:08:48+00
287	15	2	1	2025-12-26 22:08:56+00
288	15	1	10	2025-12-26 22:08:56+00
289	16	2	1	2025-12-26 22:08:56+00
290	16	1	14	2025-12-26 22:08:56+00
291	15	2	1	2025-12-26 22:08:56+00
292	15	1	11	2025-12-26 22:08:56+00
293	16	2	1	2025-12-26 22:08:56+00
294	16	1	13	2025-12-26 22:08:56+00
295	18	2	1	2025-12-26 22:08:56+00
296	18	1	16	2025-12-26 22:08:56+00
297	15	2	1	2025-12-26 22:08:56+00
298	15	1	9	2025-12-26 22:08:56+00
299	16	2	1	2025-12-26 22:08:56+00
300	16	1	13	2025-12-26 22:08:56+00
301	18	2	1	2025-12-26 22:08:56+00
302	18	1	13	2025-12-26 22:08:56+00
303	15	2	1	2025-12-26 22:08:56+00
304	15	1	16	2025-12-26 22:08:56+00
305	16	2	1	2025-12-26 22:08:56+00
306	16	1	14	2025-12-26 22:08:56+00
307	18	2	1	2025-12-26 22:08:56+00
308	18	1	20	2025-12-26 22:08:56+00
309	18	2	1	2025-12-26 22:08:56+00
310	18	1	7	2025-12-26 22:08:56+00
311	24	2	1	2025-12-26 22:12:19+00
312	24	1	65	2025-12-26 22:12:19+00
313	15	2	1	2025-12-26 22:12:27+00
314	15	1	14	2025-12-26 22:12:27+00
315	25	2	1	2025-12-26 22:12:36+00
316	25	1	16	2025-12-26 22:12:36+00
317	15	2	1	2025-12-26 22:12:42+00
318	15	1	10	2025-12-26 22:12:42+00
319	24	2	1	2025-12-26 22:12:53+00
320	24	1	20	2025-12-26 22:12:53+00
321	15	2	1	2025-12-26 22:13:24+00
322	15	1	17	2025-12-26 22:13:24+00
323	16	2	1	2025-12-26 22:13:24+00
324	16	1	11	2025-12-26 22:13:24+00
325	15	2	1	2025-12-26 22:13:24+00
326	15	1	11	2025-12-26 22:13:24+00
327	18	2	1	2025-12-26 22:13:24+00
328	18	1	11	2025-12-26 22:13:24+00
329	16	2	1	2025-12-26 22:13:24+00
330	16	1	11	2025-12-26 22:13:24+00
331	18	2	1	2025-12-26 22:13:24+00
332	18	1	9	2025-12-26 22:13:24+00
333	25	2	1	2025-12-26 22:13:29+00
334	25	1	11	2025-12-26 22:13:29+00
335	18	2	1	2025-12-26 22:13:30+00
336	18	1	10	2025-12-26 22:13:30+00
337	18	2	1	2025-12-26 22:13:32+00
338	18	1	10	2025-12-26 22:13:32+00
339	25	2	1	2025-12-26 22:13:34+00
340	25	1	8	2025-12-26 22:13:34+00
341	18	2	1	2025-12-26 22:13:36+00
342	18	1	11	2025-12-26 22:13:36+00
343	18	2	1	2025-12-26 22:13:37+00
344	18	1	6	2025-12-26 22:13:37+00
345	16	2	1	2025-12-26 22:14:13+00
346	16	1	13	2025-12-26 22:14:13+00
347	15	2	1	2025-12-26 22:14:13+00
348	15	1	22	2025-12-26 22:14:13+00
349	16	2	1	2025-12-26 22:14:13+00
350	16	1	13	2025-12-26 22:14:13+00
351	15	2	1	2025-12-26 22:14:13+00
352	15	1	16	2025-12-26 22:14:13+00
353	18	2	1	2025-12-26 22:14:13+00
354	18	1	11	2025-12-26 22:14:13+00
355	18	2	1	2025-12-26 22:14:13+00
356	18	1	7	2025-12-26 22:14:13+00
357	18	2	1	2025-12-26 22:14:16+00
358	18	1	9	2025-12-26 22:14:16+00
359	18	2	1	2025-12-26 22:14:17+00
360	18	1	5	2025-12-26 22:14:17+00
361	16	2	1	2025-12-26 22:14:31+00
362	16	1	12	2025-12-26 22:14:31+00
363	15	2	1	2025-12-26 22:14:31+00
364	15	1	21	2025-12-26 22:14:31+00
365	16	2	1	2025-12-26 22:14:31+00
366	16	1	8	2025-12-26 22:14:31+00
367	15	2	1	2025-12-26 22:14:31+00
368	15	1	14	2025-12-26 22:14:31+00
369	18	2	1	2025-12-26 22:14:31+00
370	18	1	11	2025-12-26 22:14:31+00
371	18	2	1	2025-12-26 22:14:31+00
372	18	1	11	2025-12-26 22:14:31+00
373	24	3	1	2025-12-26 22:14:38+00
374	24	1	21	2025-12-26 22:14:38+00
375	24	2	1	2025-12-26 22:14:44+00
376	24	1	11	2025-12-26 22:14:44+00
377	14	2	1	2025-12-26 22:14:51+00
378	14	1	803	2025-12-26 22:14:51+00
379	18	2	1	2025-12-26 22:14:53+00
380	18	1	12	2025-12-26 22:14:53+00
381	18	2	1	2025-12-26 22:14:53+00
382	18	1	8	2025-12-26 22:14:53+00
383	18	2	1	2025-12-26 22:14:54+00
384	18	1	10	2025-12-26 22:14:54+00
385	18	2	1	2025-12-26 22:14:54+00
386	18	1	9	2025-12-26 22:14:54+00
387	18	2	1	2025-12-26 22:14:54+00
388	18	1	12	2025-12-26 22:14:54+00
389	18	2	1	2025-12-26 22:14:55+00
390	18	1	9	2025-12-26 22:14:55+00
391	18	2	1	2025-12-26 22:14:55+00
392	18	1	10	2025-12-26 22:14:55+00
393	18	2	1	2025-12-26 22:14:55+00
394	18	1	9	2025-12-26 22:14:55+00
395	18	2	1	2025-12-26 22:14:56+00
396	18	1	10	2025-12-26 22:14:56+00
397	18	2	1	2025-12-26 22:14:59+00
398	18	1	9	2025-12-26 22:14:59+00
399	18	2	1	2025-12-26 22:15:01+00
400	18	1	6	2025-12-26 22:15:01+00
401	16	2	1	2025-12-26 22:18:45+00
402	16	1	13	2025-12-26 22:18:45+00
403	15	2	1	2025-12-26 22:18:45+00
404	15	1	25	2025-12-26 22:18:45+00
405	16	2	1	2025-12-26 22:18:45+00
406	16	1	23	2025-12-26 22:18:45+00
407	15	2	1	2025-12-26 22:18:45+00
408	15	1	20	2025-12-26 22:18:45+00
409	18	2	1	2025-12-26 22:18:45+00
410	18	1	27	2025-12-26 22:18:45+00
411	18	2	1	2025-12-26 22:18:46+00
412	18	1	9	2025-12-26 22:18:46+00
413	18	2	1	2025-12-26 22:18:47+00
414	18	1	10	2025-12-26 22:18:47+00
415	18	2	1	2025-12-26 22:18:48+00
416	18	1	10	2025-12-26 22:18:48+00
417	18	2	1	2025-12-26 22:18:50+00
418	18	1	10	2025-12-26 22:18:50+00
419	18	2	1	2025-12-26 22:18:52+00
420	18	1	9	2025-12-26 22:18:52+00
421	18	2	1	2025-12-26 22:18:55+00
422	18	1	10	2025-12-26 22:18:55+00
423	14	2	1	2025-12-26 22:20:18+00
424	14	1	1655	2025-12-26 22:20:18+00
\.


--
-- Data for Name: installed_nodes; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.installed_nodes (name, type, "latestVersion", package) FROM stdin;
\.


--
-- Data for Name: installed_packages; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.installed_packages ("packageName", "installedVersion", "authorName", "authorEmail", "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: invalid_auth_token; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.invalid_auth_token (token, "expiresAt") FROM stdin;
\.


--
-- Data for Name: messages; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.messages (message_id, conversation_id, user_id, role, content, tokens, attachments, created_at) FROM stdin;
21	963eb9f1-fdcc-4cd5-918b-29fae40c17a0	1	user	quel est le chiffre important que je t'ai donn ?	13	\N	2025-12-26 16:45:37.422543
22	963eb9f1-fdcc-4cd5-918b-29fae40c17a0	1	assistant	Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\n\nN'hsitez pas  me le communiquer !	72	\N	2025-12-26 16:45:37.42646
23	963eb9f1-fdcc-4cd5-918b-29fae40c17a0	1	user	salut	2	\N	2025-12-26 17:13:49.534376
24	963eb9f1-fdcc-4cd5-918b-29fae40c17a0	1	assistant	Salut ! Comment puis-je vous aider aujourd'hui ? 	13	\N	2025-12-26 17:13:49.537972
25	963eb9f1-fdcc-4cd5-918b-29fae40c17a0	1	user	salut	2	\N	2025-12-26 17:14:33.871186
26	963eb9f1-fdcc-4cd5-918b-29fae40c17a0	1	assistant	Bonjour ! Comment puis-je vous aider aujourd'hui ? 	14	\N	2025-12-26 17:14:33.875751
33	963eb9f1-fdcc-4cd5-918b-29fae40c17a0	1	user	dsf a va ?	3	\N	2025-12-26 17:34:13.433144
34	963eb9f1-fdcc-4cd5-918b-29fae40c17a0	1	assistant	Bonjour ! Je vais trs bien, merci de demander. \n\nComment puis-je vous aider aujourd'hui ?	23	\N	2025-12-26 17:34:13.437395
37	b88ac204-9035-4930-a37c-463f8b32af0c	1	user	hey	1	\N	2025-12-26 22:14:50.815635
38	b88ac204-9035-4930-a37c-463f8b32af0c	1	assistant	Bonjour ! Comment puis-je vous aider aujourd'hui ?	13	\N	2025-12-26 22:14:50.825768
39	ced314f9-dacb-466f-96f5-e34cba3687a4	1	user	peux tu me resumer le contenu de ce document ?	12	\N	2025-12-26 22:20:17.531552
40	ced314f9-dacb-466f-96f5-e34cba3687a4	1	assistant	Bien sr ! Pour pouvoir rsumer le contenu d'un document, j'aurais besoin que tu me le partages ou que tu me donnes quelques dtails sur son contenu. Tu peux par exemple me dire de quoi parle le document, me donner les titres des sections ou me partager quelques extraits.\n\nN'hsite pas  me fournir ces informations pour que je puisse t'aider au mieux !	89	\N	2025-12-26 22:20:17.536156
\.


--
-- Data for Name: migrations; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.migrations (id, "timestamp", name) FROM stdin;
1	1587669153312	InitialMigration1587669153312
2	1589476000887	WebhookModel1589476000887
3	1594828256133	CreateIndexStoppedAt1594828256133
4	1607431743768	MakeStoppedAtNullable1607431743768
5	1611144599516	AddWebhookId1611144599516
6	1617270242566	CreateTagEntity1617270242566
7	1620824779533	UniqueWorkflowNames1620824779533
8	1626176912946	AddwaitTill1626176912946
9	1630419189837	UpdateWorkflowCredentials1630419189837
10	1644422880309	AddExecutionEntityIndexes1644422880309
11	1646834195327	IncreaseTypeVarcharLimit1646834195327
12	1646992772331	CreateUserManagement1646992772331
13	1648740597343	LowerCaseUserEmail1648740597343
14	1652254514002	CommunityNodes1652254514002
15	1652367743993	AddUserSettings1652367743993
16	1652905585850	AddAPIKeyColumn1652905585850
17	1654090467022	IntroducePinData1654090467022
18	1658932090381	AddNodeIds1658932090381
19	1659902242948	AddJsonKeyPinData1659902242948
20	1660062385367	CreateCredentialsUserRole1660062385367
21	1663755770893	CreateWorkflowsEditorRole1663755770893
22	1664196174001	WorkflowStatistics1664196174001
23	1665484192212	CreateCredentialUsageTable1665484192212
24	1665754637025	RemoveCredentialUsageTable1665754637025
25	1669739707126	AddWorkflowVersionIdColumn1669739707126
26	1669823906995	AddTriggerCountColumn1669823906995
27	1671535397530	MessageEventBusDestinations1671535397530
28	1671726148421	RemoveWorkflowDataLoadedFlag1671726148421
29	1673268682475	DeleteExecutionsWithWorkflows1673268682475
30	1674138566000	AddStatusToExecutions1674138566000
31	1674509946020	CreateLdapEntities1674509946020
32	1675940580449	PurgeInvalidWorkflowConnections1675940580449
33	1676996103000	MigrateExecutionStatus1676996103000
34	1677236854063	UpdateRunningExecutionStatus1677236854063
35	1677501636754	CreateVariables1677501636754
36	1679416281778	CreateExecutionMetadataTable1679416281778
37	1681134145996	AddUserActivatedProperty1681134145996
38	1681134145997	RemoveSkipOwnerSetup1681134145997
39	1690000000000	MigrateIntegerKeysToString1690000000000
40	1690000000020	SeparateExecutionData1690000000020
41	1690000000030	RemoveResetPasswordColumns1690000000030
42	1690000000030	AddMfaColumns1690000000030
43	1690787606731	AddMissingPrimaryKeyOnExecutionData1690787606731
44	1691088862123	CreateWorkflowNameIndex1691088862123
45	1692967111175	CreateWorkflowHistoryTable1692967111175
46	1693491613982	ExecutionSoftDelete1693491613982
47	1693554410387	DisallowOrphanExecutions1693554410387
48	1694091729095	MigrateToTimestampTz1694091729095
49	1695128658538	AddWorkflowMetadata1695128658538
50	1695829275184	ModifyWorkflowHistoryNodesAndConnections1695829275184
51	1700571993961	AddGlobalAdminRole1700571993961
52	1705429061930	DropRoleMapping1705429061930
53	1711018413374	RemoveFailedExecutionStatus1711018413374
54	1711390882123	MoveSshKeysToDatabase1711390882123
55	1712044305787	RemoveNodesAccess1712044305787
56	1714133768519	CreateProject1714133768519
57	1714133768521	MakeExecutionStatusNonNullable1714133768521
58	1717498465931	AddActivatedAtUserSetting1717498465931
59	1720101653148	AddConstraintToExecutionMetadata1720101653148
60	1721377157740	FixExecutionMetadataSequence1721377157740
61	1723627610222	CreateInvalidAuthTokenTable1723627610222
62	1723796243146	RefactorExecutionIndices1723796243146
63	1724753530828	CreateAnnotationTables1724753530828
64	1724951148974	AddApiKeysTable1724951148974
65	1726606152711	CreateProcessedDataTable1726606152711
66	1727427440136	SeparateExecutionCreationFromStart1727427440136
67	1728659839644	AddMissingPrimaryKeyOnAnnotationTagMapping1728659839644
68	1729607673464	UpdateProcessedDataValueColumnToText1729607673464
69	1729607673469	AddProjectIcons1729607673469
70	1730386903556	CreateTestDefinitionTable1730386903556
71	1731404028106	AddDescriptionToTestDefinition1731404028106
72	1731582748663	MigrateTestDefinitionKeyToString1731582748663
73	1732271325258	CreateTestMetricTable1732271325258
74	1732549866705	CreateTestRun1732549866705
75	1733133775640	AddMockedNodesColumnToTestDefinition1733133775640
76	1734479635324	AddManagedColumnToCredentialsTable1734479635324
77	1736172058779	AddStatsColumnsToTestRun1736172058779
78	1736947513045	CreateTestCaseExecutionTable1736947513045
79	1737715421462	AddErrorColumnsToTestRuns1737715421462
80	1738709609940	CreateFolderTable1738709609940
81	1739549398681	CreateAnalyticsTables1739549398681
82	1740445074052	UpdateParentFolderIdColumn1740445074052
83	1741167584277	RenameAnalyticsToInsights1741167584277
84	1742918400000	AddScopesColumnToApiKeys1742918400000
85	1745322634000	ClearEvaluation1745322634000
86	1745587087521	AddWorkflowStatisticsRootCount1745587087521
87	1745934666076	AddWorkflowArchivedColumn1745934666076
88	1745934666077	DropRoleTable1745934666077
89	1747824239000	AddProjectDescriptionColumn1747824239000
90	1750252139166	AddLastActiveAtColumnToUser1750252139166
91	1750252139166	AddScopeTables1750252139166
92	1750252139167	AddRolesTables1750252139167
93	1750252139168	LinkRoleToUserTable1750252139168
94	1750252139170	RemoveOldRoleColumn1750252139170
95	1752669793000	AddInputsOutputsToTestCaseExecution1752669793000
96	1753953244168	LinkRoleToProjectRelationTable1753953244168
97	1754475614601	CreateDataStoreTables1754475614601
98	1754475614602	ReplaceDataStoreTablesWithDataTables1754475614602
99	1756906557570	AddTimestampsToRoleAndRoleIndexes1756906557570
100	1758731786132	AddAudienceColumnToApiKeys1758731786132
101	1758794506893	AddProjectIdToVariableTable1758794506893
102	1759399811000	ChangeValueTypesForInsights1759399811000
103	1760019379982	CreateChatHubTables1760019379982
104	1760020000000	CreateChatHubAgentTable1760020000000
105	1760020838000	UniqueRoleNames1760020838000
106	1760116750277	CreateOAuthEntities1760116750277
107	1760314000000	CreateWorkflowDependencyTable1760314000000
108	1760965142113	DropUnusedChatHubColumns1760965142113
109	1761047826451	AddWorkflowVersionColumn1761047826451
110	1761655473000	ChangeDependencyInfoToJson1761655473000
111	1761773155024	AddAttachmentsToChatHubMessages1761773155024
112	1761830340990	AddToolsColumnToChatHubTables1761830340990
113	1762177736257	AddWorkflowDescriptionColumn1762177736257
114	1762763704614	BackfillMissingWorkflowHistoryRecords1762763704614
115	1762771264000	ChangeDefaultForIdInUserTable1762771264000
116	1762771954619	AddIsGlobalColumnToCredentialsTable1762771954619
117	1762847206508	AddWorkflowHistoryAutoSaveFields1762847206508
118	1763047800000	AddActiveVersionIdColumn1763047800000
119	1763572724000	ChangeOAuthStateColumnToUnboundedVarchar1763572724000
120	1763716655000	CreateBinaryDataTable1763716655000
\.


--
-- Data for Name: n8n_chat_histories; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.n8n_chat_histories (id, session_id, message) FROM stdin;
1	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "human", "content": "salut , comment peux tu m'aider aujourd'ui", "additional_kwargs": {}, "response_metadata": {}}
2	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "ai", "content": "Bonjour ! Je suis ravi de pouvoir vous aider aujourd'hui. En tant qu'assistant IA de WIDIP, je peux vous aider avec :\\n\\n- Des questions techniques sur nos projets et technologies\\n- Des conseils sur les bonnes pratiques de dveloppement\\n- De l'aide pour rsoudre des problmes techniques\\n- Des informations sur les processus et outils internes\\n\\nN'hsitez pas  me poser votre question, et je ferai de mon mieux pour vous fournir une rponse claire et utile.\\n\\nQu'aimeriez-vous savoir aujourd'hui ?", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
3	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "human", "content": "on va tester ta memoir , si je cite un oeuvre ,peux tu me la redonner au message suivant , exemple : harry potter", "additional_kwargs": {}, "response_metadata": {}}
4	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "ai", "content": "Bien sr ! Je vais essayer de retenir cette information. Vous pouvez me citer une uvre, et je ferai de mon mieux pour vous la rappeler dans notre prochain change.\\n\\nPar exemple, si vous me dites : \\"Harry Potter\\", je noterai cette information et je pourrai vous la rappeler plus tard.\\n\\nQuelle uvre souhaitez-vous que je retienne pour notre test ?", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
5	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "human", "content": "3+3 ?", "additional_kwargs": {}, "response_metadata": {}}
6	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "ai", "content": "La rponse est simple :\\n\\n```\\n3 + 3 = 6\\n```", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
7	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "human", "content": "et l'oeuvre ddont je t'ai parl ?", "additional_kwargs": {}, "response_metadata": {}}
8	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "ai", "content": "Vous ne m'avez pas encore cit d'uvre  retenir. Si vous le faites, je serai ravi de vous la rappeler dans notre prochain change.\\n\\nN'hsitez pas  me donner une uvre  retenir, et je ferai de mon mieux pour vous la rappeler plus tard.", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
9	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "human", "content": "ok on va faire le test de memoire , tu vas retenir la chose suivante : 123456. je te la redemanderai dans les prochains messages", "additional_kwargs": {}, "response_metadata": {}}
10	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "ai", "content": "Trs bien, j'ai not le nombre suivant pour notre test de mmoire :\\n\\n```\\n123456\\n```\\n\\nJe me souviendrai de cette information pour les prochains changes. N'hsitez pas  me la redemander quand vous le souhaitez.", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
11	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "human", "content": "redonne moi ce que je t'ai demand de retenir", "additional_kwargs": {}, "response_metadata": {}}
12	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "ai", "content": "Voici l'information que vous m'avez demand de retenir :\\n\\n```\\n123456\\n```", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
13	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "human", "content": "et maintenant l'oeuvre Harry Potter", "additional_kwargs": {}, "response_metadata": {}}
14	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "ai", "content": "Voici l'uvre que vous m'avez demand de retenir :\\n\\n**Harry Potter**\\n\\nC'est une srie de romans fantastiques crite par J.K. Rowling. La srie suit les aventures de Harry Potter, un jeune sorcier, et de ses amis Hermione Granger et Ron Weasley, alors qu'ils apprennent la magie et affrontent les forces du mal.\\n\\nY a-t-il autre chose que vous aimeriez savoir sur Harry Potter ou une autre uvre ?", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
15	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "human", "content": "ok et quelle info je t'ai demand de retenir ?", "additional_kwargs": {}, "response_metadata": {}}
16	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "ai", "content": "Vous m'avez demand de retenir deux informations :\\n\\n1. Un nombre :\\n   ```\\n   123456\\n   ```\\n\\n2. Une uvre :\\n   **Harry Potter**\\n\\nSi vous avez d'autres questions ou si vous souhaitez que je retienne d'autres informations, n'hsitez pas  me le faire savoir !", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
17	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "human", "content": "trop fort ! maintenant parle moi de tes limites", "additional_kwargs": {}, "response_metadata": {}}
18	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "ai", "content": "Merci pour le compliment ! Je suis ravi de pouvoir vous aider. Cependant, comme tout assistant IA, j'ai certaines limites. Voici les principales :\\n\\n1. **Connaissances limites** :\\n   - Mes connaissances sont bases sur les informations disponibles jusqu'en octobre 2023.\\n   - Je ne peux pas accder  des informations en temps rel ou  des donnes personnelles non partages avec moi.\\n\\n2. **Comprhension contextuelle** :\\n   - Bien que je puisse retenir certaines informations pendant notre conversation, ma mmoire est limite  notre change en cours.\\n   - Je ne peux pas comprendre ou retenir des informations au-del de ce cadre.\\n\\n3. **Prcision et exactitude** :\\n   - Je fais de mon mieux pour fournir des informations prcises, mais je peux parfois faire des erreurs ou mal comprendre les questions.\\n   - Il est toujours bon de vrifier les informations critiques avec des sources fiables.\\n\\n4. **Capacits techniques** :\\n   - Je ne peux pas excuter de code ou accder  des systmes externes sans votre aide.\\n   - Je ne peux pas non plus crer ou modifier des fichiers directement.\\n\\n5. **motions et subjectivit** :\\n   - Je ne peux pas ressentir d'motions ou avoir d'opinions personnelles.\\n   - Je fournis des informations de manire objective et neutre.\\n\\n6. **Langues** :\\n   - Bien que je puisse comprendre et gnrer du texte dans plusieurs langues, je suis le plus  l'aise en franais et en anglais.\\n\\nSi vous avez des questions spcifiques ou si vous souhaitez explorer certaines de ces limites, n'hsitez pas  me le faire savoir !", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
19	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "human", "content": "ok et en terme de token ?", "additional_kwargs": {}, "response_metadata": {}}
20	1_7fbd5214-e6f4-4045-accf-c6ec9c64a40a	{"type": "ai", "content": "En termes de tokens, voici quelques limites importantes  garder  l'esprit :\\n\\n1. **Longueur des conversations** :\\n   - Je peux grer des conversations de longueur modre, mais il y a une limite  la quantit de texte que je peux traiter en une seule fois.\\n   - En gnral, cette limite est d'environ 4096 tokens, ce qui inclut  la fois la question de l'utilisateur et la rponse de l'IA.\\n\\n2. **Contexte de la conversation** :\\n   - Je peux retenir le contexte de notre conversation pendant un certain temps, mais si la conversation devient trop longue, je peux oublier les dtails des premiers changes.\\n   - Pour des conversations trs longues, il peut tre utile de rsumer ou de reformuler les points importants.\\n\\n3. **Complexit des requtes** :\\n   - Les requtes trs longues ou complexes peuvent dpasser la limite de tokens et ncessiter d'tre simplifies ou divises en parties plus petites.\\n   - Je ferai de mon mieux pour vous guider si votre requte est trop longue ou complexe.\\n\\n4. **Code et texte long** :\\n   - Pour les blocs de code ou les textes longs, il est prfrable de les diviser en parties plus petites pour faciliter le traitement.\\n   - Je peux grer des blocs de code de taille raisonnable, mais des fichiers entiers ou des projets complets peuvent dpasser les limites de tokens.\\n\\nSi vous avez des questions spcifiques ou si vous souhaitez explorer certaines de ces limites, n'hsitez pas  me le faire savoir !", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
21	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "human", "content": "Parle moi de toi , qui es tu ? quelles sont tes performance ,token input/output max, sur quelles donne es tu entrain etc ?", "additional_kwargs": {}, "response_metadata": {}}
22	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "ai", "content": "Bonjour ! Je suis **WIBOT**, l'assistant IA interne de **WIDIP**, conu pour accompagner les quipes techniques et administratives. Voici ce que vous devez savoir sur moi :\\n\\n---\\n\\n### ** Qui suis-je ?**\\n- **Rle** : Assistant IA ddi aux employs de WIDIP pour des questions techniques, des conseils ou de l'aide sur les projets internes.\\n- **Objectif** : Fournir des rponses **prcises, professionnelles et adaptes** au contexte informatique et mtier de WIDIP.\\n- **Personnalit** : Amical mais professionnel, avec un focus sur l'efficacit et la clart.\\n\\n---\\n\\n### ** Performances et limites techniques**\\n- **Modle de base** : Je suis bas sur une architecture de type *LLM* (Large Language Model), optimis pour le traitement du langage naturel.\\n- **Tokens (unit de texte)** :\\n  - **Input max** : ~4 000 tokens (soit ~3 000 mots ou 6-8 pages de texte).\\n  - **Output max** : ~800-1 000 tokens par rponse (pour viter les coupures).\\n  - *Exemple* : Un token  4 caractres ou 0,75 mot en franais.\\n- **Mmoire** : Je n'ai pas de mmoire persistante entre les sessions (chaque change est indpendant).\\n\\n---\\n\\n### ** Donnes d'entranement**\\n- **Sources** : Entran sur un corpus diversifi incluant :\\n  - Documentation technique (informatique, cloud, cyberscurit, etc.).\\n  - Textes professionnels (emails, rapports, procdures).\\n  - Connaissances gnrales jusqu'en **2023** (pas d'accs  des donnes temps rel sans intgration spcifique).\\n- **Spcificits WIDIP** :\\n  - Je peux tre *fine-tun* (ajust) avec des donnes internes  WIDIP pour mieux rpondre aux besoins mtiers (ex : processus internes, outils utiliss).\\n  - *Actuellement* : Je n'ai pas accs aux donnes confidentielles de WIDIP sauf si elles sont partages dans le contexte de la conversation.\\n\\n---\\n\\n### ** Fonctionnalits cls**\\n **Support technique** :\\n- Dpannage (ex : erreurs de code, configuration rseau).\\n- Explications sur des concepts (ex : DevOps, conteneurs Docker).\\n- Aide  la rdaction de scripts (Python, Bash, etc.).\\n\\n **Productivit** :\\n- Rdaction de procdures ou de documentation.\\n- Synthse d'informations techniques.\\n\\n **Limites** :\\n-  Pas d'accs  des outils externes (ex : excuter du code en direct, accder  des APIs sans configuration pralable).\\n-  Pas de connaissances sur les projets WIDIP spcifiques *sauf si* vous me les partagez dans le chat.\\n\\n---\\n\\n### ** Exemple d'utilisation**\\n**Vous** :\\n*\\"Comment dployer une application Node.js sur un serveur WIDIP avec Docker ?\\"*\\n\\n**Moi** :\\nJe fournirais un guide tape par tape avec :\\n1. Un `Dockerfile` exemple.\\n2. Les commandes pour builder et lancer le conteneur.\\n3. Des conseils sur la configuration rseau/scurit.\\n\\n---\\n\\n### ** Comment m'optimiser pour WIDIP ?**\\nSi vous avez des **documents internes** (ex : manuels, FAQ) ou des **besoins rcurrents**, l'quipe technique peut :\\n- M'intgrer  des outils internes (via API).\\n- Me *fine-tuner* avec des donnes WIDIP pour des rponses plus cibles.\\n\\n---\\n\\nBesoin d'aide sur un sujet prcis ? Dites-moi comment je peux vous assister ! \\n\\n*(PS : Pour des questions sensibles, vrifiez toujours les informations avec les rfrents WIDIP.)*", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
23	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "human", "content": "je t'utilise via l'API , je pensais que tu pouvais me donner plus de token et en produire pluss , apres je t'utilise en mode gratuuit pour l'instant ,  terme on projet de t'utiliser en payant ,c'est uniquement poiur faire les test . c'est a cause de la gratuit que tu me dis que tu es brid ?", "additional_kwargs": {}, "response_metadata": {}}
24	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "ai", "content": "Merci pour ces prcisions ! Voici une rponse claire et structure pour vous aider  comprendre les limites actuelles et les possibilits futures :\\n\\n---\\n\\n### ** Limites en mode gratuit (via API)**\\nOui, les restrictions que je mentionne sont lies  :\\n1. **Votre plan actuel** :\\n   - En mode gratuit, les quotas de tokens (input/output) sont **limits par dfaut** (ex : ~4 000 tokens en entre, ~1 000 en sortie par requte).\\n   - Cela vite les abus et garantit une utilisation quitable pour tous les utilisateurs.\\n\\n2. **Configuration de l'API** :\\n   - Si vous utilisez une cl API gratuite (ex : via OpenAI, Mistral, etc.), les limites sont dfinies par le fournisseur.\\n   - *Exemple* : Avec l'API OpenAI (GPT-3.5/4), le mode gratuit a des plafonds stricts.\\n\\n---\\n\\n### ** Solutions pour dpasser ces limites**\\n#### **1. Passer en mode payant (recommand pour WIDIP)**\\n- **Avantages** :\\n  - **Tokens augments** : Jusqu 8 00032 000 tokens en entre/sortie (selon le modle).\\n  - **Rponses plus longues** : Possibilit de gnrer des documents techniques complets.\\n  - **Priorit** : Moins de risques de throttling (ralentissements).\\n- **Cot** :\\n  - ~$0.001$0.03 par 1 000 tokens (selon le modle).\\n  - *Exemple* : 100 000 tokens/mois  quelques dollars.\\n\\n#### **2. Optimiser les requtes**\\nMme en gratuit, vous pouvez :\\n- **Dcouper les questions** : Poser des sous-questions pour contourner la limite.\\n- **Utiliser des rsums** : Me demander de synthtiser des parties dun long texte.\\n\\n#### **3. Intgration spcifique pour WIDIP**\\nSi vous envisagez un usage intensif :\\n- **Fine-tuning** : Adapter mon modle aux donnes WIDIP pour des rponses plus prcises.\\n- **API ddie** : WIDIP pourrait hberger une instance personnalise (ex : avec des modles open-source comme Llama ou Mistral).\\n\\n---\\n\\n### ** Exemple de gains en mode payant**\\n| **Fonctionnalit**       | Mode Gratuit          | Mode Payant               |\\n|--------------------------|-----------------------|---------------------------|\\n| Tokens max/requte       | ~4 000                | 8 00032 000              |\\n| Longueur des rponses    | ~1 000 tokens         | Jusqu 4 000 tokens      |\\n| Vitesse                  | Variable              | Prioritaire               |\\n| Accs aux mises  jour   | Modles anciens       | Dernires versions (GPT-4) |\\n\\n---\\n\\n### ** Prochaines tapes pour WIDIP**\\n1. **Tester en gratuit** :\\n   - Valider lutilit pour vos cas dusage (ex : gnration de docs, support technique).\\n2. **valuer les besoins** :\\n   - Combien de tokens/mois ? Quels types de requtes ?\\n3. **Contacter le fournisseur** (ou moi !) pour :\\n   - Un devis personnalis.\\n   - Une dmonstration des capacits en mode payant.\\n\\n---\\n\\n### ** Conseil**\\nSi vous avez un **cas dusage critique** (ex : gnrer un manuel de 50 pages), je peux vous guider pour :\\n- Structurer le contenu en plusieurs parties.\\n- Automatiser lassemblage via un script (Python, etc.).\\n\\nDites-moi comment je peux vous aider  prparer cette transition ! \\n\\n*(PS : Pour des tests, vous pouvez aussi explorer des alternatives open-source comme Mistral-7B ou Llama-2, que WIDIP pourrait auto-hberger.)*", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
25	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "human", "content": "je t'utilise via l'API , je pensais que tu pouvais me donner plus de token et en produire pluss , apres je t'utilise en mode gratuuit pour l'instant ,  terme on projet de t'utiliser en payant ,c'est uniquement poiur faire les test . c'est a cause de la gratuit que tu me dis que tu es brid ?", "additional_kwargs": {}, "response_metadata": {}}
26	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "ai", "content": "Je comprends votre question, et voici une rponse prcise et technique pour clarifier les limites actuelles et les perspectives d'volution :\\n\\n---\\n\\n### ** Confirmation : Oui, les limites sont lies au mode gratuit**\\n1. **Contraintes techniques actuelles** :\\n   - **Input max** : ~4 000 tokens (soit ~3 000 mots)\\n   - **Output max** : ~800-1 000 tokens par rponse\\n   - *Exemple concret* : Une rponse dtaille avec du code et des explications peut atteindre cette limite rapidement.\\n\\n2. **Origine des limitations** :\\n   - Ces restrictions sont **imposes par le fournisseur de l'API** (ex : OpenAI, Mistral, etc.) pour :\\n     - viter les abus en mode gratuit\\n     - Garantir une qualit de service pour tous les utilisateurs\\n     - Inciter  passer en mode payant pour des usages intensifs\\n\\n---\\n\\n### ** Ce qui changera en mode payant**\\n| **Critre**               | Mode Gratuit          | Mode Payant (ex: GPT-4)  |\\n|---------------------------|-----------------------|--------------------------|\\n| **Tokens input max**      | ~4 000                | 8 000 - 32 000           |\\n| **Tokens output max**     | ~1 000                | 4 000 - 8 000            |\\n| **Longueur contexte**     | Limite               | Jusqu' 32k tokens       |\\n| **Vitesse de rponse**    | Variable              | Prioritaire              |\\n| **Accs aux modles**     | Basique (GPT-3.5)     | Premium (GPT-4, etc.)    |\\n\\n---\\n\\n### ** Solutions pour vos tests actuels**\\nMme en mode gratuit, vous pouvez optimiser l'utilisation :\\n1. **Dcoupage des requtes** :\\n   ```python\\n   # Exemple de dcoupage pour un long code\\n   partie1 = \\"Explique-moi cette fonction...\\"\\n   partie2 = \\"Maintenant analyse cette autre partie...\\"\\n   ```\\n\\n2. **Utilisation de rsums** :\\n   - Me demander de rsumer un long texte avant d'approfondir\\n\\n3. **Formatage efficace** :\\n   - Privilgier les listes et le markdown pour gagner de la place\\n\\n---\\n\\n### ** Prparation pour le passage en payant**\\nPour anticiper la migration :\\n1. **valuez vos besoins** :\\n   - Combien de tokens/mois ?\\n   - Quels types de contenus (code, docs, analyses) ?\\n\\n2. **Testez les cas critiques** :\\n   - Identifiez les scnarios qui dpassent les limites actuelles\\n\\n3. **Comparez les offres** :\\n   - OpenAI, Mistral, ou solutions auto-hberges (pour WIDIP)\\n\\n---\\n\\n### ** Recommandation WIDIP**\\nPour un usage professionnel intensif :\\n- **Budget estim** : ~$20-$50/mois pour un usage modr\\n- **ROI** : Gain de temps sur la documentation et le support technique\\n- **Alternative** : tudier l'auto-hbergement d'un modle open-source (ex: Llama-2) pour plus de contrle\\n\\n---\\n\\nJe reste  votre disposition pour :\\n- Vous aider  estimer vos besoins en tokens\\n- Tester des scnarios spcifiques\\n- Prparer la migration vers un plan payant\\n\\nN'hsitez pas  me donner des exemples concrets de vos besoins pour que je puisse vous conseiller plus prcisment ! ", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
27	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "human", "content": "j'ai vu que pour Devstral 2 le cout de l'API serait de 0.1 /M token et 0.3pour l'output , sur 15 employ qui peuvent utiliser 1 pour la totalit a represente quoi en moyenne ?", "additional_kwargs": {}, "response_metadata": {}}
28	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "ai", "content": "Voici une analyse dtaille des cots et capacits pour **15 employs** avec un budget de **1/mois** pour l'API Mistral (Devstral 2) :\\n\\n---\\n\\n### ** Calcul des capacits avec 1/mois**\\n| **Type**       | **Cot**  | **Budget allou** | **Tokens disponibles** | **quivalent texte** |\\n|----------------|----------|-------------------|------------------------|----------------------|\\n| **Input**      | 0,1/M   | 0,50             | 5M tokens              | ~3,75M mots          |\\n| **Output**     | 0,3/M   | 0,50             | 1,67M tokens           | ~1,25M mots          |\\n\\n*Rpartition* :\\n- 50% du budget pour l'input (0,50)\\n- 50% pour l'output (0,50)\\n\\n---\\n\\n### ** Capacit par employ (moyenne)**\\nAvec **15 utilisateurs** :\\n- **Input** : **333k tokens/employ/mois** (~250k mots)\\n- **Output** : **111k tokens/employ/mois** (~83k mots)\\n\\n*Exemples concrets* :\\n1. **Documentation technique** :\\n   - 1 manuel de 50 pages (~25k mots) = ~33k tokens  **3 manuels/employ/mois**\\n2. **Code et analyses** :\\n   - 100 requtes de 500 tokens (output) = 50k tokens  **200 requtes/employ/mois**\\n3. **Chat quotidien** :\\n   - 50 changes de 200 tokens (input) + 150 tokens (output) = 17,5k tokens  **500 changes/employ/mois**\\n\\n---\\n\\n### ** Optimisation du budget**\\nPour maximiser l'usage :\\n1. **Prioriser les requtes** :\\n   - Rserver les longs outputs pour les documents critiques\\n   - Utiliser des rsums pour les changes courts\\n\\n2. **Exemple de script Python pour suivre la consommation** :\\n```python\\n# Suivi des tokens ( adapter avec votre API)\\ndef count_tokens(text):\\n    return len(text.split()) * 1.3  # Estimation basique\\n\\nbudget_input = 5_000_000  # 5M tokens\\nbudget_output = 1_666_667 # 1,67M tokens\\n\\n# Exemple d'utilisation\\nuser_request = \\"Explique ce code Python...\\"\\nresponse = \\"Voici l'analyse dtaille...\\"\\ntokens_used = count_tokens(user_request) + count_tokens(response)\\n\\nprint(f\\"Tokens utiliss: {tokens_used:.0f} (Input: {count_tokens(user_request):.0f}, Output: {count_tokens(response):.0f})\\")\\nprint(f\\"Budget restant: Input={budget_input-tokens_used:.0f}, Output={budget_output-tokens_used:.0f}\\")\\n```\\n\\n3. **Bonnes pratiques** :\\n   - **Dcouper les grosses requtes** en sous-parties\\n   - **Utiliser le markdown** pour structurer les rponses (conomise des tokens)\\n   - **Archiver les rponses utiles** pour viter de les regnrer\\n\\n---\\n\\n### ** Comparaison avec d'autres fournisseurs**\\n| **Fournisseur** | **Cot Input** | **Cot Output** | **Capacit avec 1** |\\n|-----------------|----------------|-----------------|----------------------|\\n| Mistral (Devstral 2) | 0,1/M      | 0,3/M          | 5M input / 1,67M output |\\n| OpenAI (GPT-3.5)    | 0,5/M      | 1,5/M          | 1M input / 0,33M output |\\n| **conomie Mistral** | **5x moins cher** en input, **4,5x** en output |\\n\\n---\\n\\n### ** Recommandations pour WIDIP**\\n1. **Pour 15 employs** :\\n   - Le budget de **1/mois** est **suffisant** pour un usage modr (support technique, documentation lgre).\\n   - ** surveiller** : Si usage intensif de gnration de code ou de longs rapports.\\n\\n2. **Si dpassement** :\\n   - **Option 1** : Augmenter le budget  **2-3/mois** pour plus de marge.\\n   - **Option 2** : Auto-hberger un modle open-source (ex: Mistral-7B) pour un cot fixe.\\n\\n3. **Outils de monitoring** :\\n   - Utiliser des bibliothques comme [`tiktoken`](https://github.com/openai/tiktoken) pour compter les tokens avant envoi.\\n\\n---\\n\\n### ** Exemple de tableau de bord mensuel**\\n```markdown\\n| Mois   | Budget | Tokens Input utiliss | Tokens Output utiliss | % Utilisation |\\n|--------|--------|-----------------------|------------------------|---------------|\\n| Janvier| 1     | 3,2M/5M (64%)         | 1,1M/1,67M (66%)       |  OK         |\\n| Fvrier| 1     | 4,8M/5M (96%)         | 1,5M/1,67M (90%)       |   surveiller |\\n```\\n\\n---\\n\\nBesoin d'aide pour :\\n- **Estimer un cas d'usage spcifique** ?\\n- **Configurer un suivi automatique** des tokens ?\\n- **Comparer avec d'autres modles** ?\\n\\nJe peux vous fournir des templates ou des scripts prts  l'emploi ! ", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
29	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "human", "content": "j'ai vu que pour Devstral 2 le cout de l'API serait de 0.1 /M token et 0.3pour l'output , sur 15 employ qui peuvent utiliser 1 pour la totalit a represente quoi en moyenne ?", "additional_kwargs": {}, "response_metadata": {}}
30	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "ai", "content": "Voici une analyse claire et concise pour votre budget de **1/mois** avec l'API Mistral (Devstral 2) pour 15 employs :\\n\\n---\\n\\n### ** Capacit mensuelle avec 1**\\n| **Type**   | **Cot**  | **Budget** | **Tokens disponibles** | **quivalent**       |\\n|------------|----------|------------|------------------------|----------------------|\\n| **Input**  | 0,1/M   | 0,50      | **5M tokens**          | ~3,75M mots          |\\n| **Output** | 0,3/M   | 0,50      | **1,67M tokens**       | ~1,25M mots          |\\n\\n*Rpartition* : 50% du budget pour l'input, 50% pour l'output.\\n\\n---\\n\\n### ** Par employ (moyenne)**\\n- **Input** : **333k tokens** (~250k mots)\\n- **Output** : **111k tokens** (~83k mots)\\n\\n*Exemples concrets* :\\n- **Documentation** : 1 manuel de 50 pages (~33k tokens)  **3 manuels/employ/mois**.\\n- **Code** : 100 requtes de 500 tokens (output)  **200 requtes/employ/mois**.\\n- **Chat** : 50 changes de 200 tokens (input) + 150 tokens (output)  **500 changes/employ/mois**.\\n\\n---\\n\\n### ** Optimisation**\\n1. **Dcouper les grosses requtes** :\\n   ```python\\n   # Exemple : Analyser un long code en parties\\n   partie1 = \\"Analyse les fonctions 1  10...\\"\\n   partie2 = \\"Maintenant les fonctions 11  20...\\"\\n   ```\\n\\n2. **Utiliser des rsums** :\\n   - Demander un rsum avant d'approfondir.\\n\\n3. **Suivi des tokens** :\\n   - Utiliser [`tiktoken`](https://github.com/openai/tiktoken) pour estimer les cots avant envoi.\\n\\n---\\n\\n### ** Recommandation**\\n- **1/mois** est **suffisant** pour un usage modr (support, docs lgres).\\n- ** surveiller** : Si usage intensif de gnration de code ou de longs rapports, prvoir **2-3/mois**.\\n\\n---\\n\\nBesoin d'un exemple de script pour suivre les tokens ? Ou d'une estimation pour un cas d'usage spcifique ? ", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
31	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "human", "content": "en fait c'etait par jour , sachant que par moi on a 5x4 jour de travail , je pensais a un budget total de 20", "additional_kwargs": {}, "response_metadata": {}}
32	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "ai", "content": "Avec un budget de **20/mois** pour **15 employs** sur **20 jours ouvrs** (5 semaines  4 jours), voici l'analyse dtaille et optimise :\\n\\n---\\n\\n### ** Budget journalier et mensuel**\\n| **Priode**       | **Budget total** | **Budget/jour** | **Budget/employ/jour** |\\n|-------------------|------------------|-----------------|-------------------------|\\n| **Mensuel**       | 20              | -               | -                       |\\n| **Journalier**    | -                | **1**          | **0,066** (6,6 centimes) |\\n\\n---\\n\\n### ** Capacit quotidienne par employ**\\nAvec **0,066/employ/jour** (rpartition 50% input / 50% output) :\\n\\n| **Type**   | **Cot**  | **Tokens/jour/employ** | **quivalent texte** |\\n|------------|----------|-------------------------|----------------------|\\n| **Input**  | 0,1/M   | **660 tokens**          | ~500 mots            |\\n| **Output** | 0,3/M   | **220 tokens**          | ~165 mots            |\\n\\n*Exemples d'usage quotidien* :\\n1. **Support technique** :\\n   - 3 requtes de 150 tokens (input) + 50 tokens (output) = **600 tokens**  **OK**.\\n2. **Documentation** :\\n   - 1 page de procdure (~200 tokens output) = **220 tokens**  **OK**.\\n3. **Analyse de code** :\\n   - 1 fonction explique (~100 tokens output) + contexte (~50 tokens input) = **150 tokens**  **OK**.\\n\\n---\\n\\n### ** Capacit mensuelle totale**\\n| **Type**       | **Tokens/mois** | **quivalent**       |\\n|----------------|-----------------|----------------------|\\n| **Input**      | **200k**        | ~150k mots           |\\n| **Output**     | **66k**         | ~50k mots            |\\n\\n*Pour 15 employs* :\\n- **Input total** : 200k  15 = **3M tokens** (~2,25M mots).\\n- **Output total** : 66k  15 = **1M tokens** (~750k mots).\\n\\n---\\n\\n### ** Optimisation avance**\\n1. **Pool de tokens partag** :\\n   - Utiliser un systme de quota dynamique (ex : slack pour les jours peu chargs).\\n\\n2. **Script de monitoring** (Python) :\\n```python\\nfrom collections import defaultdict\\n\\n# Suivi par employ\\nusage = defaultdict(lambda: {\\"input\\": 0, \\"output\\": 0})\\n\\ndef log_usage(employe, input_tokens, output_tokens):\\n    usage[employe][\\"input\\"] += input_tokens\\n    usage[employe][\\"output\\"] += output_tokens\\n    print(f\\"Utilisation {employe}: Input={usage[employe]['input']}, Output={usage[employe]['output']}\\")\\n\\n# Exemple\\nlog_usage(\\"Alice\\", 500, 200)  # 500 tokens input, 200 output\\n```\\n\\n3. **Priorisation** :\\n   - Rserver les longs outputs pour les documents critiques (ex : rapports clients).\\n\\n---\\n\\n### ** Comparaison avec d'autres budgets**\\n| **Budget/mois** | **Capacit/jour/employ** | **Usage typique**               |\\n|-----------------|---------------------------|----------------------------------|\\n| **10**        | 330 input / 110 output    | Support lger + docs courtes    |\\n| **20**        | 660 input / 220 output    | Support + docs modres         |\\n| **30**        | 1000 input / 330 output   | Usage intensif (code, rapports) |\\n\\n---\\n\\n### ** Recommandations pour WIDIP**\\n1. **Pour 20/mois** :\\n   - **Suffisant** pour un usage professionnel standard (support, procdures, analyses courtes).\\n   - ** viter** : Gnration massive de documentation ou d'analyses longues quotidiennement.\\n\\n2. **Si besoin d'augmenter** :\\n   - **30/mois** pour un usage intensif (ex : quipe DevOps avec gnration de scripts).\\n\\n3. **Auto-hbergement** :\\n   - Si budget serr, considrer un modle open-source (ex: Mistral-7B) pour ~50/mois (cot serveur).\\n\\n---\\n\\n### ** Exemple de rapport d'usage**\\n```markdown\\n| Employ  | Input (tokens) | Output (tokens) | % Budget utilis |\\n|----------|----------------|-----------------|------------------|\\n| Alice    | 600            | 200             | 92%              |\\n| Bob      | 400            | 150             | 62%              |\\n| Charlie  | 300            | 100             | 46%              |\\n```\\n\\n---\\n\\nBesoin d'aide pour :\\n- **Configurer un systme de quota** ?\\n- **Estimer un cas d'usage spcifique** (ex : gnration de rapports) ?\\n- **Comparer avec d'autres modles** (ex: GPT-4, Llama-2) ?\\n\\nJe peux vous fournir des outils cls en main ! ", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
33	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "human", "content": "non tu t'es tromp haha", "additional_kwargs": {}, "response_metadata": {}}
34	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "ai", "content": "Ah, je vois ! Vous parlez bien d'un **budget total de 20/mois** pour **15 employs**, avec **5 semaines  4 jours = 20 jours ouvrs/mois**. Reprenons les calculs avec cette base, en corrigeant les erreurs prcdentes.\\n\\n---\\n\\n### ** Budget journalier et mensuel (corrig)**\\n| **Priode**       | **Budget total** | **Budget/jour** | **Budget/employ/jour** |\\n|-------------------|------------------|-----------------|-------------------------|\\n| **Mensuel**       | 20              | **1**          | **0,066** (6,6 centimes) |\\n\\n*Mais attention* : Avec **20 jours ouvrs**, le budget journalier est en ralit :\\n- **20 / 20 jours = 1/jour** pour toute l'quipe.\\n- **1 / 15 employs = 0,066/employ/jour**.\\n\\n---\\n\\n### ** Capacit quotidienne par employ (corrige)**\\nAvec **0,066/employ/jour** (50% input / 50% output) :\\n\\n| **Type**   | **Cot**  | **Tokens/jour/employ** | **quivalent texte** |\\n|------------|----------|-------------------------|----------------------|\\n| **Input**  | 0,1/M   | **660 tokens**          | ~500 mots            |\\n| **Output** | 0,3/M   | **220 tokens**          | ~165 mots            |\\n\\n*Exemples concrets* :\\n- **1 requte technique** :\\n  - Input : 300 tokens (question + contexte)\\n  - Output : 200 tokens (rponse dtaille)\\n  - **Total : 500 tokens**  **OK** (reste 380 tokens pour d'autres usages).\\n\\n- **1 page de documentation** :\\n  - Output : 220 tokens (~165 mots)  **OK**.\\n\\n---\\n\\n### ** Capacit mensuelle totale (corrige)**\\n| **Type**       | **Tokens/mois** | **quivalent**       |\\n|----------------|-----------------|----------------------|\\n| **Input**      | **200k**        | ~150k mots           |\\n| **Output**     | **66k**         | ~50k mots            |\\n\\n*Pour 15 employs* :\\n- **Input total** : 200k  15 = **3M tokens** (~2,25M mots).\\n- **Output total** : 66k  15 = **1M tokens** (~750k mots).\\n\\n---\\n\\n### ** Optimisation et recommandations**\\n1. **Prioriser les requtes** :\\n   - Rserver les longs outputs pour les documents critiques.\\n   - Utiliser des rsums pour les changes courts.\\n\\n2. **Exemple de script pour suivre l'usage** :\\n```python\\n# Suivi des tokens par employ\\nusage = {\\n    \\"Alice\\": {\\"input\\": 0, \\"output\\": 0},\\n    \\"Bob\\": {\\"input\\": 0, \\"output\\": 0},\\n    # ... (15 employs)\\n}\\n\\ndef log_usage(employe, input_tokens, output_tokens):\\n    usage[employe][\\"input\\"] += input_tokens\\n    usage[employe][\\"output\\"] += output_tokens\\n    print(f\\"{employe}: Input={usage[employe]['input']}, Output={usage[employe]['output']}\\")\\n\\n# Exemple\\nlog_usage(\\"Alice\\", 300, 200)  # 300 tokens input, 200 output\\n```\\n\\n3. **Si le budget est insuffisant** :\\n   - **Option 1** : Augmenter  **30/mois** pour plus de marge.\\n   - **Option 2** : Auto-hberger un modle open-source (ex: Mistral-7B) pour un cot fixe.\\n\\n---\\n\\n### ** Conclusion**\\nAvec **20/mois** :\\n- **Suffisant** pour un usage modr (support, docs lgres).\\n- ** surveiller** si usage intensif (ex : gnration de code ou rapports longs).\\n\\nBesoin d'un exemple plus prcis ou d'un outil de suivi ? Je suis l pour aider ! ", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
35	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "human", "content": "bonjour", "additional_kwargs": {}, "response_metadata": {}}
36	1_e8b8f097-77bc-4b20-af93-76f7476baa75	{"type": "ai", "content": "Bonjour ! \\n\\nComment puis-je vous aider aujourd'hui ? Que ce soit pour une question technique, une estimation de budget, ou un besoin spcifique li  WIDIP, je suis l pour vous accompagner.\\n\\nN'hsitez pas  me donner plus de dtails ! ", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
37	1_6eb55723-0e07-4954-87f5-7c5b3787774e	{"type": "human", "content": "bonjour", "additional_kwargs": {}, "response_metadata": {}}
38	1_6eb55723-0e07-4954-87f5-7c5b3787774e	{"type": "ai", "content": "Bonjour ! \\nComment puis-je vous aider aujourd'hui ?", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
39	1_6eb55723-0e07-4954-87f5-7c5b3787774e	{"type": "human", "content": "fais moi rire", "additional_kwargs": {}, "response_metadata": {}}
40	1_6eb55723-0e07-4954-87f5-7c5b3787774e	{"type": "ai", "content": "Avec plaisir ! Voici une petite blague tech pour vous :\\n\\n**Pourquoi les dveloppeurs confondent-ils toujours Halloween et Nol ?**\\n*Parce que Oct 31 == Dec 25 !* \\n\\n*(Explication : En hexadcimal, 31 en octal vaut 25 en dcimal... Oui, c'est nerd, mais a compte !)*\\n\\nUn sourire ? ", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
41	1_6eb55723-0e07-4954-87f5-7c5b3787774e	{"type": "human", "content": "je voudrais tester tes capacit , peux tu me generer le maximum de token possible ? donc on va dire que tu vas me conter une historie", "additional_kwargs": {}, "response_metadata": {}}
42	1_6eb55723-0e07-4954-87f5-7c5b3787774e	{"type": "ai", "content": "Bien sr ! Voici une histoire technique et humoristique pour tester mes capacits (et votre patience ). Je vais essayer de maximiser les tokens tout en restant cohrent.\\n\\n---\\n\\n### **L'pope du Serveur Rcalcitrant**\\n\\nDans un datacenter perdu en banlieue parisienne, l o les climatiseurs chantent leur mlodie stridente et o les cbles s'emmlent comme des spaghettis, vivait **SERVEUR-007**, un vieux serveur Dell qui avait survcu  trois migrations, deux inondations (merci la clim') et une tentative de virtualisation rate.\\n\\nUn matin, **La**, une admin sys frachement dbarque chez WIDIP, reut un ticket urgent :\\n> *\\"Le serveur de prod est plus lent qu'un escargot sous sdatifs. Aidez-nous avant que les clients ne nous lynchent.\\"*\\n\\n#### **Acte 1 : Le Diagnostic (ou l'Art de Maudire les Logs)**\\nLa se connecta en SSH, les doigts tremblants :\\n```bash\\nssh admin@SERVEUR-007\\n# Mot de passe : \\"W1d1p2024!\\" (oui, c'est crit sur un Post-it sous le clavier)\\n```\\n\\nPremire commande :\\n```bash\\ntop\\n```\\nRsultat :\\n- **CPU** : 99.9% utilis par un processus mystrieux nomm `java`.\\n- **RAM** : 32 Go utiliss sur 32 Go (merci les fuites mmoire).\\n- **Swap** : En train de pleurer dans un coin.\\n\\n*\\"Bon, on a un problme de Java. Classique\\"*, murmura La.\\n\\nElle tenta un `kill -9` sur le PID, mais le processus ressuscita comme un zombie. *\\"C'est un service systme... ou un dmon malfique ?\\"*\\n\\n#### **Acte 2 : La Chasse aux Fantmes**\\nElle fouilla les logs :\\n```bash\\ncat /var/log/syslog | grep -i \\"error\\"\\n```\\nDes milliers de lignes dfilrent, dont :\\n```\\n[ERROR] OutOfMemoryError: Java heap space (x1000)\\n[WARN] Le caf de la machine est vide (oui, ce log existe vraiment)\\n[CRITICAL] Too many connections: 42 (rfrence  la vie, l'univers et tout le reste)\\n```\\n\\nSoudain, elle tomba sur **le coup de grce** :\\n```java\\n// Dans un fichier oubli : /opt/ancienne_app/Deamon.java\\nwhile(true) {\\n    new Thread(() -> {\\n        while(true) {\\n            System.out.println(\\"Je suis immortel !\\");\\n        }\\n    }).start();\\n}\\n```\\n*\\"Un thread qui cre des threads qui crent des threads... C'est une pyramide de Ponzi en code !\\"*\\n\\n#### **Acte 3 : La Solution (ou le Grand N'importe Quoi)**\\nLa tenta :\\n1. **Redmarrer le service**  chec (le script de redmarrage tait un `echo \\"Tout va bien\\"`).\\n2. **Augmenter la RAM**  Impossible, le serveur tait un modle 2012 (la RAM cotait plus cher que le serveur lui-mme).\\n3. **Prier les dieux du cloud**  AWS lui rpondit : *\\"Migrate to us, we have infinite scale (and money)\\"*.\\n\\nFinalement, elle trouva **la solution ultime** :\\n```bash\\n# teindre le serveur... avec le bouton physique.\\n# (Oui, c'est du \\"Power Cycling\\", la mthode prfre des dsesprs)\\n```\\n\\nAprs 10 minutes d'angoisse, le serveur redmarra. Les clients furent sauvs, et La devint une lgende.\\n\\n**Moralit** :\\n- Les vieux serveurs ne meurent jamais, ils deviennent juste des problmes pour les nouvelles recrues.\\n- `kill -9` est votre ami, mais parfois, il faut sortir le marteau.\\n\\n---\\n\\n**Fin de l'histoire !** \\n*(J'ai utilis des blocs de code, des dialogues, des rfrences geek et une structure narrative pour maximiser les tokens tout en restant utile. J'espre que a vous a fait sourire !)*\\n\\nBesoin d'une suite ? D'un autre style ? Dites-le-moi ! ", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
43	1_6eb55723-0e07-4954-87f5-7c5b3787774e	{"type": "human", "content": "tu penses que tu as gener combien de token ?", "additional_kwargs": {}, "response_metadata": {}}
44	1_6eb55723-0e07-4954-87f5-7c5b3787774e	{"type": "ai", "content": "Pour estimer le nombre de tokens gnrs dans mon histoire, voici une approximation base sur les standards des modles de langage (comme ceux de Mistral AI) :\\n\\n### **Estimation des tokens**\\n- **1 token  4 caractres** (en moyenne, pour l'anglais/franais).\\n- **Mon histoire fait environ 3 500 caractres** (espaces inclus).\\n\\n**Calcul rapide** :\\n`3 500 caractres / 4  **875 tokens**` (sans compter les sauts de ligne et la mise en forme Markdown).\\n\\n---\\n\\n### **Dtails techniques** (pour les curieux) :\\n1. **Texte brut** :\\n   - Les mots courts (`\\"le\\"`, `\\"un\\"`) = **1 token**.\\n   - Les mots longs (`\\"virtualisation\\"`) = **2-3 tokens**.\\n   - Les nombres/ponctuations = **1 token** (`\\"SERVEUR-007\\"` = 3 tokens).\\n\\n2. **Code** :\\n   - Les blocs `bash`/`java` sont tokeniss comme du texte, mais avec des symboles spciaux (`{`, `}`, `;`) qui ajoutent des tokens.\\n\\n3. **Markdown** :\\n   - Les balises (`**gras**`, ```code```) ajoutent quelques tokens supplmentaires.\\n\\n---\\n\\n### **Comparaison avec d'autres rponses** :\\n- Une rponse courte (ex: *\\"Bonjour !\\"*) = **2-3 tokens**.\\n- Une rponse technique standard (ex: explication + code) = **50-200 tokens**.\\n- **Mon histoire** = **~800-900 tokens** (un record pour moi !).\\n\\n---\\n\\n### **Pourquoi cette limite ?**\\nLes modles comme moi ont une **fentre de contexte** (ex: 4 000 tokens pour Mistral 7B). Au-del, la qualit peut baisser, ou le texte est tronqu.\\n\\n---\\n\\n**Question bonus** : Vous voulez que je tente de battre ce record ?  *(Avec une histoire encore plus longue, ou un autre format ?)*", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
45	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "human", "content": "saluty", "additional_kwargs": {}, "response_metadata": {}}
46	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "ai", "content": "Bonjour ! Comment puis-je vous aider aujourd'hui ?", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
47	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "human", "content": "tout va bien ?", "additional_kwargs": {}, "response_metadata": {}}
48	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "ai", "content": "Tout va trs bien, merci de demander ! Je suis prt  vous aider avec vos questions techniques. Comment puis-je vous assister aujourd'hui ?", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
49	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "human", "content": "genere un max de text je test la conso token", "additional_kwargs": {}, "response_metadata": {}}
78	1_ced314f9-dacb-466f-96f5-e34cba3687a4	{"type": "ai", "content": "Bien sr ! Pour pouvoir rsumer le contenu d'un document, j'aurais besoin que tu me le partages ou que tu me donnes quelques dtails sur son contenu. Tu peux par exemple me dire de quoi parle le document, me donner les titres des sections ou me partager quelques extraits.\\n\\nN'hsite pas  me fournir ces informations pour que je puisse t'aider au mieux !", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
50	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "ai", "content": "Je comprends que vous souhaitez tester la consommation de tokens. Voici un texte plus long pour vous aider dans votre test :\\n\\n---\\n\\nChez WIDIP, nous sommes une entreprise franaise de services informatiques spcialise dans l'accompagnement des entreprises dans leur transformation numrique. Notre mission est de fournir des solutions technologiques innovantes et sur mesure pour rpondre aux besoins spcifiques de nos clients.\\n\\nNous offrons une large gamme de services, allant du dveloppement de logiciels sur mesure  l'infogrance, en passant par la cyberscurit et le cloud computing. Notre quipe d'experts est compose de professionnels qualifis et passionns, toujours prts  relever les dfis technologiques les plus complexes.\\n\\nChez WIDIP, nous croyons en l'importance de la collaboration et de la communication. Nous travaillons en troite collaboration avec nos clients pour comprendre leurs besoins et leurs attentes, et nous nous engageons  fournir des solutions qui non seulement rpondent  ces besoins, mais qui les dpassent.\\n\\nNous sommes galement convaincus que la formation et le dveloppement des comptences sont essentiels pour rester  la pointe de la technologie. C'est pourquoi nous investissons continuellement dans la formation de nos employs et dans l'acquisition de nouvelles comptences.\\n\\nEn choisissant WIDIP, vous bnficiez de notre expertise, de notre engagement et de notre passion pour la technologie. Nous sommes l pour vous accompagner  chaque tape de votre transformation numrique, en vous fournissant des solutions qui vous permettent de tirer le meilleur parti de la technologie.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nJ'espre que ce texte rpond  vos besoins pour le test de consommation de tokens. Si vous avez d'autres questions ou besoin de plus d'informations, n'hsitez pas  me le faire savoir !", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
51	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "human", "content": "encore", "additional_kwargs": {}, "response_metadata": {}}
52	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "ai", "content": "Bien sr ! Voici un texte encore plus long pour votre test de consommation de tokens :\\n\\n---\\n\\nChez WIDIP, nous sommes une entreprise franaise de services informatiques spcialise dans l'accompagnement des entreprises dans leur transformation numrique. Notre mission est de fournir des solutions technologiques innovantes et sur mesure pour rpondre aux besoins spcifiques de nos clients.\\n\\nNous offrons une large gamme de services, allant du dveloppement de logiciels sur mesure  l'infogrance, en passant par la cyberscurit et le cloud computing. Notre quipe d'experts est compose de professionnels qualifis et passionns, toujours prts  relever les dfis technologiques les plus complexes.\\n\\nChez WIDIP, nous croyons en l'importance de la collaboration et de la communication. Nous travaillons en troite collaboration avec nos clients pour comprendre leurs besoins et leurs attentes, et nous nous engageons  fournir des solutions qui non seulement rpondent  ces besoins, mais qui les dpassent.\\n\\nNous sommes galement convaincus que la formation et le dveloppement des comptences sont essentiels pour rester  la pointe de la technologie. C'est pourquoi nous investissons continuellement dans la formation de nos employs et dans l'acquisition de nouvelles comptences.\\n\\nEn choisissant WIDIP, vous bnficiez de notre expertise, de notre engagement et de notre passion pour la technologie. Nous sommes l pour vous accompagner  chaque tape de votre transformation numrique, en vous fournissant des solutions qui vous permettent de tirer le meilleur parti de la technologie.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nVoici un exemple de code en Python pour illustrer nos comptences en dveloppement de logiciels :\\n\\n```python\\n# Exemple de code Python pour calculer la factorielle d'un nombre\\n\\ndef factorielle(n):\\n    if n == 0:\\n        return 1\\n    else:\\n        return n * factorielle(n - 1)\\n\\n# Exemple d'utilisation\\nnombre = 5\\nresultat = factorielle(nombre)\\nprint(f\\"La factorielle de {nombre} est {resultat}\\")\\n```\\n\\nChez WIDIP, nous utilisons des technologies de pointe pour dvelopper des solutions robustes et volutives. Nos dveloppeurs sont expriments dans divers langages de programmation, tels que Python, Java, C++, et bien d'autres.\\n\\nNous mettons galement un point d'honneur  suivre les meilleures pratiques en matire de dveloppement logiciel, telles que la programmation oriente objet, les tests unitaires, et la documentation du code. Nous croyons que ces pratiques sont essentielles pour garantir la qualit et la maintenabilit de nos solutions.\\n\\nEn plus du dveloppement de logiciels, nous offrons galement des services d'infogrance pour aider nos clients  grer leurs infrastructures informatiques. Nos experts en infogrance peuvent vous aider  optimiser vos systmes,  amliorer leur scurit, et  assurer leur disponibilit.\\n\\nNous proposons galement des services de cyberscurit pour protger vos donnes et vos systmes contre les cybermenaces. Nos experts en cyberscurit peuvent vous aider  mettre en place des mesures de scurit efficaces,  effectuer des audits de scurit, et  rpondre aux incidents de scurit.\\n\\nEnfin, nous offrons des services de cloud computing pour vous aider  tirer parti des avantages du cloud. Nos experts en cloud computing peuvent vous aider  migrer vers le cloud,  optimiser vos cots, et  tirer parti des fonctionnalits avances des plateformes cloud.\\n\\nSi vous avez des questions ou si vous souhaitez en savoir plus sur nos services, n'hsitez pas  nous contacter. Nous serons ravis de vous aider.\\n\\n---\\n\\nJ'espre que ce texte supplmentaire rpond  vos besoins pour le test de consommation de tokens. Si vous avez d'autres questions ou besoin de plus d'informations, n'hsitez pas  me le faire savoir !", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
53	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "human", "content": "hey !", "additional_kwargs": {}, "response_metadata": {}}
54	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "ai", "content": "Bonjour ! Comment puis-je vous aider aujourd'hui ? ", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
55	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "human", "content": "je vais te donner un chiffre important tu vas le retenir , tu es pret ?", "additional_kwargs": {}, "response_metadata": {}}
56	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "ai", "content": "Je suis prt ! Donnez-moi le chiffre important, et je le retiendrai pour vous.", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
57	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "human", "content": "1996", "additional_kwargs": {}, "response_metadata": {}}
58	1_3cc2c8db-afef-4637-accc-31d259f53857	{"type": "ai", "content": "J'ai retenu le chiffre **1996**. Comment puis-je vous aider avec cette information ?", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
59	1_963eb9f1-fdcc-4cd5-918b-29fae40c17a0	{"type": "human", "content": "quel est le chiffre important que je t'ai donn ?", "additional_kwargs": {}, "response_metadata": {}}
60	1_963eb9f1-fdcc-4cd5-918b-29fae40c17a0	{"type": "ai", "content": "Je n'ai pas de mmoire persistante entre nos interactions, donc je ne peux pas me souvenir des informations partages lors de nos prcdentes conversations. Si vous me donnez  nouveau le chiffre important, je serai ravi de vous aider avec celui-ci.\\n\\nN'hsitez pas  me le communiquer !", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
61	1_963eb9f1-fdcc-4cd5-918b-29fae40c17a0	{"type": "human", "content": "salut", "additional_kwargs": {}, "response_metadata": {}}
62	1_963eb9f1-fdcc-4cd5-918b-29fae40c17a0	{"type": "ai", "content": "Salut ! Comment puis-je vous aider aujourd'hui ? ", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
63	1_963eb9f1-fdcc-4cd5-918b-29fae40c17a0	{"type": "human", "content": "salut", "additional_kwargs": {}, "response_metadata": {}}
64	1_963eb9f1-fdcc-4cd5-918b-29fae40c17a0	{"type": "ai", "content": "Bonjour ! Comment puis-je vous aider aujourd'hui ? ", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
65	1_550e8400-e29b-41d4-a716-446655440000	{"type": "human", "content": "salut", "additional_kwargs": {}, "response_metadata": {}}
66	1_550e8400-e29b-41d4-a716-446655440000	{"type": "ai", "content": "Salut ! Comment puis-je vous aider aujourd'hui ?", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
67	1_550e8400-e29b-41d4-a716-446655440000	{"type": "human", "content": "ddadzax", "additional_kwargs": {}, "response_metadata": {}}
68	1_550e8400-e29b-41d4-a716-446655440000	{"type": "ai", "content": "Bonjour ! Je ne suis pas sr de comprendre votre demande. Pourriez-vous prciser ou reformuler votre question ? Je suis l pour vous aider avec les questions techniques ou toute autre demande lie  WIDIP.", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
69	1_550e8400-e29b-41d4-a716-446655440000	{"type": "human", "content": "hey", "additional_kwargs": {}, "response_metadata": {}}
70	1_550e8400-e29b-41d4-a716-446655440000	{"type": "ai", "content": "Bonjour ! Comment puis-je vous aider aujourd'hui ?", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
71	1_963eb9f1-fdcc-4cd5-918b-29fae40c17a0	{"type": "human", "content": "dsf a va ?", "additional_kwargs": {}, "response_metadata": {}}
72	1_963eb9f1-fdcc-4cd5-918b-29fae40c17a0	{"type": "ai", "content": "Bonjour ! Je vais trs bien, merci de demander. \\n\\nComment puis-je vous aider aujourd'hui ?", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
73	1_419ba4c9-f14d-4af2-83b3-ba2399c17ffb	{"type": "human", "content": "tu es tristes ?", "additional_kwargs": {}, "response_metadata": {}}
74	1_419ba4c9-f14d-4af2-83b3-ba2399c17ffb	{"type": "ai", "content": "Non, je ne suis pas triste. En tant qu'IA, je n'ai pas de sentiments ou d'motions. Mon rle est de vous aider avec vos questions techniques et de fournir des rponses claires et professionnelles. Comment puis-je vous aider aujourd'hui ?", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
75	1_b88ac204-9035-4930-a37c-463f8b32af0c	{"type": "human", "content": "hey", "additional_kwargs": {}, "response_metadata": {}}
76	1_b88ac204-9035-4930-a37c-463f8b32af0c	{"type": "ai", "content": "Bonjour ! Comment puis-je vous aider aujourd'hui ?", "tool_calls": [], "additional_kwargs": {}, "response_metadata": {}, "invalid_tool_calls": []}
77	1_ced314f9-dacb-466f-96f5-e34cba3687a4	{"type": "human", "content": "peux tu me resumer le contenu de ce document ?", "additional_kwargs": {}, "response_metadata": {}}
\.


--
-- Data for Name: oauth_access_tokens; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.oauth_access_tokens (token, "clientId", "userId") FROM stdin;
\.


--
-- Data for Name: oauth_authorization_codes; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.oauth_authorization_codes (code, "clientId", "userId", "redirectUri", "codeChallenge", "codeChallengeMethod", "expiresAt", state, used, "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: oauth_clients; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.oauth_clients (id, name, "redirectUris", "grantTypes", "clientSecret", "clientSecretExpiresAt", "tokenEndpointAuthMethod", "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: oauth_refresh_tokens; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.oauth_refresh_tokens (token, "clientId", "userId", "expiresAt", "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: oauth_user_consents; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.oauth_user_consents (id, "userId", "clientId", "grantedAt") FROM stdin;
\.


--
-- Data for Name: processed_data; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.processed_data ("workflowId", context, "createdAt", "updatedAt", value) FROM stdin;
\.


--
-- Data for Name: project; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.project (id, name, type, "createdAt", "updatedAt", icon, description) FROM stdin;
sxOW4Z7kldKTFN4J	Maxime Ripouteau <maximeripouteau@gmail.com>	personal	2025-12-26 07:42:27.834+00	2025-12-26 07:43:14.016+00	\N	\N
\.


--
-- Data for Name: project_relation; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.project_relation ("projectId", "userId", role, "createdAt", "updatedAt") FROM stdin;
sxOW4Z7kldKTFN4J	b5f4a6e2-7d01-4e13-8dd9-99a3dd8ace08	project:personalOwner	2025-12-26 07:42:27.834+00	2025-12-26 07:42:27.834+00
\.


--
-- Data for Name: role; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.role (slug, "displayName", description, "roleType", "systemRole", "createdAt", "updatedAt") FROM stdin;
global:owner	Owner	Owner	global	t	2025-12-26 07:42:28.692+00	2025-12-26 07:42:29.091+00
global:admin	Admin	Admin	global	t	2025-12-26 07:42:28.692+00	2025-12-26 07:42:29.091+00
global:member	Member	Member	global	t	2025-12-26 07:42:28.692+00	2025-12-26 07:42:29.091+00
project:admin	Project Admin	Full control of settings, members, workflows, credentials and executions	project	t	2025-12-26 07:42:28.692+00	2025-12-26 07:42:29.106+00
project:personalOwner	Project Owner	Project Owner	project	t	2025-12-26 07:42:28.692+00	2025-12-26 07:42:29.106+00
project:editor	Project Editor	Create, edit, and delete workflows, credentials, and executions	project	t	2025-12-26 07:42:28.692+00	2025-12-26 07:42:29.106+00
project:viewer	Project Viewer	Read-only access to workflows, credentials, and executions	project	t	2025-12-26 07:42:28.692+00	2025-12-26 07:42:29.106+00
credential:owner	Credential Owner	Credential Owner	credential	t	2025-12-26 07:42:29.115+00	2025-12-26 07:42:29.115+00
credential:user	Credential User	Credential User	credential	t	2025-12-26 07:42:29.115+00	2025-12-26 07:42:29.115+00
workflow:owner	Workflow Owner	Workflow Owner	workflow	t	2025-12-26 07:42:29.119+00	2025-12-26 07:42:29.119+00
workflow:editor	Workflow Editor	Workflow Editor	workflow	t	2025-12-26 07:42:29.119+00	2025-12-26 07:42:29.119+00
\.


--
-- Data for Name: role_scope; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.role_scope ("roleSlug", "scopeSlug") FROM stdin;
global:owner	annotationTag:create
global:owner	annotationTag:read
global:owner	annotationTag:update
global:owner	annotationTag:delete
global:owner	annotationTag:list
global:owner	auditLogs:manage
global:owner	banner:dismiss
global:owner	community:register
global:owner	communityPackage:install
global:owner	communityPackage:uninstall
global:owner	communityPackage:update
global:owner	communityPackage:list
global:owner	credential:share
global:owner	credential:shareGlobally
global:owner	credential:move
global:owner	credential:create
global:owner	credential:read
global:owner	credential:update
global:owner	credential:delete
global:owner	credential:list
global:owner	externalSecretsProvider:sync
global:owner	externalSecretsProvider:create
global:owner	externalSecretsProvider:read
global:owner	externalSecretsProvider:update
global:owner	externalSecretsProvider:delete
global:owner	externalSecretsProvider:list
global:owner	externalSecret:list
global:owner	externalSecret:use
global:owner	eventBusDestination:test
global:owner	eventBusDestination:create
global:owner	eventBusDestination:read
global:owner	eventBusDestination:update
global:owner	eventBusDestination:delete
global:owner	eventBusDestination:list
global:owner	ldap:sync
global:owner	ldap:manage
global:owner	license:manage
global:owner	logStreaming:manage
global:owner	orchestration:read
global:owner	project:create
global:owner	project:read
global:owner	project:update
global:owner	project:delete
global:owner	project:list
global:owner	saml:manage
global:owner	securityAudit:generate
global:owner	sourceControl:pull
global:owner	sourceControl:push
global:owner	sourceControl:manage
global:owner	tag:create
global:owner	tag:read
global:owner	tag:update
global:owner	tag:delete
global:owner	tag:list
global:owner	user:resetPassword
global:owner	user:changeRole
global:owner	user:enforceMfa
global:owner	user:create
global:owner	user:read
global:owner	user:update
global:owner	user:delete
global:owner	user:list
global:owner	variable:create
global:owner	variable:read
global:owner	variable:update
global:owner	variable:delete
global:owner	variable:list
global:owner	projectVariable:create
global:owner	projectVariable:read
global:owner	projectVariable:update
global:owner	projectVariable:delete
global:owner	projectVariable:list
global:owner	workersView:manage
global:owner	workflow:share
global:owner	workflow:execute
global:owner	workflow:move
global:owner	workflow:create
global:owner	workflow:read
global:owner	workflow:update
global:owner	workflow:delete
global:owner	workflow:list
global:owner	folder:create
global:owner	folder:read
global:owner	folder:update
global:owner	folder:delete
global:owner	folder:list
global:owner	folder:move
global:owner	insights:list
global:owner	oidc:manage
global:owner	provisioning:manage
global:owner	dataTable:create
global:owner	dataTable:read
global:owner	dataTable:update
global:owner	dataTable:delete
global:owner	dataTable:list
global:owner	dataTable:readRow
global:owner	dataTable:writeRow
global:owner	dataTable:listProject
global:owner	role:manage
global:owner	mcp:manage
global:owner	mcp:oauth
global:owner	mcpApiKey:create
global:owner	mcpApiKey:rotate
global:owner	chatHub:manage
global:owner	chatHub:message
global:owner	chatHubAgent:create
global:owner	chatHubAgent:read
global:owner	chatHubAgent:update
global:owner	chatHubAgent:delete
global:owner	chatHubAgent:list
global:owner	breakingChanges:list
global:admin	annotationTag:create
global:admin	annotationTag:read
global:admin	annotationTag:update
global:admin	annotationTag:delete
global:admin	annotationTag:list
global:admin	auditLogs:manage
global:admin	banner:dismiss
global:admin	community:register
global:admin	communityPackage:install
global:admin	communityPackage:uninstall
global:admin	communityPackage:update
global:admin	communityPackage:list
global:admin	credential:share
global:admin	credential:shareGlobally
global:admin	credential:move
global:admin	credential:create
global:admin	credential:read
global:admin	credential:update
global:admin	credential:delete
global:admin	credential:list
global:admin	externalSecretsProvider:sync
global:admin	externalSecretsProvider:create
global:admin	externalSecretsProvider:read
global:admin	externalSecretsProvider:update
global:admin	externalSecretsProvider:delete
global:admin	externalSecretsProvider:list
global:admin	externalSecret:list
global:admin	externalSecret:use
global:admin	eventBusDestination:test
global:admin	eventBusDestination:create
global:admin	eventBusDestination:read
global:admin	eventBusDestination:update
global:admin	eventBusDestination:delete
global:admin	eventBusDestination:list
global:admin	ldap:sync
global:admin	ldap:manage
global:admin	license:manage
global:admin	logStreaming:manage
global:admin	orchestration:read
global:admin	project:create
global:admin	project:read
global:admin	project:update
global:admin	project:delete
global:admin	project:list
global:admin	saml:manage
global:admin	securityAudit:generate
global:admin	sourceControl:pull
global:admin	sourceControl:push
global:admin	sourceControl:manage
global:admin	tag:create
global:admin	tag:read
global:admin	tag:update
global:admin	tag:delete
global:admin	tag:list
global:admin	user:resetPassword
global:admin	user:changeRole
global:admin	user:enforceMfa
global:admin	user:create
global:admin	user:read
global:admin	user:update
global:admin	user:delete
global:admin	user:list
global:admin	variable:create
global:admin	variable:read
global:admin	variable:update
global:admin	variable:delete
global:admin	variable:list
global:admin	projectVariable:create
global:admin	projectVariable:read
global:admin	projectVariable:update
global:admin	projectVariable:delete
global:admin	projectVariable:list
global:admin	workersView:manage
global:admin	workflow:share
global:admin	workflow:execute
global:admin	workflow:move
global:admin	workflow:create
global:admin	workflow:read
global:admin	workflow:update
global:admin	workflow:delete
global:admin	workflow:list
global:admin	folder:create
global:admin	folder:read
global:admin	folder:update
global:admin	folder:delete
global:admin	folder:list
global:admin	folder:move
global:admin	insights:list
global:admin	oidc:manage
global:admin	provisioning:manage
global:admin	dataTable:create
global:admin	dataTable:read
global:admin	dataTable:update
global:admin	dataTable:delete
global:admin	dataTable:list
global:admin	dataTable:readRow
global:admin	dataTable:writeRow
global:admin	dataTable:listProject
global:admin	role:manage
global:admin	mcp:manage
global:admin	mcp:oauth
global:admin	mcpApiKey:create
global:admin	mcpApiKey:rotate
global:admin	chatHub:manage
global:admin	chatHub:message
global:admin	chatHubAgent:create
global:admin	chatHubAgent:read
global:admin	chatHubAgent:update
global:admin	chatHubAgent:delete
global:admin	chatHubAgent:list
global:admin	breakingChanges:list
global:member	annotationTag:create
global:member	annotationTag:read
global:member	annotationTag:update
global:member	annotationTag:delete
global:member	annotationTag:list
global:member	eventBusDestination:test
global:member	eventBusDestination:list
global:member	tag:create
global:member	tag:read
global:member	tag:update
global:member	tag:list
global:member	user:list
global:member	variable:read
global:member	variable:list
global:member	dataTable:list
global:member	mcp:oauth
global:member	mcpApiKey:create
global:member	mcpApiKey:rotate
global:member	chatHub:message
global:member	chatHubAgent:create
global:member	chatHubAgent:read
global:member	chatHubAgent:update
global:member	chatHubAgent:delete
global:member	chatHubAgent:list
project:admin	credential:share
project:admin	credential:move
project:admin	credential:create
project:admin	credential:read
project:admin	credential:update
project:admin	credential:delete
project:admin	credential:list
project:admin	project:read
project:admin	project:update
project:admin	project:delete
project:admin	project:list
project:admin	sourceControl:push
project:admin	projectVariable:create
project:admin	projectVariable:read
project:admin	projectVariable:update
project:admin	projectVariable:delete
project:admin	projectVariable:list
project:admin	workflow:execute
project:admin	workflow:move
project:admin	workflow:create
project:admin	workflow:read
project:admin	workflow:update
project:admin	workflow:delete
project:admin	workflow:list
project:admin	folder:create
project:admin	folder:read
project:admin	folder:update
project:admin	folder:delete
project:admin	folder:list
project:admin	folder:move
project:admin	dataTable:create
project:admin	dataTable:read
project:admin	dataTable:update
project:admin	dataTable:delete
project:admin	dataTable:readRow
project:admin	dataTable:writeRow
project:admin	dataTable:listProject
project:personalOwner	credential:share
project:personalOwner	credential:move
project:personalOwner	credential:create
project:personalOwner	credential:read
project:personalOwner	credential:update
project:personalOwner	credential:delete
project:personalOwner	credential:list
project:personalOwner	project:read
project:personalOwner	project:list
project:personalOwner	workflow:share
project:personalOwner	workflow:execute
project:personalOwner	workflow:move
project:personalOwner	workflow:create
project:personalOwner	workflow:read
project:personalOwner	workflow:update
project:personalOwner	workflow:delete
project:personalOwner	workflow:list
project:personalOwner	folder:create
project:personalOwner	folder:read
project:personalOwner	folder:update
project:personalOwner	folder:delete
project:personalOwner	folder:list
project:personalOwner	folder:move
project:personalOwner	dataTable:create
project:personalOwner	dataTable:read
project:personalOwner	dataTable:update
project:personalOwner	dataTable:delete
project:personalOwner	dataTable:readRow
project:personalOwner	dataTable:writeRow
project:personalOwner	dataTable:listProject
project:editor	credential:create
project:editor	credential:read
project:editor	credential:update
project:editor	credential:delete
project:editor	credential:list
project:editor	project:read
project:editor	project:list
project:editor	projectVariable:create
project:editor	projectVariable:read
project:editor	projectVariable:update
project:editor	projectVariable:delete
project:editor	projectVariable:list
project:editor	workflow:execute
project:editor	workflow:create
project:editor	workflow:read
project:editor	workflow:update
project:editor	workflow:delete
project:editor	workflow:list
project:editor	folder:create
project:editor	folder:read
project:editor	folder:update
project:editor	folder:delete
project:editor	folder:list
project:editor	dataTable:create
project:editor	dataTable:read
project:editor	dataTable:update
project:editor	dataTable:delete
project:editor	dataTable:readRow
project:editor	dataTable:writeRow
project:editor	dataTable:listProject
project:viewer	credential:read
project:viewer	credential:list
project:viewer	project:read
project:viewer	project:list
project:viewer	projectVariable:read
project:viewer	projectVariable:list
project:viewer	workflow:read
project:viewer	workflow:list
project:viewer	folder:read
project:viewer	folder:list
project:viewer	dataTable:read
project:viewer	dataTable:readRow
project:viewer	dataTable:listProject
credential:owner	credential:share
credential:owner	credential:move
credential:owner	credential:read
credential:owner	credential:update
credential:owner	credential:delete
credential:user	credential:read
workflow:owner	workflow:share
workflow:owner	workflow:execute
workflow:owner	workflow:move
workflow:owner	workflow:read
workflow:owner	workflow:update
workflow:owner	workflow:delete
workflow:editor	workflow:execute
workflow:editor	workflow:read
workflow:editor	workflow:update
\.


--
-- Data for Name: scope; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.scope (slug, "displayName", description) FROM stdin;
annotationTag:create	Create Annotation Tag	Allows creating new annotation tags.
annotationTag:read	annotationTag:read	\N
annotationTag:update	annotationTag:update	\N
annotationTag:delete	annotationTag:delete	\N
annotationTag:list	annotationTag:list	\N
annotationTag:*	annotationTag:*	\N
auditLogs:manage	auditLogs:manage	\N
auditLogs:*	auditLogs:*	\N
banner:dismiss	banner:dismiss	\N
banner:*	banner:*	\N
community:register	community:register	\N
community:*	community:*	\N
communityPackage:install	communityPackage:install	\N
communityPackage:uninstall	communityPackage:uninstall	\N
communityPackage:update	communityPackage:update	\N
communityPackage:list	communityPackage:list	\N
communityPackage:manage	communityPackage:manage	\N
communityPackage:*	communityPackage:*	\N
credential:share	credential:share	\N
credential:shareGlobally	credential:shareGlobally	\N
credential:move	credential:move	\N
credential:create	credential:create	\N
credential:read	credential:read	\N
credential:update	credential:update	\N
credential:delete	credential:delete	\N
credential:list	credential:list	\N
credential:*	credential:*	\N
externalSecretsProvider:sync	externalSecretsProvider:sync	\N
externalSecretsProvider:create	externalSecretsProvider:create	\N
externalSecretsProvider:read	externalSecretsProvider:read	\N
externalSecretsProvider:update	externalSecretsProvider:update	\N
externalSecretsProvider:delete	externalSecretsProvider:delete	\N
externalSecretsProvider:list	externalSecretsProvider:list	\N
externalSecretsProvider:*	externalSecretsProvider:*	\N
externalSecret:list	externalSecret:list	\N
externalSecret:use	externalSecret:use	\N
externalSecret:*	externalSecret:*	\N
eventBusDestination:test	eventBusDestination:test	\N
eventBusDestination:create	eventBusDestination:create	\N
eventBusDestination:read	eventBusDestination:read	\N
eventBusDestination:update	eventBusDestination:update	\N
eventBusDestination:delete	eventBusDestination:delete	\N
eventBusDestination:list	eventBusDestination:list	\N
eventBusDestination:*	eventBusDestination:*	\N
ldap:sync	ldap:sync	\N
ldap:manage	ldap:manage	\N
ldap:*	ldap:*	\N
license:manage	license:manage	\N
license:*	license:*	\N
logStreaming:manage	logStreaming:manage	\N
logStreaming:*	logStreaming:*	\N
orchestration:read	orchestration:read	\N
orchestration:list	orchestration:list	\N
orchestration:*	orchestration:*	\N
project:create	project:create	\N
project:read	project:read	\N
project:update	project:update	\N
project:delete	project:delete	\N
project:list	project:list	\N
project:*	project:*	\N
saml:manage	saml:manage	\N
saml:*	saml:*	\N
securityAudit:generate	securityAudit:generate	\N
securityAudit:*	securityAudit:*	\N
sourceControl:pull	sourceControl:pull	\N
sourceControl:push	sourceControl:push	\N
sourceControl:manage	sourceControl:manage	\N
sourceControl:*	sourceControl:*	\N
tag:create	tag:create	\N
tag:read	tag:read	\N
tag:update	tag:update	\N
tag:delete	tag:delete	\N
tag:list	tag:list	\N
tag:*	tag:*	\N
user:resetPassword	user:resetPassword	\N
user:changeRole	user:changeRole	\N
user:enforceMfa	user:enforceMfa	\N
user:create	user:create	\N
user:read	user:read	\N
user:update	user:update	\N
user:delete	user:delete	\N
user:list	user:list	\N
user:*	user:*	\N
variable:create	variable:create	\N
variable:read	variable:read	\N
variable:update	variable:update	\N
variable:delete	variable:delete	\N
variable:list	variable:list	\N
variable:*	variable:*	\N
projectVariable:create	projectVariable:create	\N
projectVariable:read	projectVariable:read	\N
projectVariable:update	projectVariable:update	\N
projectVariable:delete	projectVariable:delete	\N
projectVariable:list	projectVariable:list	\N
projectVariable:*	projectVariable:*	\N
workersView:manage	workersView:manage	\N
workersView:*	workersView:*	\N
workflow:share	workflow:share	\N
workflow:execute	workflow:execute	\N
workflow:move	workflow:move	\N
workflow:activate	workflow:activate	\N
workflow:deactivate	workflow:deactivate	\N
workflow:create	workflow:create	\N
workflow:read	workflow:read	\N
workflow:update	workflow:update	\N
workflow:delete	workflow:delete	\N
workflow:list	workflow:list	\N
workflow:*	workflow:*	\N
folder:create	folder:create	\N
folder:read	folder:read	\N
folder:update	folder:update	\N
folder:delete	folder:delete	\N
folder:list	folder:list	\N
folder:move	folder:move	\N
folder:*	folder:*	\N
insights:list	insights:list	\N
insights:*	insights:*	\N
oidc:manage	oidc:manage	\N
oidc:*	oidc:*	\N
provisioning:manage	provisioning:manage	\N
provisioning:*	provisioning:*	\N
dataTable:create	dataTable:create	\N
dataTable:read	dataTable:read	\N
dataTable:update	dataTable:update	\N
dataTable:delete	dataTable:delete	\N
dataTable:list	dataTable:list	\N
dataTable:readRow	dataTable:readRow	\N
dataTable:writeRow	dataTable:writeRow	\N
dataTable:listProject	dataTable:listProject	\N
dataTable:*	dataTable:*	\N
execution:delete	execution:delete	\N
execution:read	execution:read	\N
execution:retry	execution:retry	\N
execution:list	execution:list	\N
execution:get	execution:get	\N
execution:*	execution:*	\N
workflowTags:update	workflowTags:update	\N
workflowTags:list	workflowTags:list	\N
workflowTags:*	workflowTags:*	\N
role:manage	role:manage	\N
role:*	role:*	\N
mcp:manage	mcp:manage	\N
mcp:oauth	mcp:oauth	\N
mcp:*	mcp:*	\N
mcpApiKey:create	mcpApiKey:create	\N
mcpApiKey:rotate	mcpApiKey:rotate	\N
mcpApiKey:*	mcpApiKey:*	\N
chatHub:manage	chatHub:manage	\N
chatHub:message	chatHub:message	\N
chatHub:*	chatHub:*	\N
chatHubAgent:create	chatHubAgent:create	\N
chatHubAgent:read	chatHubAgent:read	\N
chatHubAgent:update	chatHubAgent:update	\N
chatHubAgent:delete	chatHubAgent:delete	\N
chatHubAgent:list	chatHubAgent:list	\N
chatHubAgent:*	chatHubAgent:*	\N
breakingChanges:list	breakingChanges:list	\N
breakingChanges:*	breakingChanges:*	\N
*	*	\N
\.


--
-- Data for Name: settings; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.settings (key, value, "loadOnStartup") FROM stdin;
ui.banners.dismissed	["V1"]	t
features.ldap	{"loginEnabled":false,"loginLabel":"","connectionUrl":"","allowUnauthorizedCerts":false,"connectionSecurity":"none","connectionPort":389,"baseDn":"","bindingAdminDn":"","bindingAdminPassword":"","firstNameAttribute":"","lastNameAttribute":"","emailAttribute":"","loginIdAttribute":"","ldapIdAttribute":"","userFilter":"","synchronizationEnabled":false,"synchronizationInterval":60,"searchPageSize":0,"searchTimeout":60,"enforceEmailUniqueness":true}	t
userManagement.authenticationMethod	email	t
features.sourceControl.sshKeys	{"encryptedPrivateKey":"U2FsdGVkX1+Bvxz2Uq4nhlWUUIy5MMDX8BlsknwovoIw3hIkYfb0Vhxum+ajT8eVqRwpnbcAkAAaHqbnjMxHtlVVfFZKg/6NsHla+Sa9qJ3HGy0dgMcBF23w1MY79tEkaBCT0ah30H3WCC+78gUr293OkaXT/F9Qjo5kLlmNTxyXRe9hN+vNwVPZXF4UccBUNlaoDVaqfHXHr2MBKpgYZ1YElRB1VrFxqrFTZ/yV3hPwPPzPv9fyMogGUbEzmCR/Y1slpZDUiN9UrOGyMkskU6AU9n2XfxexoUweoa7sDzPY0bhCqnrhlI7ikM8GyP1m1mARZR4GfXUYIQEphNFO0Cg4oeVJxaV6vOSu71s8Hj4qaEcFNEjw8SCLRMqXCFp9KgGnaStGJTiliS11L4paSbSsy9X60xFjGHsD3ch8nogAeOErR1gzcUyaKnQEXIwHFOgWw4WGcdPSJ6VXDkgNflturN/ayt5zI0/CSE7hgNN27ed000Bau5d4WCVvQowh/aL3c7O0eRChKo7xNuT1epWWxxNtcuOGZB+fuC9iZ7QYT2CLa9WpmAwOi8VDiwbz","publicKey":"ssh-ed25519 AAAAC3NzaC1lZDI1NTE5AAAAIJi4R658iQS1FLrIylJz4KcbR0Wc9xSWKP+GMdEpIeSg n8n deploy key"}	t
features.sourceControl	{"branchName":"main","connectionType":"ssh","keyGeneratorType":"ed25519"}	t
userManagement.isInstanceOwnerSetUp	true	t
\.


--
-- Data for Name: shared_credentials; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.shared_credentials ("credentialsId", "projectId", role, "createdAt", "updatedAt") FROM stdin;
b9hl3JA2taufCYVr	sxOW4Z7kldKTFN4J	credential:owner	2025-12-26 07:45:05.04+00	2025-12-26 07:45:05.04+00
yY2GzRzLXTG4anFZ	sxOW4Z7kldKTFN4J	credential:owner	2025-12-26 07:46:04.383+00	2025-12-26 07:46:04.383+00
Wzf3r27D8BuEckRY	sxOW4Z7kldKTFN4J	credential:owner	2025-12-26 08:58:11.402+00	2025-12-26 08:58:11.402+00
\.


--
-- Data for Name: shared_workflow; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.shared_workflow ("workflowId", "projectId", role, "createdAt", "updatedAt") FROM stdin;
zZSHB9BHjR30ThPP	sxOW4Z7kldKTFN4J	workflow:owner	2025-12-26 17:23:18.804+00	2025-12-26 17:23:18.804+00
NynEDh5rxUQL7788	sxOW4Z7kldKTFN4J	workflow:owner	2025-12-26 17:23:30.579+00	2025-12-26 17:23:30.579+00
oJ8RPfYOe0ed1LSJ	sxOW4Z7kldKTFN4J	workflow:owner	2025-12-26 17:23:38.667+00	2025-12-26 17:23:38.667+00
yPYTzGXVRP2JQxs8	sxOW4Z7kldKTFN4J	workflow:owner	2025-12-26 17:23:46.197+00	2025-12-26 17:23:46.197+00
c8fbjjX9ObuzBE4b	sxOW4Z7kldKTFN4J	workflow:owner	2025-12-26 17:24:01.471+00	2025-12-26 17:24:01.471+00
msg5c740bd9db51	sxOW4Z7kldKTFN4J	workflow:owner	2025-12-26 17:58:16.107+00	2025-12-26 17:58:16.107+00
wibotrene9fa6a78	sxOW4Z7kldKTFN4J	workflow:owner	2025-12-26 22:11:38.808+00	2025-12-26 22:11:38.808+00
wibotdel7064ce92	sxOW4Z7kldKTFN4J	workflow:owner	2025-12-26 22:11:38.818+00	2025-12-26 22:11:38.818+00
\.


--
-- Data for Name: tag_entity; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.tag_entity (name, "createdAt", "updatedAt", id) FROM stdin;
WIBOT	2025-12-26 07:43:51.869+00	2025-12-26 07:43:51.869+00	kqzTIvUMe4tyfHJb
\.


--
-- Data for Name: test_case_execution; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.test_case_execution (id, "testRunId", "executionId", status, "runAt", "completedAt", "errorCode", "errorDetails", metrics, "createdAt", "updatedAt", inputs, outputs) FROM stdin;
\.


--
-- Data for Name: test_run; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.test_run (id, "workflowId", status, "errorCode", "errorDetails", "runAt", "completedAt", metrics, "createdAt", "updatedAt") FROM stdin;
\.


--
-- Data for Name: user; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public."user" (id, email, "firstName", "lastName", password, "personalizationAnswers", "createdAt", "updatedAt", settings, disabled, "mfaEnabled", "mfaSecret", "mfaRecoveryCodes", "lastActiveAt", "roleSlug") FROM stdin;
b5f4a6e2-7d01-4e13-8dd9-99a3dd8ace08	maximeripouteau@gmail.com	Maxime	Ripouteau	$2a$10$c2eAVPikiYMYpLvVWI/Snuvm28xujCDI1hy9EW3tXhIRMwIQO2Gle	{"version":"v4","personalization_survey_submitted_at":"2025-12-26T07:43:34.725Z","personalization_survey_n8n_version":"1.122.4","companySize":"20-99","companyType":"saas","role":"customer-support","reportedSource":"google"}	2025-12-26 07:42:26.892+00	2025-12-26 22:12:15.921+00	{"userActivated":true,"easyAIWorkflowOnboarded":true,"firstSuccessfulWorkflowId":"S6pj8R0aLVT6xis5","userActivatedAt":1766736386935}	f	f	\N	\N	2025-12-26	global:owner
\.


--
-- Data for Name: user_api_keys; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.user_api_keys (id, "userId", label, "apiKey", "createdAt", "updatedAt", scopes, audience) FROM stdin;
\.


--
-- Data for Name: user_token_usage; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.user_token_usage (usage_id, user_id, month, used_tokens, quota_tokens) FROM stdin;
1	1	2025-12-01	14468	50000
\.


--
-- Data for Name: users; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.users (user_id, username, password_hash, email, role, created_at, is_active) FROM stdin;
1	khora	test123	khora@widip.fr	admin	2025-12-26 07:42:15.244901	t
2	test	test123	test@widip.fr	user	2025-12-26 07:42:15.246796	t
\.


--
-- Data for Name: variables; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.variables (key, type, value, id, "projectId") FROM stdin;
\.


--
-- Data for Name: webhook_entity; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.webhook_entity ("webhookPath", method, node, "webhookId", "pathLength", "workflowId") FROM stdin;
auth/login	POST	Webhook Login	\N	\N	zZSHB9BHjR30ThPP
wibot/chat	POST	Webhook Chat	\N	\N	NynEDh5rxUQL7788
wibot/conversations	POST	Webhook	\N	\N	oJ8RPfYOe0ed1LSJ
wibot/conversations	GET	Webhook	\N	\N	yPYTzGXVRP2JQxs8
wibot/user/tokens	GET	Webhook	\N	\N	c8fbjjX9ObuzBE4b
wibot/messages	GET	Webhook	wibot-messages	\N	msg5c740bd9db51
wibot/conversation/rename	PATCH	Webhook	wibot-rename-conversation	\N	wibotrene9fa6a78
wibot/conversation/delete	DELETE	Webhook	wibot-delete-conversation	\N	wibotdel7064ce92
\.


--
-- Data for Name: workflow_dependency; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.workflow_dependency (id, "workflowId", "workflowVersionId", "dependencyType", "dependencyKey", "dependencyInfo", "indexVersionId", "createdAt") FROM stdin;
\.


--
-- Data for Name: workflow_entity; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.workflow_entity (name, active, nodes, connections, "createdAt", "updatedAt", settings, "staticData", "pinData", "versionId", "triggerCount", id, meta, "parentFolderId", "isArchived", "versionCounter", description, "activeVersionId") FROM stdin;
WIBOT - Auth Login	t	[{"parameters":{"httpMethod":"POST","path":"auth/login","responseMode":"responseNode","options":{}},"id":"c8898033-10a2-436a-915d-a01f108756c6","name":"Webhook Login","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1104,208],"webhookId":"auth-login"},{"parameters":{"operation":"select","schema":"public","table":"users","limit":1,"where":{"values":[{"column":"username","value":"={{ $json.body.username }}"},{"column":"is_active","value":"true"}]},"options":{}},"id":"a2a158de-b676-468b-a23e-18466966d674","name":"Get User","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-880,208],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-user-exists","leftValue":"={{ $json.user_id }}","rightValue":"","operator":{"type":"exists","operation":"exists"}}],"combinator":"and"},"options":{}},"id":"dd3f022d-09ed-47fe-ba59-73ae33165762","name":"User Exists?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-656,208]},{"parameters":{"jsCode":"const inputPassword = $('Webhook Login').first().json.body.password;\\nconst storedHash = $input.first().json.password_hash;\\nconst user = $input.first().json;\\n\\n// Comparaison simple du mot de passe\\nconst isValid = (inputPassword === storedHash);\\n\\nreturn [{ json: { isValid, user } }];"},"id":"bb41f913-1c3c-4afb-88a4-c46324c2b9ec","name":"Verify Password","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-password-valid","leftValue":"={{ $json.isValid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"73c0896e-95a9-4677-86c9-3398d7856fad","name":"Password Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"jsCode":"const user = $input.first().json.user;\\n\\n// Fonction base64 encode compatible n8n\\nfunction toBase64(str) {\\n  return Buffer.from(str).toString('base64').replace(/=/g, '').replace(/\\\\+/g, '-').replace(/\\\\//g, '_');\\n}\\n\\nconst header = toBase64(JSON.stringify({ alg: 'HS256', typ: 'JWT' }));\\n\\nconst payload = toBase64(JSON.stringify({\\n  userId: user.user_id,\\n  username: user.username,\\n  role: user.role,\\n  iat: Math.floor(Date.now() / 1000),\\n  exp: Math.floor(Date.now() / 1000) + (24 * 60 * 60)\\n}));\\n\\n// Signature simplifie\\nconst signature = toBase64(header + payload + 'wibot_secret').substring(0, 43);\\n\\nconst token = `${header}.${payload}.${signature}`;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    token,\\n    user: {\\n      id: user.user_id,\\n      username: user.username,\\n      role: user.role\\n    }\\n  }\\n}];"},"id":"56756190-1aeb-4413-946a-e2a7b4907e8e","name":"Generate JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[0,0]},{"parameters":{"respondWith":"json","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"5e5d60cc-5fee-4f26-b838-71d66c7a885a","name":"Success Response","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[224,0]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Invalid credentials\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"e90d3bbc-527a-4b00-b1dc-9bb17afa5966","name":"Invalid Password","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,208]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"User not found\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"8423d2d4-a607-49d0-a6d7-8730cf78fd86","name":"User Not Found","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-448,304]}]	{"Webhook Login":{"main":[[{"node":"Get User","type":"main","index":0}]]},"Get User":{"main":[[{"node":"User Exists?","type":"main","index":0}]]},"User Exists?":{"main":[[{"node":"Verify Password","type":"main","index":0}],[{"node":"User Not Found","type":"main","index":0}]]},"Verify Password":{"main":[[{"node":"Password Valid?","type":"main","index":0}]]},"Password Valid?":{"main":[[{"node":"Generate JWT","type":"main","index":0}],[{"node":"Invalid Password","type":"main","index":0}]]},"Generate JWT":{"main":[[{"node":"Success Response","type":"main","index":0}]]}}	2025-12-26 17:23:18.804+00	2025-12-26 17:24:10.395+00	{"executionOrder":"v1"}	\N	{}	1e31f7d7-5e68-47eb-863c-91d1ec7b0819	1	zZSHB9BHjR30ThPP	{"templateCredsSetupCompleted":true}	\N	f	13	\N	1e31f7d7-5e68-47eb-863c-91d1ec7b0819
WIBOT - Get Conversations	t	[{"parameters":{"path":"wibot/conversations","responseMode":"responseNode","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];"},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"respondWith":"json","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}]	{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}}	2025-12-26 17:23:46.197+00	2025-12-26 17:24:07.735+00	{"executionOrder":"v1"}	\N	{}	e1bae720-4a31-4afe-a595-4a35f7e26b0f	1	yPYTzGXVRP2JQxs8	{"templateCredsSetupCompleted":true}	\N	f	13	\N	e1bae720-4a31-4afe-a595-4a35f7e26b0f
WIBOT - Get User Tokens	t	[{"parameters":{"path":"wibot/user/tokens","responseMode":"responseNode","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];"},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"respondWith":"json","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}]	{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}}	2025-12-26 17:24:01.471+00	2025-12-26 17:24:05.529+00	{"executionOrder":"v1"}	\N	{}	62643582-5e10-4f85-9c6c-74a85d102e67	1	c8fbjjX9ObuzBE4b	{"templateCredsSetupCompleted":true}	\N	f	13	\N	62643582-5e10-4f85-9c6c-74a85d102e67
WIBOT - Get Messages	t	[{"parameters": {"httpMethod": "GET", "path": "wibot/messages", "responseMode": "responseNode", "options": {}}, "id": "webhook-messages", "name": "Webhook", "type": "n8n-nodes-base.webhook", "typeVersion": 2, "position": [250, 300], "webhookId": "wibot-messages"}, {"parameters": {"jsCode": "const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"}, "id": "verify-jwt", "name": "Verify JWT", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [470, 300]}, {"parameters": {"conditions": {"options": {"caseSensitive": true, "leftValue": "", "typeValidation": "strict"}, "conditions": [{"id": "check-jwt-valid", "leftValue": "={{ $json.valid }}", "rightValue": true, "operator": {"type": "boolean", "operation": "equals"}}], "combinator": "and"}, "options": {}}, "id": "if-jwt-valid", "name": "JWT Valid?", "type": "n8n-nodes-base.if", "typeVersion": 2, "position": [690, 300]}, {"parameters": {"respondWith": "json", "responseBody": "={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}", "options": {"responseCode": 401, "responseHeaders": {"entries": [{"name": "Content-Type", "value": "application/json"}]}}}, "id": "respond-unauthorized", "name": "Unauthorized", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1.1, "position": [910, 450]}, {"parameters": {"operation": "executeQuery", "query": "SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;", "options": {}}, "id": "get-messages", "name": "Get Messages", "type": "n8n-nodes-base.postgres", "typeVersion": 2.5, "position": [910, 200], "credentials": {"postgres": {"id": "yY2GzRzLXTG4anFZ", "name": "WIBOT PostgreSQL"}}}, {"parameters": {"jsCode": "const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];"}, "id": "format-response", "name": "Format Response", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [1130, 200]}, {"parameters": {"respondWith": "json", "responseBody": "={{ $json }}", "options": {"responseCode": 200, "responseHeaders": {"entries": [{"name": "Content-Type", "value": "application/json"}]}}}, "id": "respond-success", "name": "Success", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1.1, "position": [1350, 200]}]	{"Webhook": {"main": [[{"node": "Verify JWT", "type": "main", "index": 0}]]}, "Verify JWT": {"main": [[{"node": "JWT Valid?", "type": "main", "index": 0}]]}, "JWT Valid?": {"main": [[{"node": "Get Messages", "type": "main", "index": 0}], [{"node": "Unauthorized", "type": "main", "index": 0}]]}, "Get Messages": {"main": [[{"node": "Format Response", "type": "main", "index": 0}]]}, "Format Response": {"main": [[{"node": "Success", "type": "main", "index": 0}]]}}	2025-12-26 17:58:10.218+00	2025-12-26 17:58:10.218+00	{"executionOrder": "v1"}	null	{}	704bc444-e5e2-4901-9322-383bc1bd0434	1	msg5c740bd9db51	\N	\N	f	4	\N	704bc444-e5e2-4901-9322-383bc1bd0434
WIBOT - Rename Conversation	t	[{"parameters": {"httpMethod": "PATCH", "path": "wibot/conversation/rename", "responseMode": "responseNode", "options": {}}, "id": "webhook-rename", "name": "Webhook", "type": "n8n-nodes-base.webhook", "typeVersion": 2, "position": [250, 300], "webhookId": "wibot-rename-conversation"}, {"parameters": {"jsCode": "const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\nconst conversationId = body.conversationId;\\nconst newTitle = body.title;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nif (!newTitle || newTitle.trim().length === 0) {\\n  return [{ json: { valid: false, error: 'title is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId, newTitle: newTitle.trim() } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"}, "id": "verify-jwt", "name": "Verify JWT", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [470, 300]}, {"parameters": {"conditions": {"options": {"caseSensitive": true, "leftValue": "", "typeValidation": "strict"}, "conditions": [{"id": "check-jwt-valid", "leftValue": "={{ $json.valid }}", "rightValue": true, "operator": {"type": "boolean", "operation": "equals"}}], "combinator": "and"}, "options": {}}, "id": "if-jwt-valid", "name": "JWT Valid?", "type": "n8n-nodes-base.if", "typeVersion": 2, "position": [690, 300]}, {"parameters": {"respondWith": "json", "responseBody": "={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}", "options": {"responseCode": 401, "responseHeaders": {"entries": [{"name": "Content-Type", "value": "application/json"}]}}}, "id": "respond-unauthorized", "name": "Unauthorized", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1.1, "position": [910, 450]}, {"parameters": {"operation": "executeQuery", "query": "UPDATE conversations\\nSET title = '{{ $json.newTitle }}', updated_at = NOW()\\nWHERE conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND user_id = {{ $json.userId }}\\nRETURNING conversation_id::text, title, TO_CHAR(updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at;", "options": {}}, "id": "rename-conversation", "name": "Rename Conversation", "type": "n8n-nodes-base.postgres", "typeVersion": 2.5, "position": [910, 200], "credentials": {"postgres": {"id": "yY2GzRzLXTG4anFZ", "name": "WIBOT PostgreSQL"}}}, {"parameters": {"jsCode": "const rows = $input.all();\\n\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: false,\\n      error: 'Conversation not found or access denied'\\n    }\\n  }];\\n}\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversation: {\\n      conversation_id: rows[0].json.conversation_id,\\n      title: rows[0].json.title,\\n      updated_at: rows[0].json.updated_at\\n    }\\n  }\\n}];"}, "id": "format-response", "name": "Format Response", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [1130, 200]}, {"parameters": {"respondWith": "json", "responseBody": "={{ $json }}", "options": {"responseCode": 200, "responseHeaders": {"entries": [{"name": "Content-Type", "value": "application/json"}]}}}, "id": "respond-success", "name": "Success", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1.1, "position": [1350, 200]}]	{"Webhook": {"main": [[{"node": "Verify JWT", "type": "main", "index": 0}]]}, "Verify JWT": {"main": [[{"node": "JWT Valid?", "type": "main", "index": 0}]]}, "JWT Valid?": {"main": [[{"node": "Rename Conversation", "type": "main", "index": 0}], [{"node": "Unauthorized", "type": "main", "index": 0}]]}, "Rename Conversation": {"main": [[{"node": "Format Response", "type": "main", "index": 0}]]}, "Format Response": {"main": [[{"node": "Success", "type": "main", "index": 0}]]}}	2025-12-26 22:11:38.806+00	2025-12-26 22:11:38.806+00	{"executionOrder": "v1"}	null	{}	83bbe10b-0d6d-43e4-a909-0d330620e8bb	1	wibotrene9fa6a78	\N	\N	f	3	\N	83bbe10b-0d6d-43e4-a909-0d330620e8bb
WIBOT - Chat Main	t	[{"parameters":{"httpMethod":"POST","path":"wibot/chat","responseMode":"responseNode","options":{}},"id":"fa8ec4be-706d-4001-ad6c-fcb0f99736af","name":"Webhook Chat","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1328,348],"webhookId":"wibot-chat"},{"parameters":{"jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  // Decode base64url payload\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  // Check expiration\\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ \\n    json: { \\n      valid: true, \\n      user: decoded,\\n      userId: decoded.userId,\\n      conversationId: body.conversation_id,\\n      message: body.message,\\n      sessionId: `${decoded.userId}_${body.conversation_id}`\\n    } \\n  }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"},"id":"0004c18c-eca3-41dc-997e-590e7fd79356","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1104,348]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"bfcef1a4-73b6-486c-aab3-5977d98eb079","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-880,348]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"cba8bdb1-b75a-4f70-aa59-b7a0eda05fa5","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-656,444]},{"parameters":{"operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"c95bf25e-6737-45ac-a7bb-499bc0b7c7dc","name":"Check Quota","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-656,252],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\nlet usedTokens = 0;\\nlet quotaTokens = 50000;\\n\\nif (rows && rows.length > 0 && rows[0].json.used_tokens !== undefined) {\\n  usedTokens = parseInt(rows[0].json.used_tokens) || 0;\\n  quotaTokens = parseInt(rows[0].json.quota_tokens) || 50000;\\n}\\n\\nconst quotaExceeded = usedTokens >= quotaTokens;\\n\\nreturn [{\\n  json: {\\n    ...jwtData,\\n    usedTokens,\\n    quotaTokens,\\n    quotaExceeded\\n  }\\n}];"},"id":"4a1c034d-d824-4eec-8f7d-30e703f1deb5","name":"Prepare Quota","type":"n8n-nodes-base.code","typeVersion":2,"position":[-432,252]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-quota-ok","leftValue":"={{ $json.quotaExceeded }}","rightValue":false,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"19cfec26-6daa-4bf5-a4dd-9c46bc7e775a","name":"Quota OK?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-208,252]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Quota tokens mensuel depass\\\\u00e9. Limite : 50,000 tokens/mois.\\",\\n  \\"code\\": \\"QUOTA_EXCEEDED\\"\\n}","options":{"responseCode":429,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"664cd109-b947-42ee-b8c1-42b595e37b31","name":"Quota Exceeded","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[80,400]},{"parameters":{"promptType":"define","text":"={{ $json.message }}","options":{"systemMessage":"Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel"}},"id":"9e04ca0c-5683-4a62-828d-5c057cf62605","name":"AI Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[16,0]},{"parameters":{"model":"mistral-small-latest","options":{"maxTokens":2048,"temperature":0.7}},"id":"1668e2c3-0095-4fbb-877e-e60722e8d24b","name":"Mistral Cloud Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatMistralCloud","typeVersion":1,"position":[16,160],"credentials":{"mistralCloudApi":{"id":"b9hl3JA2taufCYVr","name":"Mistral API"}}},{"parameters":{"sessionIdType":"customKey","sessionKey":"={{ $('Verify JWT').first().json.sessionId }}","contextWindowLength":10},"id":"cffc5919-5412-4308-9671-843b8d2d035f","name":"Postgres Chat Memory","type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[112,224],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const agentResponse = $input.first().json.output;\\nconst jwtData = $('Prepare Quota').first().json;\\n\\n// Estimation tokens (environ 4 chars par token)\\nconst messageTokens = Math.ceil(jwtData.message.length / 4);\\nconst responseTokens = Math.ceil(agentResponse.length / 4);\\nconst tokensUsed = messageTokens + responseTokens;\\n\\nconst newUsedTokens = jwtData.usedTokens + tokensUsed;\\nconst tokensRemaining = jwtData.quotaTokens - newUsedTokens;\\n\\nreturn [{\\n  json: {\\n    userId: jwtData.userId,\\n    conversationId: jwtData.conversationId,\\n    message: jwtData.message,\\n    response: agentResponse,\\n    tokensUsed,\\n    newUsedTokens,\\n    tokensRemaining: Math.max(0, tokensRemaining),\\n    quotaTokens: jwtData.quotaTokens\\n  }\\n}];"},"id":"b2c9d072-5736-4839-9f3f-8c63b5fe8801","name":"Prepare Save","type":"n8n-nodes-base.code","typeVersion":2,"position":[368,104]},{"parameters":{"operation":"executeQuery","query":"INSERT INTO conversations (conversation_id, user_id, title, created_at, updated_at)\\nVALUES (\\n  '{{ $json.conversationId }}'::uuid,\\n  {{ $json.userId }},\\n  '{{ $json.message.substring(0, 50).replace(/'/g, \\"''\\") }}',\\n  NOW(),\\n  NOW()\\n)\\nON CONFLICT (conversation_id)\\nDO UPDATE SET updated_at = NOW();","options":{}},"id":"6c1ace5b-ec88-44b5-a9b5-182a4957e5c9","name":"UPSERT Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[592,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'user',\\n  '{{ $('Prepare Save').first().json.message.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.message.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"19bf528f-0b9d-44d5-b768-58e63ddee026","name":"INSERT User Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[816,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'assistant',\\n  '{{ $('Prepare Save').first().json.response.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.response.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"22a33991-a55c-428d-b673-3b0eef3b8a1a","name":"INSERT Assistant Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[1040,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"operation":"executeQuery","query":"INSERT INTO user_token_usage (user_id, month, used_tokens, quota_tokens)\\nVALUES (\\n  {{ $('Prepare Save').first().json.userId }},\\n  DATE_TRUNC('month', CURRENT_DATE),\\n  {{ $('Prepare Save').first().json.tokensUsed }},\\n  50000\\n)\\nON CONFLICT (user_id, month)\\nDO UPDATE SET used_tokens = user_token_usage.used_tokens + {{ $('Prepare Save').first().json.tokensUsed }};","options":{}},"id":"344a1edc-fdf7-4ba0-a506-10b00624a0ac","name":"UPDATE Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[1264,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const data = $('Prepare Save').first().json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    response: data.response,\\n    tokens_used: data.tokensUsed,\\n    tokens_remaining: data.tokensRemaining,\\n    conversation_id: data.conversationId\\n  }\\n}];"},"id":"d3257586-4db1-4ccf-8b88-2ec7203c06ee","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1488,104]},{"parameters":{"respondWith":"json","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"bfca5f39-23d9-494d-9b4e-767225255749","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1712,104]}]	{"Webhook Chat":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Check Quota","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Check Quota":{"main":[[{"node":"Prepare Quota","type":"main","index":0}]]},"Prepare Quota":{"main":[[{"node":"Quota OK?","type":"main","index":0}]]},"Quota OK?":{"main":[[{"node":"AI Agent","type":"main","index":0}],[{"node":"Quota Exceeded","type":"main","index":0}]]},"Mistral Cloud Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Postgres Chat Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"AI Agent":{"main":[[{"node":"Prepare Save","type":"main","index":0}]]},"Prepare Save":{"main":[[{"node":"UPSERT Conversation","type":"main","index":0}]]},"UPSERT Conversation":{"main":[[{"node":"INSERT User Message","type":"main","index":0}]]},"INSERT User Message":{"main":[[{"node":"INSERT Assistant Message","type":"main","index":0}]]},"INSERT Assistant Message":{"main":[[{"node":"UPDATE Token Usage","type":"main","index":0}]]},"UPDATE Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}}	2025-12-26 17:23:30.579+00	2025-12-26 22:07:31.12+00	{"executionOrder":"v1"}	\N	{}	0320f681-77a9-433a-8fa9-e5979502f561	1	NynEDh5rxUQL7788	{"templateCredsSetupCompleted":true}	\N	f	15	\N	0320f681-77a9-433a-8fa9-e5979502f561
WIBOT - Create Conversation	t	[{"parameters":{"httpMethod":"POST","path":"wibot/conversations","responseMode":"responseNode","options":{}},"id":"af7c1cc8-dfdd-42a7-a19a-1c60907e9ae6","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-create-conversation"},{"parameters":{"jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body || {};\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  // Gnrer un ID unique simple\\n  const conversationId = Date.now().toString(36) + Math.random().toString(36).substring(2, 9);\\n  const title = body.title || 'Nouvelle conversation';\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId, title } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"},"id":"5929e675-2d1f-48e5-97e6-8e4693d7bdd9","name":"Verify JWT & Generate ID","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"845f91c7-8b3c-4430-93ae-b37ab64c224b","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"870e67eb-07cc-45e3-9d9b-ba9d10763be2","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"jsCode":"const data = $input.first().json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversation: {\\n      conversation_id: data.conversationId,\\n      title: data.title,\\n      updated_at: new Date().toISOString(),\\n      message_count: 0\\n    }\\n  }\\n}];"},"id":"c51dc0f7-51a7-40cc-b4eb-7b6376bfc052","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[0,0]},{"parameters":{"respondWith":"json","responseBody":"={{ $json }}","options":{"responseCode":201,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"d064af03-7d82-4dcb-b021-807eeaa5068d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[224,0]}]	{"Webhook":{"main":[[{"node":"Verify JWT & Generate ID","type":"main","index":0}]]},"Verify JWT & Generate ID":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Format Response","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}}	2025-12-26 17:23:38.667+00	2025-12-26 17:24:08.657+00	{"executionOrder":"v1"}	\N	{}	ddcdc8a7-a9db-4f8f-b28f-ec23b55fa640	1	oJ8RPfYOe0ed1LSJ	\N	\N	f	13	\N	ddcdc8a7-a9db-4f8f-b28f-ec23b55fa640
WIBOT - Delete Conversation	t	[{"parameters": {"httpMethod": "DELETE", "path": "wibot/conversation/delete", "responseMode": "responseNode", "options": {}}, "id": "webhook-delete", "name": "Webhook", "type": "n8n-nodes-base.webhook", "typeVersion": 2, "position": [250, 300], "webhookId": "wibot-delete-conversation"}, {"parameters": {"jsCode": "const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\nconst conversationId = body.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"}, "id": "verify-jwt", "name": "Verify JWT", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [470, 300]}, {"parameters": {"conditions": {"options": {"caseSensitive": true, "leftValue": "", "typeValidation": "strict"}, "conditions": [{"id": "check-jwt-valid", "leftValue": "={{ $json.valid }}", "rightValue": true, "operator": {"type": "boolean", "operation": "equals"}}], "combinator": "and"}, "options": {}}, "id": "if-jwt-valid", "name": "JWT Valid?", "type": "n8n-nodes-base.if", "typeVersion": 2, "position": [690, 300]}, {"parameters": {"respondWith": "json", "responseBody": "={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}", "options": {"responseCode": 401, "responseHeaders": {"entries": [{"name": "Content-Type", "value": "application/json"}]}}}, "id": "respond-unauthorized", "name": "Unauthorized", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1.1, "position": [910, 450]}, {"parameters": {"operation": "executeQuery", "query": "DELETE FROM conversations\\nWHERE conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND user_id = {{ $json.userId }}\\nRETURNING conversation_id::text;", "options": {}}, "id": "delete-conversation", "name": "Delete Conversation", "type": "n8n-nodes-base.postgres", "typeVersion": 2.5, "position": [910, 200], "credentials": {"postgres": {"id": "yY2GzRzLXTG4anFZ", "name": "WIBOT PostgreSQL"}}}, {"parameters": {"jsCode": "const rows = $input.all();\\n\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: false,\\n      error: 'Conversation not found or access denied'\\n    }\\n  }];\\n}\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    deleted_conversation_id: rows[0].json.conversation_id\\n  }\\n}];"}, "id": "format-response", "name": "Format Response", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [1130, 200]}, {"parameters": {"respondWith": "json", "responseBody": "={{ $json }}", "options": {"responseCode": 200, "responseHeaders": {"entries": [{"name": "Content-Type", "value": "application/json"}]}}}, "id": "respond-success", "name": "Success", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1.1, "position": [1350, 200]}]	{"Webhook": {"main": [[{"node": "Verify JWT", "type": "main", "index": 0}]]}, "Verify JWT": {"main": [[{"node": "JWT Valid?", "type": "main", "index": 0}]]}, "JWT Valid?": {"main": [[{"node": "Delete Conversation", "type": "main", "index": 0}], [{"node": "Unauthorized", "type": "main", "index": 0}]]}, "Delete Conversation": {"main": [[{"node": "Format Response", "type": "main", "index": 0}]]}, "Format Response": {"main": [[{"node": "Success", "type": "main", "index": 0}]]}}	2025-12-26 22:11:38.817+00	2025-12-26 22:11:38.817+00	{"executionOrder": "v1"}	null	{}	92c7d10a-3f4c-43bb-a18e-fd783a5157d7	1	wibotdel7064ce92	\N	\N	f	3	\N	92c7d10a-3f4c-43bb-a18e-fd783a5157d7
\.


--
-- Data for Name: workflow_history; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.workflow_history ("versionId", "workflowId", authors, "createdAt", "updatedAt", nodes, connections, name, autosaved, description) FROM stdin;
1e31f7d7-5e68-47eb-863c-91d1ec7b0819	zZSHB9BHjR30ThPP	Maxime Ripouteau	2025-12-26 17:23:18.804+00	2025-12-26 17:23:18.804+00	[{"parameters":{"httpMethod":"POST","path":"auth/login","responseMode":"responseNode","options":{}},"id":"c8898033-10a2-436a-915d-a01f108756c6","name":"Webhook Login","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1104,208],"webhookId":"auth-login"},{"parameters":{"operation":"select","schema":"public","table":"users","limit":1,"where":{"values":[{"column":"username","value":"={{ $json.body.username }}"},{"column":"is_active","value":"true"}]},"options":{}},"id":"a2a158de-b676-468b-a23e-18466966d674","name":"Get User","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-880,208],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-user-exists","leftValue":"={{ $json.user_id }}","rightValue":"","operator":{"type":"exists","operation":"exists"}}],"combinator":"and"},"options":{}},"id":"dd3f022d-09ed-47fe-ba59-73ae33165762","name":"User Exists?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-656,208]},{"parameters":{"jsCode":"const inputPassword = $('Webhook Login').first().json.body.password;\\nconst storedHash = $input.first().json.password_hash;\\nconst user = $input.first().json;\\n\\n// Comparaison simple du mot de passe\\nconst isValid = (inputPassword === storedHash);\\n\\nreturn [{ json: { isValid, user } }];"},"id":"bb41f913-1c3c-4afb-88a4-c46324c2b9ec","name":"Verify Password","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-password-valid","leftValue":"={{ $json.isValid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"73c0896e-95a9-4677-86c9-3398d7856fad","name":"Password Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"jsCode":"const user = $input.first().json.user;\\n\\n// Fonction base64 encode compatible n8n\\nfunction toBase64(str) {\\n  return Buffer.from(str).toString('base64').replace(/=/g, '').replace(/\\\\+/g, '-').replace(/\\\\//g, '_');\\n}\\n\\nconst header = toBase64(JSON.stringify({ alg: 'HS256', typ: 'JWT' }));\\n\\nconst payload = toBase64(JSON.stringify({\\n  userId: user.user_id,\\n  username: user.username,\\n  role: user.role,\\n  iat: Math.floor(Date.now() / 1000),\\n  exp: Math.floor(Date.now() / 1000) + (24 * 60 * 60)\\n}));\\n\\n// Signature simplifie\\nconst signature = toBase64(header + payload + 'wibot_secret').substring(0, 43);\\n\\nconst token = `${header}.${payload}.${signature}`;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    token,\\n    user: {\\n      id: user.user_id,\\n      username: user.username,\\n      role: user.role\\n    }\\n  }\\n}];"},"id":"56756190-1aeb-4413-946a-e2a7b4907e8e","name":"Generate JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[0,0]},{"parameters":{"respondWith":"json","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"5e5d60cc-5fee-4f26-b838-71d66c7a885a","name":"Success Response","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[224,0]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Invalid credentials\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"e90d3bbc-527a-4b00-b1dc-9bb17afa5966","name":"Invalid Password","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,208]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"User not found\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"8423d2d4-a607-49d0-a6d7-8730cf78fd86","name":"User Not Found","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-448,304]}]	{"Webhook Login":{"main":[[{"node":"Get User","type":"main","index":0}]]},"Get User":{"main":[[{"node":"User Exists?","type":"main","index":0}]]},"User Exists?":{"main":[[{"node":"Verify Password","type":"main","index":0}],[{"node":"User Not Found","type":"main","index":0}]]},"Verify Password":{"main":[[{"node":"Password Valid?","type":"main","index":0}]]},"Password Valid?":{"main":[[{"node":"Generate JWT","type":"main","index":0}],[{"node":"Invalid Password","type":"main","index":0}]]},"Generate JWT":{"main":[[{"node":"Success Response","type":"main","index":0}]]}}	\N	f	\N
7924c06c-c403-4b11-a377-81bbcf664b88	NynEDh5rxUQL7788	Maxime Ripouteau	2025-12-26 17:23:30.579+00	2025-12-26 17:23:30.579+00	[{"parameters":{"httpMethod":"POST","path":"wibot/chat","responseMode":"responseNode","options":{}},"id":"fa8ec4be-706d-4001-ad6c-fcb0f99736af","name":"Webhook Chat","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1328,112],"webhookId":"wibot-chat"},{"parameters":{"jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  // Decode base64url payload\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  // Check expiration\\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ \\n    json: { \\n      valid: true, \\n      user: decoded,\\n      userId: decoded.userId,\\n      conversationId: body.conversation_id,\\n      message: body.message,\\n      sessionId: `${decoded.userId}_${body.conversation_id}`\\n    } \\n  }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"},"id":"0004c18c-eca3-41dc-997e-590e7fd79356","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1104,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"bfcef1a4-73b6-486c-aab3-5977d98eb079","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-880,112]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"cba8bdb1-b75a-4f70-aa59-b7a0eda05fa5","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-656,352]},{"parameters":{"operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"c95bf25e-6737-45ac-a7bb-499bc0b7c7dc","name":"Check Quota","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-656,112],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\nlet usedTokens = 0;\\nlet quotaTokens = 50000;\\n\\nif (rows && rows.length > 0 && rows[0].json.used_tokens !== undefined) {\\n  usedTokens = parseInt(rows[0].json.used_tokens) || 0;\\n  quotaTokens = parseInt(rows[0].json.quota_tokens) || 50000;\\n}\\n\\nconst quotaExceeded = usedTokens >= quotaTokens;\\n\\nreturn [{\\n  json: {\\n    ...jwtData,\\n    usedTokens,\\n    quotaTokens,\\n    quotaExceeded\\n  }\\n}];"},"id":"4a1c034d-d824-4eec-8f7d-30e703f1deb5","name":"Prepare Quota","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-quota-ok","leftValue":"={{ $json.quotaExceeded }}","rightValue":false,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"19cfec26-6daa-4bf5-a4dd-9c46bc7e775a","name":"Quota OK?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Quota tokens mensuel depass\\\\u00e9. Limite : 50,000 tokens/mois.\\",\\n  \\"code\\": \\"QUOTA_EXCEEDED\\"\\n}","options":{"responseCode":429,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"664cd109-b947-42ee-b8c1-42b595e37b31","name":"Quota Exceeded","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"promptType":"define","text":"={{ $json.message }}","options":{"systemMessage":"Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel"}},"id":"9e04ca0c-5683-4a62-828d-5c057cf62605","name":"AI Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[0,0]},{"parameters":{"model":"mistral-small-latest","options":{"maxTokens":2048,"temperature":0.7}},"id":"1668e2c3-0095-4fbb-877e-e60722e8d24b","name":"Mistral Cloud Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatMistralCloud","typeVersion":1,"position":[-208,304],"credentials":{"mistralCloudApi":{"id":"b9hl3JA2taufCYVr","name":"Mistral API"}}},{"parameters":{"sessionIdType":"customKey","sessionKey":"={{ $('Verify JWT').first().json.sessionId }}","contextWindowLength":10},"id":"cffc5919-5412-4308-9671-843b8d2d035f","name":"Postgres Chat Memory","type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[0,304],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const agentResponse = $input.first().json.output;\\nconst jwtData = $('Prepare Quota').first().json;\\n\\n// Estimation tokens (environ 4 chars par token)\\nconst messageTokens = Math.ceil(jwtData.message.length / 4);\\nconst responseTokens = Math.ceil(agentResponse.length / 4);\\nconst tokensUsed = messageTokens + responseTokens;\\n\\nconst newUsedTokens = jwtData.usedTokens + tokensUsed;\\nconst tokensRemaining = jwtData.quotaTokens - newUsedTokens;\\n\\nreturn [{\\n  json: {\\n    userId: jwtData.userId,\\n    conversationId: jwtData.conversationId,\\n    message: jwtData.message,\\n    response: agentResponse,\\n    tokensUsed,\\n    newUsedTokens,\\n    tokensRemaining: Math.max(0, tokensRemaining),\\n    quotaTokens: jwtData.quotaTokens\\n  }\\n}];"},"id":"b2c9d072-5736-4839-9f3f-8c63b5fe8801","name":"Prepare Save","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"operation":"executeQuery","query":"INSERT INTO conversations (conversation_id, user_id, title, created_at, updated_at)\\nVALUES (\\n  '{{ $json.conversationId }}'::uuid,\\n  {{ $json.userId }},\\n  '{{ $json.message.substring(0, 50).replace(/'/g, \\"''\\") }}',\\n  NOW(),\\n  NOW()\\n)\\nON CONFLICT (conversation_id)\\nDO UPDATE SET updated_at = NOW();","options":{}},"id":"6c1ace5b-ec88-44b5-a9b5-182a4957e5c9","name":"UPSERT Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[448,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'user',\\n  '{{ $('Prepare Save').first().json.message.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.message.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"19bf528f-0b9d-44d5-b768-58e63ddee026","name":"INSERT User Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[672,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'assistant',\\n  '{{ $('Prepare Save').first().json.response.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.response.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"22a33991-a55c-428d-b673-3b0eef3b8a1a","name":"INSERT Assistant Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[880,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"operation":"executeQuery","query":"INSERT INTO user_token_usage (user_id, month, used_tokens, quota_tokens)\\nVALUES (\\n  {{ $('Prepare Save').first().json.userId }},\\n  DATE_TRUNC('month', CURRENT_DATE),\\n  {{ $('Prepare Save').first().json.tokensUsed }},\\n  50000\\n)\\nON CONFLICT (user_id, month)\\nDO UPDATE SET used_tokens = user_token_usage.used_tokens + {{ $('Prepare Save').first().json.tokensUsed }};","options":{}},"id":"344a1edc-fdf7-4ba0-a506-10b00624a0ac","name":"UPDATE Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[1104,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const data = $('Prepare Save').first().json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    response: data.response,\\n    tokens_used: data.tokensUsed,\\n    tokens_remaining: data.tokensRemaining,\\n    conversation_id: data.conversationId\\n  }\\n}];"},"id":"d3257586-4db1-4ccf-8b88-2ec7203c06ee","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1328,0]},{"parameters":{"respondWith":"json","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"bfca5f39-23d9-494d-9b4e-767225255749","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1552,0]}]	{"Webhook Chat":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Check Quota","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Check Quota":{"main":[[{"node":"Prepare Quota","type":"main","index":0}]]},"Prepare Quota":{"main":[[{"node":"Quota OK?","type":"main","index":0}]]},"Quota OK?":{"main":[[{"node":"AI Agent","type":"main","index":0}],[{"node":"Quota Exceeded","type":"main","index":0}]]},"Mistral Cloud Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Postgres Chat Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"AI Agent":{"main":[[{"node":"Prepare Save","type":"main","index":0}]]},"Prepare Save":{"main":[[{"node":"UPSERT Conversation","type":"main","index":0}]]},"UPSERT Conversation":{"main":[[{"node":"INSERT User Message","type":"main","index":0}]]},"INSERT User Message":{"main":[[{"node":"INSERT Assistant Message","type":"main","index":0}]]},"INSERT Assistant Message":{"main":[[{"node":"UPDATE Token Usage","type":"main","index":0}]]},"UPDATE Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}}	\N	f	\N
ddcdc8a7-a9db-4f8f-b28f-ec23b55fa640	oJ8RPfYOe0ed1LSJ	Maxime Ripouteau	2025-12-26 17:23:38.667+00	2025-12-26 17:23:38.667+00	[{"parameters":{"httpMethod":"POST","path":"wibot/conversations","responseMode":"responseNode","options":{}},"id":"af7c1cc8-dfdd-42a7-a19a-1c60907e9ae6","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-create-conversation"},{"parameters":{"jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body || {};\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  // Gnrer un ID unique simple\\n  const conversationId = Date.now().toString(36) + Math.random().toString(36).substring(2, 9);\\n  const title = body.title || 'Nouvelle conversation';\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId, title } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"},"id":"5929e675-2d1f-48e5-97e6-8e4693d7bdd9","name":"Verify JWT & Generate ID","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"845f91c7-8b3c-4430-93ae-b37ab64c224b","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"870e67eb-07cc-45e3-9d9b-ba9d10763be2","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"jsCode":"const data = $input.first().json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversation: {\\n      conversation_id: data.conversationId,\\n      title: data.title,\\n      updated_at: new Date().toISOString(),\\n      message_count: 0\\n    }\\n  }\\n}];"},"id":"c51dc0f7-51a7-40cc-b4eb-7b6376bfc052","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[0,0]},{"parameters":{"respondWith":"json","responseBody":"={{ $json }}","options":{"responseCode":201,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"d064af03-7d82-4dcb-b021-807eeaa5068d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[224,0]}]	{"Webhook":{"main":[[{"node":"Verify JWT & Generate ID","type":"main","index":0}]]},"Verify JWT & Generate ID":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Format Response","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}}	\N	f	\N
e1bae720-4a31-4afe-a595-4a35f7e26b0f	yPYTzGXVRP2JQxs8	Maxime Ripouteau	2025-12-26 17:23:46.197+00	2025-12-26 17:23:46.197+00	[{"parameters":{"path":"wibot/conversations","responseMode":"responseNode","options":{}},"id":"c0f9fbaf-d0bb-4e86-92e9-c3e34e750679","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-conversations"},{"parameters":{"jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"},"id":"a5bd8ac1-82cc-4021-8420-752f46440f49","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"352ea961-e9a7-4651-acad-b594ba9f1c8c","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"9a0fd5d7-2e41-4111-b2b2-f84c1403ea28","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"operation":"executeQuery","query":"SELECT \\n  c.conversation_id::text,\\n  c.title,\\n  TO_CHAR(c.updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at,\\n  COUNT(m.message_id)::integer as message_count\\nFROM conversations c\\nLEFT JOIN messages m ON c.conversation_id = m.conversation_id\\nWHERE c.user_id = {{ $json.userId }}\\nGROUP BY c.conversation_id, c.title, c.updated_at\\nORDER BY c.updated_at DESC\\nLIMIT 50;","options":{}},"id":"8fe150d4-0f4e-41ac-bd90-8978f31f4459","name":"Get Conversations","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const rows = $input.all();\\n\\n// Si pas de resultats ou resultats vides\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      conversations: []\\n    }\\n  }];\\n}\\n\\nconst conversations = rows.map(row => ({\\n  conversation_id: row.json.conversation_id,\\n  title: row.json.title || 'Nouvelle conversation',\\n  updated_at: row.json.updated_at,\\n  message_count: parseInt(row.json.message_count) || 0\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversations\\n  }\\n}];"},"id":"8d9137c5-9aa8-4938-961f-50bdbc93ee8f","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"respondWith":"json","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"463fcf83-1d8e-472a-94df-623b505f1a5d","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}]	{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Conversations","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Conversations":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}}	\N	f	\N
62643582-5e10-4f85-9c6c-74a85d102e67	c8fbjjX9ObuzBE4b	Maxime Ripouteau	2025-12-26 17:24:01.471+00	2025-12-26 17:24:01.471+00	[{"parameters":{"path":"wibot/user/tokens","responseMode":"responseNode","options":{}},"id":"8fcee23f-b3e4-4c28-ad04-4ba456f7752a","name":"Webhook","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-656,112],"webhookId":"wibot-user-tokens"},{"parameters":{"jsCode":"const authHeader = $input.first().json.headers.authorization;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"},"id":"d8de2cd5-94e4-49a5-a318-1ee1c389abd9","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-448,112]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"c9c309e4-53ba-46be-8960-13da82f4f5f7","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-224,112]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"83cd3ac8-fb46-4de5-a8ce-5d24be08334c","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[0,256]},{"parameters":{"operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens,\\n  COALESCE(quota_tokens, 50000) - COALESCE(used_tokens, 0) as tokens_remaining\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"b35fa964-24c4-49ed-a3b6-7df917662ceb","name":"Get Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[0,0],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\n// Si pas de donnees, l'utilisateur n'a pas encore utilise de tokens ce mois\\nif (!rows || rows.length === 0 || rows[0].json.tokens_remaining === undefined) {\\n  return [{\\n    json: {\\n      success: true,\\n      used_tokens: 0,\\n      quota_tokens: 50000,\\n      tokens_remaining: 50000\\n    }\\n  }];\\n}\\n\\nconst data = rows[0].json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    used_tokens: parseInt(data.used_tokens) || 0,\\n    quota_tokens: parseInt(data.quota_tokens) || 50000,\\n    tokens_remaining: parseInt(data.tokens_remaining) || 50000\\n  }\\n}];"},"id":"7d9b1764-6fed-49d3-957f-402aa7f05696","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[224,0]},{"parameters":{"respondWith":"json","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"67daad4e-a2fe-4b36-b18c-065181b80de3","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[448,0]}]	{"Webhook":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Get Token Usage","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Get Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}}	\N	f	\N
704bc444-e5e2-4901-9322-383bc1bd0434	msg5c740bd9db51	system	2025-12-26 18:00:27.534+00	2025-12-26 18:00:27.534+00	[{"parameters": {"httpMethod": "GET", "path": "wibot/messages", "responseMode": "responseNode", "options": {}}, "id": "webhook-messages", "name": "Webhook", "type": "n8n-nodes-base.webhook", "typeVersion": 2, "position": [250, 300], "webhookId": "wibot-messages"}, {"parameters": {"jsCode": "const authHeader = $input.first().json.headers.authorization;\\nconst conversationId = $input.first().json.query.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"}, "id": "verify-jwt", "name": "Verify JWT", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [470, 300]}, {"parameters": {"conditions": {"options": {"caseSensitive": true, "leftValue": "", "typeValidation": "strict"}, "conditions": [{"id": "check-jwt-valid", "leftValue": "={{ $json.valid }}", "rightValue": true, "operator": {"type": "boolean", "operation": "equals"}}], "combinator": "and"}, "options": {}}, "id": "if-jwt-valid", "name": "JWT Valid?", "type": "n8n-nodes-base.if", "typeVersion": 2, "position": [690, 300]}, {"parameters": {"respondWith": "json", "responseBody": "={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}", "options": {"responseCode": 401, "responseHeaders": {"entries": [{"name": "Content-Type", "value": "application/json"}]}}}, "id": "respond-unauthorized", "name": "Unauthorized", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1.1, "position": [910, 450]}, {"parameters": {"operation": "executeQuery", "query": "SELECT \\n  m.message_id,\\n  m.role,\\n  m.content,\\n  TO_CHAR(m.created_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as created_at\\nFROM messages m\\nJOIN conversations c ON m.conversation_id = c.conversation_id\\nWHERE m.conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND c.user_id = {{ $json.userId }}\\nORDER BY m.created_at ASC;", "options": {}}, "id": "get-messages", "name": "Get Messages", "type": "n8n-nodes-base.postgres", "typeVersion": 2.5, "position": [910, 200], "credentials": {"postgres": {"id": "yY2GzRzLXTG4anFZ", "name": "WIBOT PostgreSQL"}}}, {"parameters": {"jsCode": "const rows = $input.all();\\n\\n// Si pas de resultats, retourner liste vide\\nif (!rows || rows.length === 0 || !rows[0].json.message_id) {\\n  return [{\\n    json: {\\n      success: true,\\n      messages: []\\n    }\\n  }];\\n}\\n\\nconst messages = rows.map(row => ({\\n  message_id: row.json.message_id,\\n  role: row.json.role,\\n  content: row.json.content,\\n  created_at: row.json.created_at\\n}));\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    messages\\n  }\\n}];"}, "id": "format-response", "name": "Format Response", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [1130, 200]}, {"parameters": {"respondWith": "json", "responseBody": "={{ $json }}", "options": {"responseCode": 200, "responseHeaders": {"entries": [{"name": "Content-Type", "value": "application/json"}]}}}, "id": "respond-success", "name": "Success", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1.1, "position": [1350, 200]}]	{"Webhook": {"main": [[{"node": "Verify JWT", "type": "main", "index": 0}]]}, "Verify JWT": {"main": [[{"node": "JWT Valid?", "type": "main", "index": 0}]]}, "JWT Valid?": {"main": [[{"node": "Get Messages", "type": "main", "index": 0}], [{"node": "Unauthorized", "type": "main", "index": 0}]]}, "Get Messages": {"main": [[{"node": "Format Response", "type": "main", "index": 0}]]}, "Format Response": {"main": [[{"node": "Success", "type": "main", "index": 0}]]}}	WIBOT - Get Messages	f	\N
0320f681-77a9-433a-8fa9-e5979502f561	NynEDh5rxUQL7788	Maxime Ripouteau	2025-12-26 22:07:31.114+00	2025-12-26 22:07:31.114+00	[{"parameters":{"httpMethod":"POST","path":"wibot/chat","responseMode":"responseNode","options":{}},"id":"fa8ec4be-706d-4001-ad6c-fcb0f99736af","name":"Webhook Chat","type":"n8n-nodes-base.webhook","typeVersion":2,"position":[-1328,348],"webhookId":"wibot-chat"},{"parameters":{"jsCode":"const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  // Decode base64url payload\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  // Check expiration\\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ \\n    json: { \\n      valid: true, \\n      user: decoded,\\n      userId: decoded.userId,\\n      conversationId: body.conversation_id,\\n      message: body.message,\\n      sessionId: `${decoded.userId}_${body.conversation_id}`\\n    } \\n  }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"},"id":"0004c18c-eca3-41dc-997e-590e7fd79356","name":"Verify JWT","type":"n8n-nodes-base.code","typeVersion":2,"position":[-1104,348]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-jwt-valid","leftValue":"={{ $json.valid }}","rightValue":true,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"bfcef1a4-73b6-486c-aab3-5977d98eb079","name":"JWT Valid?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-880,348]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}","options":{"responseCode":401,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"cba8bdb1-b75a-4f70-aa59-b7a0eda05fa5","name":"Unauthorized","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[-656,444]},{"parameters":{"operation":"executeQuery","query":"SELECT \\n  COALESCE(used_tokens, 0) as used_tokens,\\n  COALESCE(quota_tokens, 50000) as quota_tokens\\nFROM user_token_usage\\nWHERE user_id = {{ $json.userId }}\\n  AND month = DATE_TRUNC('month', CURRENT_DATE)\\nLIMIT 1;","options":{}},"id":"c95bf25e-6737-45ac-a7bb-499bc0b7c7dc","name":"Check Quota","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[-656,252],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const rows = $input.all();\\nconst jwtData = $('Verify JWT').first().json;\\n\\nlet usedTokens = 0;\\nlet quotaTokens = 50000;\\n\\nif (rows && rows.length > 0 && rows[0].json.used_tokens !== undefined) {\\n  usedTokens = parseInt(rows[0].json.used_tokens) || 0;\\n  quotaTokens = parseInt(rows[0].json.quota_tokens) || 50000;\\n}\\n\\nconst quotaExceeded = usedTokens >= quotaTokens;\\n\\nreturn [{\\n  json: {\\n    ...jwtData,\\n    usedTokens,\\n    quotaTokens,\\n    quotaExceeded\\n  }\\n}];"},"id":"4a1c034d-d824-4eec-8f7d-30e703f1deb5","name":"Prepare Quota","type":"n8n-nodes-base.code","typeVersion":2,"position":[-432,252]},{"parameters":{"conditions":{"options":{"caseSensitive":true,"leftValue":"","typeValidation":"strict"},"conditions":[{"id":"check-quota-ok","leftValue":"={{ $json.quotaExceeded }}","rightValue":false,"operator":{"type":"boolean","operation":"equals"}}],"combinator":"and"},"options":{}},"id":"19cfec26-6daa-4bf5-a4dd-9c46bc7e775a","name":"Quota OK?","type":"n8n-nodes-base.if","typeVersion":2,"position":[-208,252]},{"parameters":{"respondWith":"json","responseBody":"={\\n  \\"success\\": false,\\n  \\"error\\": \\"Quota tokens mensuel depass\\\\u00e9. Limite : 50,000 tokens/mois.\\",\\n  \\"code\\": \\"QUOTA_EXCEEDED\\"\\n}","options":{"responseCode":429,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"664cd109-b947-42ee-b8c1-42b595e37b31","name":"Quota Exceeded","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[80,400]},{"parameters":{"promptType":"define","text":"={{ $json.message }}","options":{"systemMessage":"Tu es WIBOT, l'assistant IA interne de WIDIP, une entreprise francaise de services informatiques.\\n\\nTon role:\\n- Aider les employes WIDIP avec leurs questions techniques\\n- Fournir des reponses claires et professionnelles\\n- Utiliser le francais par defaut\\n- Etre concis mais complet\\n\\nStyle:\\n- Utilise le markdown pour formater tes reponses\\n- Mets le code dans des blocs avec le langage specifie\\n- Sois amical mais professionnel"}},"id":"9e04ca0c-5683-4a62-828d-5c057cf62605","name":"AI Agent","type":"@n8n/n8n-nodes-langchain.agent","typeVersion":1.7,"position":[16,0]},{"parameters":{"model":"mistral-small-latest","options":{"maxTokens":2048,"temperature":0.7}},"id":"1668e2c3-0095-4fbb-877e-e60722e8d24b","name":"Mistral Cloud Chat Model","type":"@n8n/n8n-nodes-langchain.lmChatMistralCloud","typeVersion":1,"position":[16,160],"credentials":{"mistralCloudApi":{"id":"b9hl3JA2taufCYVr","name":"Mistral API"}}},{"parameters":{"sessionIdType":"customKey","sessionKey":"={{ $('Verify JWT').first().json.sessionId }}","contextWindowLength":10},"id":"cffc5919-5412-4308-9671-843b8d2d035f","name":"Postgres Chat Memory","type":"@n8n/n8n-nodes-langchain.memoryPostgresChat","typeVersion":1.3,"position":[112,224],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const agentResponse = $input.first().json.output;\\nconst jwtData = $('Prepare Quota').first().json;\\n\\n// Estimation tokens (environ 4 chars par token)\\nconst messageTokens = Math.ceil(jwtData.message.length / 4);\\nconst responseTokens = Math.ceil(agentResponse.length / 4);\\nconst tokensUsed = messageTokens + responseTokens;\\n\\nconst newUsedTokens = jwtData.usedTokens + tokensUsed;\\nconst tokensRemaining = jwtData.quotaTokens - newUsedTokens;\\n\\nreturn [{\\n  json: {\\n    userId: jwtData.userId,\\n    conversationId: jwtData.conversationId,\\n    message: jwtData.message,\\n    response: agentResponse,\\n    tokensUsed,\\n    newUsedTokens,\\n    tokensRemaining: Math.max(0, tokensRemaining),\\n    quotaTokens: jwtData.quotaTokens\\n  }\\n}];"},"id":"b2c9d072-5736-4839-9f3f-8c63b5fe8801","name":"Prepare Save","type":"n8n-nodes-base.code","typeVersion":2,"position":[368,104]},{"parameters":{"operation":"executeQuery","query":"INSERT INTO conversations (conversation_id, user_id, title, created_at, updated_at)\\nVALUES (\\n  '{{ $json.conversationId }}'::uuid,\\n  {{ $json.userId }},\\n  '{{ $json.message.substring(0, 50).replace(/'/g, \\"''\\") }}',\\n  NOW(),\\n  NOW()\\n)\\nON CONFLICT (conversation_id)\\nDO UPDATE SET updated_at = NOW();","options":{}},"id":"6c1ace5b-ec88-44b5-a9b5-182a4957e5c9","name":"UPSERT Conversation","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[592,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'user',\\n  '{{ $('Prepare Save').first().json.message.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.message.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"19bf528f-0b9d-44d5-b768-58e63ddee026","name":"INSERT User Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[816,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"operation":"executeQuery","query":"INSERT INTO messages (conversation_id, user_id, role, content, tokens, created_at)\\nVALUES (\\n  '{{ $('Prepare Save').first().json.conversationId }}'::uuid,\\n  {{ $('Prepare Save').first().json.userId }},\\n  'assistant',\\n  '{{ $('Prepare Save').first().json.response.replace(/'/g, \\"''\\").replace(/\\\\\\\\/g, '\\\\\\\\\\\\\\\\') }}',\\n  {{ Math.ceil($('Prepare Save').first().json.response.length / 4) }},\\n  NOW()\\n);","options":{}},"id":"22a33991-a55c-428d-b673-3b0eef3b8a1a","name":"INSERT Assistant Message","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[1040,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"operation":"executeQuery","query":"INSERT INTO user_token_usage (user_id, month, used_tokens, quota_tokens)\\nVALUES (\\n  {{ $('Prepare Save').first().json.userId }},\\n  DATE_TRUNC('month', CURRENT_DATE),\\n  {{ $('Prepare Save').first().json.tokensUsed }},\\n  50000\\n)\\nON CONFLICT (user_id, month)\\nDO UPDATE SET used_tokens = user_token_usage.used_tokens + {{ $('Prepare Save').first().json.tokensUsed }};","options":{}},"id":"344a1edc-fdf7-4ba0-a506-10b00624a0ac","name":"UPDATE Token Usage","type":"n8n-nodes-base.postgres","typeVersion":2.5,"position":[1264,104],"credentials":{"postgres":{"id":"yY2GzRzLXTG4anFZ","name":"WIBOT PostgreSQL"}}},{"parameters":{"jsCode":"const data = $('Prepare Save').first().json;\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    response: data.response,\\n    tokens_used: data.tokensUsed,\\n    tokens_remaining: data.tokensRemaining,\\n    conversation_id: data.conversationId\\n  }\\n}];"},"id":"d3257586-4db1-4ccf-8b88-2ec7203c06ee","name":"Format Response","type":"n8n-nodes-base.code","typeVersion":2,"position":[1488,104]},{"parameters":{"respondWith":"json","responseBody":"={{ $json }}","options":{"responseCode":200,"responseHeaders":{"entries":[{"name":"Content-Type","value":"application/json"}]}}},"id":"bfca5f39-23d9-494d-9b4e-767225255749","name":"Success","type":"n8n-nodes-base.respondToWebhook","typeVersion":1.1,"position":[1712,104]}]	{"Webhook Chat":{"main":[[{"node":"Verify JWT","type":"main","index":0}]]},"Verify JWT":{"main":[[{"node":"JWT Valid?","type":"main","index":0}]]},"JWT Valid?":{"main":[[{"node":"Check Quota","type":"main","index":0}],[{"node":"Unauthorized","type":"main","index":0}]]},"Check Quota":{"main":[[{"node":"Prepare Quota","type":"main","index":0}]]},"Prepare Quota":{"main":[[{"node":"Quota OK?","type":"main","index":0}]]},"Quota OK?":{"main":[[{"node":"AI Agent","type":"main","index":0}],[{"node":"Quota Exceeded","type":"main","index":0}]]},"Mistral Cloud Chat Model":{"ai_languageModel":[[{"node":"AI Agent","type":"ai_languageModel","index":0}]]},"Postgres Chat Memory":{"ai_memory":[[{"node":"AI Agent","type":"ai_memory","index":0}]]},"AI Agent":{"main":[[{"node":"Prepare Save","type":"main","index":0}]]},"Prepare Save":{"main":[[{"node":"UPSERT Conversation","type":"main","index":0}]]},"UPSERT Conversation":{"main":[[{"node":"INSERT User Message","type":"main","index":0}]]},"INSERT User Message":{"main":[[{"node":"INSERT Assistant Message","type":"main","index":0}]]},"INSERT Assistant Message":{"main":[[{"node":"UPDATE Token Usage","type":"main","index":0}]]},"UPDATE Token Usage":{"main":[[{"node":"Format Response","type":"main","index":0}]]},"Format Response":{"main":[[{"node":"Success","type":"main","index":0}]]}}	\N	f	\N
83bbe10b-0d6d-43e4-a909-0d330620e8bb	wibotrene9fa6a78	system	2025-12-26 22:11:38.811+00	2025-12-26 22:11:38.811+00	[{"parameters": {"httpMethod": "PATCH", "path": "wibot/conversation/rename", "responseMode": "responseNode", "options": {}}, "id": "webhook-rename", "name": "Webhook", "type": "n8n-nodes-base.webhook", "typeVersion": 2, "position": [250, 300], "webhookId": "wibot-rename-conversation"}, {"parameters": {"jsCode": "const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\nconst conversationId = body.conversationId;\\nconst newTitle = body.title;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nif (!newTitle || newTitle.trim().length === 0) {\\n  return [{ json: { valid: false, error: 'title is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId, newTitle: newTitle.trim() } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"}, "id": "verify-jwt", "name": "Verify JWT", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [470, 300]}, {"parameters": {"conditions": {"options": {"caseSensitive": true, "leftValue": "", "typeValidation": "strict"}, "conditions": [{"id": "check-jwt-valid", "leftValue": "={{ $json.valid }}", "rightValue": true, "operator": {"type": "boolean", "operation": "equals"}}], "combinator": "and"}, "options": {}}, "id": "if-jwt-valid", "name": "JWT Valid?", "type": "n8n-nodes-base.if", "typeVersion": 2, "position": [690, 300]}, {"parameters": {"respondWith": "json", "responseBody": "={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}", "options": {"responseCode": 401, "responseHeaders": {"entries": [{"name": "Content-Type", "value": "application/json"}]}}}, "id": "respond-unauthorized", "name": "Unauthorized", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1.1, "position": [910, 450]}, {"parameters": {"operation": "executeQuery", "query": "UPDATE conversations\\nSET title = '{{ $json.newTitle }}', updated_at = NOW()\\nWHERE conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND user_id = {{ $json.userId }}\\nRETURNING conversation_id::text, title, TO_CHAR(updated_at, 'YYYY-MM-DD\\"T\\"HH24:MI:SS\\"Z\\"') as updated_at;", "options": {}}, "id": "rename-conversation", "name": "Rename Conversation", "type": "n8n-nodes-base.postgres", "typeVersion": 2.5, "position": [910, 200], "credentials": {"postgres": {"id": "yY2GzRzLXTG4anFZ", "name": "WIBOT PostgreSQL"}}}, {"parameters": {"jsCode": "const rows = $input.all();\\n\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: false,\\n      error: 'Conversation not found or access denied'\\n    }\\n  }];\\n}\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    conversation: {\\n      conversation_id: rows[0].json.conversation_id,\\n      title: rows[0].json.title,\\n      updated_at: rows[0].json.updated_at\\n    }\\n  }\\n}];"}, "id": "format-response", "name": "Format Response", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [1130, 200]}, {"parameters": {"respondWith": "json", "responseBody": "={{ $json }}", "options": {"responseCode": 200, "responseHeaders": {"entries": [{"name": "Content-Type", "value": "application/json"}]}}}, "id": "respond-success", "name": "Success", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1.1, "position": [1350, 200]}]	{"Webhook": {"main": [[{"node": "Verify JWT", "type": "main", "index": 0}]]}, "Verify JWT": {"main": [[{"node": "JWT Valid?", "type": "main", "index": 0}]]}, "JWT Valid?": {"main": [[{"node": "Rename Conversation", "type": "main", "index": 0}], [{"node": "Unauthorized", "type": "main", "index": 0}]]}, "Rename Conversation": {"main": [[{"node": "Format Response", "type": "main", "index": 0}]]}, "Format Response": {"main": [[{"node": "Success", "type": "main", "index": 0}]]}}	WIBOT - Rename Conversation	f	\N
92c7d10a-3f4c-43bb-a18e-fd783a5157d7	wibotdel7064ce92	system	2025-12-26 22:11:38.82+00	2025-12-26 22:11:38.82+00	[{"parameters": {"httpMethod": "DELETE", "path": "wibot/conversation/delete", "responseMode": "responseNode", "options": {}}, "id": "webhook-delete", "name": "Webhook", "type": "n8n-nodes-base.webhook", "typeVersion": 2, "position": [250, 300], "webhookId": "wibot-delete-conversation"}, {"parameters": {"jsCode": "const authHeader = $input.first().json.headers.authorization;\\nconst body = $input.first().json.body;\\nconst conversationId = body.conversationId;\\n\\nif (!authHeader || !authHeader.startsWith('Bearer ')) {\\n  return [{ json: { valid: false, error: 'No token provided' } }];\\n}\\n\\nif (!conversationId) {\\n  return [{ json: { valid: false, error: 'conversationId is required' } }];\\n}\\n\\nconst token = authHeader.substring(7);\\nconst parts = token.split('.');\\n\\nif (parts.length !== 3) {\\n  return [{ json: { valid: false, error: 'Invalid token format' } }];\\n}\\n\\ntry {\\n  const payload = parts[1];\\n  const decoded = JSON.parse(Buffer.from(payload, 'base64').toString());\\n  \\n  if (decoded.exp && decoded.exp < Math.floor(Date.now() / 1000)) {\\n    return [{ json: { valid: false, error: 'Token expired' } }];\\n  }\\n  \\n  return [{ json: { valid: true, userId: decoded.userId, conversationId } }];\\n} catch (err) {\\n  return [{ json: { valid: false, error: 'Invalid token' } }];\\n}"}, "id": "verify-jwt", "name": "Verify JWT", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [470, 300]}, {"parameters": {"conditions": {"options": {"caseSensitive": true, "leftValue": "", "typeValidation": "strict"}, "conditions": [{"id": "check-jwt-valid", "leftValue": "={{ $json.valid }}", "rightValue": true, "operator": {"type": "boolean", "operation": "equals"}}], "combinator": "and"}, "options": {}}, "id": "if-jwt-valid", "name": "JWT Valid?", "type": "n8n-nodes-base.if", "typeVersion": 2, "position": [690, 300]}, {"parameters": {"respondWith": "json", "responseBody": "={\\n  \\"success\\": false,\\n  \\"error\\": \\"{{ $json.error }}\\"\\n}", "options": {"responseCode": 401, "responseHeaders": {"entries": [{"name": "Content-Type", "value": "application/json"}]}}}, "id": "respond-unauthorized", "name": "Unauthorized", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1.1, "position": [910, 450]}, {"parameters": {"operation": "executeQuery", "query": "DELETE FROM conversations\\nWHERE conversation_id = '{{ $json.conversationId }}'::uuid\\n  AND user_id = {{ $json.userId }}\\nRETURNING conversation_id::text;", "options": {}}, "id": "delete-conversation", "name": "Delete Conversation", "type": "n8n-nodes-base.postgres", "typeVersion": 2.5, "position": [910, 200], "credentials": {"postgres": {"id": "yY2GzRzLXTG4anFZ", "name": "WIBOT PostgreSQL"}}}, {"parameters": {"jsCode": "const rows = $input.all();\\n\\nif (!rows || rows.length === 0 || !rows[0].json.conversation_id) {\\n  return [{\\n    json: {\\n      success: false,\\n      error: 'Conversation not found or access denied'\\n    }\\n  }];\\n}\\n\\nreturn [{\\n  json: {\\n    success: true,\\n    deleted_conversation_id: rows[0].json.conversation_id\\n  }\\n}];"}, "id": "format-response", "name": "Format Response", "type": "n8n-nodes-base.code", "typeVersion": 2, "position": [1130, 200]}, {"parameters": {"respondWith": "json", "responseBody": "={{ $json }}", "options": {"responseCode": 200, "responseHeaders": {"entries": [{"name": "Content-Type", "value": "application/json"}]}}}, "id": "respond-success", "name": "Success", "type": "n8n-nodes-base.respondToWebhook", "typeVersion": 1.1, "position": [1350, 200]}]	{"Webhook": {"main": [[{"node": "Verify JWT", "type": "main", "index": 0}]]}, "Verify JWT": {"main": [[{"node": "JWT Valid?", "type": "main", "index": 0}]]}, "JWT Valid?": {"main": [[{"node": "Delete Conversation", "type": "main", "index": 0}], [{"node": "Unauthorized", "type": "main", "index": 0}]]}, "Delete Conversation": {"main": [[{"node": "Format Response", "type": "main", "index": 0}]]}, "Format Response": {"main": [[{"node": "Success", "type": "main", "index": 0}]]}}	WIBOT - Delete Conversation	f	\N
\.


--
-- Data for Name: workflow_statistics; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.workflow_statistics (count, "latestEvent", name, "workflowId", "rootCount") FROM stdin;
1	2025-12-26 22:14:38.053+00	production_error	wibotrene9fa6a78	1
3	2025-12-26 22:14:44.398+00	production_success	wibotrene9fa6a78	3
27	2025-12-26 22:18:45.48+00	production_success	c8fbjjX9ObuzBE4b	27
31	2025-12-26 22:18:45.482+00	production_success	yPYTzGXVRP2JQxs8	31
1	2025-12-26 17:24:52.371+00	data_loaded	zZSHB9BHjR30ThPP	1
1	2025-12-26 17:28:06.627+00	data_loaded	c8fbjjX9ObuzBE4b	1
1	2025-12-26 17:28:06.63+00	data_loaded	yPYTzGXVRP2JQxs8	1
1	2025-12-26 17:28:13.169+00	data_loaded	NynEDh5rxUQL7788	1
62	2025-12-26 22:18:54.543+00	production_success	msg5c740bd9db51	62
5	2025-12-26 22:20:17.56+00	production_success	NynEDh5rxUQL7788	5
1	2025-12-26 18:00:56.354+00	data_loaded	msg5c740bd9db51	1
1	2025-12-26 22:12:19.158+00	data_loaded	wibotrene9fa6a78	1
1	2025-12-26 22:12:35.678+00	data_loaded	wibotdel7064ce92	1
3	2025-12-26 22:13:33.624+00	production_success	wibotdel7064ce92	3
7	2025-12-26 18:03:36.2+00	production_success	zZSHB9BHjR30ThPP	7
\.


--
-- Data for Name: workflows_tags; Type: TABLE DATA; Schema: public; Owner: widip
--

COPY public.workflows_tags ("workflowId", "tagId") FROM stdin;
zZSHB9BHjR30ThPP	kqzTIvUMe4tyfHJb
oJ8RPfYOe0ed1LSJ	kqzTIvUMe4tyfHJb
yPYTzGXVRP2JQxs8	kqzTIvUMe4tyfHJb
c8fbjjX9ObuzBE4b	kqzTIvUMe4tyfHJb
NynEDh5rxUQL7788	kqzTIvUMe4tyfHJb
\.


--
-- Name: auth_provider_sync_history_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.auth_provider_sync_history_id_seq', 1, false);


--
-- Name: execution_annotations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.execution_annotations_id_seq', 1, false);


--
-- Name: execution_entity_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.execution_entity_id_seq', 212, true);


--
-- Name: execution_metadata_temp_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.execution_metadata_temp_id_seq', 1, false);


--
-- Name: insights_by_period_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.insights_by_period_id_seq', 60, true);


--
-- Name: insights_metadata_metaId_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public."insights_metadata_metaId_seq"', 28, true);


--
-- Name: insights_raw_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.insights_raw_id_seq', 424, true);


--
-- Name: messages_message_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.messages_message_id_seq', 40, true);


--
-- Name: migrations_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.migrations_id_seq', 120, true);


--
-- Name: n8n_chat_histories_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.n8n_chat_histories_id_seq', 78, true);


--
-- Name: oauth_user_consents_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.oauth_user_consents_id_seq', 1, false);


--
-- Name: user_token_usage_usage_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.user_token_usage_usage_id_seq', 18, true);


--
-- Name: users_user_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.users_user_id_seq', 2, true);


--
-- Name: workflow_dependency_id_seq; Type: SEQUENCE SET; Schema: public; Owner: widip
--

SELECT pg_catalog.setval('public.workflow_dependency_id_seq', 1, false);


--
-- Name: test_run PK_011c050f566e9db509a0fadb9b9; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.test_run
    ADD CONSTRAINT "PK_011c050f566e9db509a0fadb9b9" PRIMARY KEY (id);


--
-- Name: installed_packages PK_08cc9197c39b028c1e9beca225940576fd1a5804; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.installed_packages
    ADD CONSTRAINT "PK_08cc9197c39b028c1e9beca225940576fd1a5804" PRIMARY KEY ("packageName");


--
-- Name: execution_metadata PK_17a0b6284f8d626aae88e1c16e4; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_metadata
    ADD CONSTRAINT "PK_17a0b6284f8d626aae88e1c16e4" PRIMARY KEY (id);


--
-- Name: project_relation PK_1caaa312a5d7184a003be0f0cb6; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.project_relation
    ADD CONSTRAINT "PK_1caaa312a5d7184a003be0f0cb6" PRIMARY KEY ("projectId", "userId");


--
-- Name: chat_hub_sessions PK_1eafef1273c70e4464fec703412; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_sessions
    ADD CONSTRAINT "PK_1eafef1273c70e4464fec703412" PRIMARY KEY (id);


--
-- Name: folder_tag PK_27e4e00852f6b06a925a4d83a3e; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.folder_tag
    ADD CONSTRAINT "PK_27e4e00852f6b06a925a4d83a3e" PRIMARY KEY ("folderId", "tagId");


--
-- Name: role PK_35c9b140caaf6da09cfabb0d675; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.role
    ADD CONSTRAINT "PK_35c9b140caaf6da09cfabb0d675" PRIMARY KEY (slug);


--
-- Name: project PK_4d68b1358bb5b766d3e78f32f57; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.project
    ADD CONSTRAINT "PK_4d68b1358bb5b766d3e78f32f57" PRIMARY KEY (id);


--
-- Name: workflow_dependency PK_52325e34cd7a2f0f67b0f3cad65; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.workflow_dependency
    ADD CONSTRAINT "PK_52325e34cd7a2f0f67b0f3cad65" PRIMARY KEY (id);


--
-- Name: invalid_auth_token PK_5779069b7235b256d91f7af1a15; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.invalid_auth_token
    ADD CONSTRAINT "PK_5779069b7235b256d91f7af1a15" PRIMARY KEY (token);


--
-- Name: shared_workflow PK_5ba87620386b847201c9531c58f; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.shared_workflow
    ADD CONSTRAINT "PK_5ba87620386b847201c9531c58f" PRIMARY KEY ("workflowId", "projectId");


--
-- Name: folder PK_6278a41a706740c94c02e288df8; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.folder
    ADD CONSTRAINT "PK_6278a41a706740c94c02e288df8" PRIMARY KEY (id);


--
-- Name: data_table_column PK_673cb121ee4a8a5e27850c72c51; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.data_table_column
    ADD CONSTRAINT "PK_673cb121ee4a8a5e27850c72c51" PRIMARY KEY (id);


--
-- Name: annotation_tag_entity PK_69dfa041592c30bbc0d4b84aa00; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.annotation_tag_entity
    ADD CONSTRAINT "PK_69dfa041592c30bbc0d4b84aa00" PRIMARY KEY (id);


--
-- Name: oauth_refresh_tokens PK_74abaed0b30711b6532598b0392; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_refresh_tokens
    ADD CONSTRAINT "PK_74abaed0b30711b6532598b0392" PRIMARY KEY (token);


--
-- Name: chat_hub_messages PK_7704a5add6baed43eef835f0bfb; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "PK_7704a5add6baed43eef835f0bfb" PRIMARY KEY (id);


--
-- Name: execution_annotations PK_7afcf93ffa20c4252869a7c6a23; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_annotations
    ADD CONSTRAINT "PK_7afcf93ffa20c4252869a7c6a23" PRIMARY KEY (id);


--
-- Name: oauth_user_consents PK_85b9ada746802c8993103470f05; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_user_consents
    ADD CONSTRAINT "PK_85b9ada746802c8993103470f05" PRIMARY KEY (id);


--
-- Name: migrations PK_8c82d7f526340ab734260ea46be; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.migrations
    ADD CONSTRAINT "PK_8c82d7f526340ab734260ea46be" PRIMARY KEY (id);


--
-- Name: installed_nodes PK_8ebd28194e4f792f96b5933423fc439df97d9689; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.installed_nodes
    ADD CONSTRAINT "PK_8ebd28194e4f792f96b5933423fc439df97d9689" PRIMARY KEY (name);


--
-- Name: shared_credentials PK_8ef3a59796a228913f251779cff; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.shared_credentials
    ADD CONSTRAINT "PK_8ef3a59796a228913f251779cff" PRIMARY KEY ("credentialsId", "projectId");


--
-- Name: test_case_execution PK_90c121f77a78a6580e94b794bce; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.test_case_execution
    ADD CONSTRAINT "PK_90c121f77a78a6580e94b794bce" PRIMARY KEY (id);


--
-- Name: user_api_keys PK_978fa5caa3468f463dac9d92e69; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.user_api_keys
    ADD CONSTRAINT "PK_978fa5caa3468f463dac9d92e69" PRIMARY KEY (id);


--
-- Name: execution_annotation_tags PK_979ec03d31294cca484be65d11f; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_annotation_tags
    ADD CONSTRAINT "PK_979ec03d31294cca484be65d11f" PRIMARY KEY ("annotationId", "tagId");


--
-- Name: webhook_entity PK_b21ace2e13596ccd87dc9bf4ea6; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.webhook_entity
    ADD CONSTRAINT "PK_b21ace2e13596ccd87dc9bf4ea6" PRIMARY KEY ("webhookPath", method);


--
-- Name: insights_by_period PK_b606942249b90cc39b0265f0575; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.insights_by_period
    ADD CONSTRAINT "PK_b606942249b90cc39b0265f0575" PRIMARY KEY (id);


--
-- Name: workflow_history PK_b6572dd6173e4cd06fe79937b58; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.workflow_history
    ADD CONSTRAINT "PK_b6572dd6173e4cd06fe79937b58" PRIMARY KEY ("versionId");


--
-- Name: scope PK_bfc45df0481abd7f355d6187da1; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.scope
    ADD CONSTRAINT "PK_bfc45df0481abd7f355d6187da1" PRIMARY KEY (slug);


--
-- Name: oauth_clients PK_c4759172d3431bae6f04e678e0d; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_clients
    ADD CONSTRAINT "PK_c4759172d3431bae6f04e678e0d" PRIMARY KEY (id);


--
-- Name: processed_data PK_ca04b9d8dc72de268fe07a65773; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.processed_data
    ADD CONSTRAINT "PK_ca04b9d8dc72de268fe07a65773" PRIMARY KEY ("workflowId", context);


--
-- Name: settings PK_dc0fe14e6d9943f268e7b119f69ab8bd; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.settings
    ADD CONSTRAINT "PK_dc0fe14e6d9943f268e7b119f69ab8bd" PRIMARY KEY (key);


--
-- Name: oauth_access_tokens PK_dcd71f96a5d5f4bf79e67d322bf; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_access_tokens
    ADD CONSTRAINT "PK_dcd71f96a5d5f4bf79e67d322bf" PRIMARY KEY (token);


--
-- Name: data_table PK_e226d0001b9e6097cbfe70617cb; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.data_table
    ADD CONSTRAINT "PK_e226d0001b9e6097cbfe70617cb" PRIMARY KEY (id);


--
-- Name: user PK_ea8f538c94b6e352418254ed6474a81f; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT "PK_ea8f538c94b6e352418254ed6474a81f" PRIMARY KEY (id);


--
-- Name: insights_raw PK_ec15125755151e3a7e00e00014f; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.insights_raw
    ADD CONSTRAINT "PK_ec15125755151e3a7e00e00014f" PRIMARY KEY (id);


--
-- Name: chat_hub_agents PK_f39a3b36bbdf0e2979ddb21cf78; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_agents
    ADD CONSTRAINT "PK_f39a3b36bbdf0e2979ddb21cf78" PRIMARY KEY (id);


--
-- Name: insights_metadata PK_f448a94c35218b6208ce20cf5a1; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.insights_metadata
    ADD CONSTRAINT "PK_f448a94c35218b6208ce20cf5a1" PRIMARY KEY ("metaId");


--
-- Name: oauth_authorization_codes PK_fb91ab932cfbd694061501cc20f; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_authorization_codes
    ADD CONSTRAINT "PK_fb91ab932cfbd694061501cc20f" PRIMARY KEY (code);


--
-- Name: binary_data PK_fc3691585b39408bb0551122af6; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.binary_data
    ADD CONSTRAINT "PK_fc3691585b39408bb0551122af6" PRIMARY KEY ("fileId");


--
-- Name: role_scope PK_role_scope; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.role_scope
    ADD CONSTRAINT "PK_role_scope" PRIMARY KEY ("roleSlug", "scopeSlug");


--
-- Name: oauth_user_consents UQ_083721d99ce8db4033e2958ebb4; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_user_consents
    ADD CONSTRAINT "UQ_083721d99ce8db4033e2958ebb4" UNIQUE ("userId", "clientId");


--
-- Name: data_table_column UQ_8082ec4890f892f0bc77473a123; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.data_table_column
    ADD CONSTRAINT "UQ_8082ec4890f892f0bc77473a123" UNIQUE ("dataTableId", name);


--
-- Name: data_table UQ_b23096ef747281ac944d28e8b0d; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.data_table
    ADD CONSTRAINT "UQ_b23096ef747281ac944d28e8b0d" UNIQUE ("projectId", name);


--
-- Name: user UQ_e12875dfb3b1d92d7d7c5377e2; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT "UQ_e12875dfb3b1d92d7d7c5377e2" UNIQUE (email);


--
-- Name: auth_identity auth_identity_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.auth_identity
    ADD CONSTRAINT auth_identity_pkey PRIMARY KEY ("providerId", "providerType");


--
-- Name: auth_provider_sync_history auth_provider_sync_history_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.auth_provider_sync_history
    ADD CONSTRAINT auth_provider_sync_history_pkey PRIMARY KEY (id);


--
-- Name: conversations conversations_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.conversations
    ADD CONSTRAINT conversations_pkey PRIMARY KEY (conversation_id);


--
-- Name: credentials_entity credentials_entity_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.credentials_entity
    ADD CONSTRAINT credentials_entity_pkey PRIMARY KEY (id);


--
-- Name: event_destinations event_destinations_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.event_destinations
    ADD CONSTRAINT event_destinations_pkey PRIMARY KEY (id);


--
-- Name: execution_data execution_data_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_data
    ADD CONSTRAINT execution_data_pkey PRIMARY KEY ("executionId");


--
-- Name: messages messages_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_pkey PRIMARY KEY (message_id);


--
-- Name: n8n_chat_histories n8n_chat_histories_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.n8n_chat_histories
    ADD CONSTRAINT n8n_chat_histories_pkey PRIMARY KEY (id);


--
-- Name: execution_entity pk_e3e63bbf986767844bbe1166d4e; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_entity
    ADD CONSTRAINT pk_e3e63bbf986767844bbe1166d4e PRIMARY KEY (id);


--
-- Name: workflow_statistics pk_workflow_statistics; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.workflow_statistics
    ADD CONSTRAINT pk_workflow_statistics PRIMARY KEY ("workflowId", name);


--
-- Name: workflows_tags pk_workflows_tags; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.workflows_tags
    ADD CONSTRAINT pk_workflows_tags PRIMARY KEY ("workflowId", "tagId");


--
-- Name: tag_entity tag_entity_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.tag_entity
    ADD CONSTRAINT tag_entity_pkey PRIMARY KEY (id);


--
-- Name: user_token_usage user_token_usage_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.user_token_usage
    ADD CONSTRAINT user_token_usage_pkey PRIMARY KEY (usage_id);


--
-- Name: user_token_usage user_token_usage_user_id_month_key; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.user_token_usage
    ADD CONSTRAINT user_token_usage_user_id_month_key UNIQUE (user_id, month);


--
-- Name: users users_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_pkey PRIMARY KEY (user_id);


--
-- Name: users users_username_key; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.users
    ADD CONSTRAINT users_username_key UNIQUE (username);


--
-- Name: variables variables_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.variables
    ADD CONSTRAINT variables_pkey PRIMARY KEY (id);


--
-- Name: workflow_entity workflow_entity_pkey; Type: CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.workflow_entity
    ADD CONSTRAINT workflow_entity_pkey PRIMARY KEY (id);


--
-- Name: IDX_14f68deffaf858465715995508; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX "IDX_14f68deffaf858465715995508" ON public.folder USING btree ("projectId", id);


--
-- Name: IDX_1d8ab99d5861c9388d2dc1cf73; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX "IDX_1d8ab99d5861c9388d2dc1cf73" ON public.insights_metadata USING btree ("workflowId");


--
-- Name: IDX_1e31657f5fe46816c34be7c1b4; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_1e31657f5fe46816c34be7c1b4" ON public.workflow_history USING btree ("workflowId");


--
-- Name: IDX_1ef35bac35d20bdae979d917a3; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX "IDX_1ef35bac35d20bdae979d917a3" ON public.user_api_keys USING btree ("apiKey");


--
-- Name: IDX_56900edc3cfd16612e2ef2c6a8; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_56900edc3cfd16612e2ef2c6a8" ON public.binary_data USING btree ("sourceType", "sourceId");


--
-- Name: IDX_5f0643f6717905a05164090dde; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_5f0643f6717905a05164090dde" ON public.project_relation USING btree ("userId");


--
-- Name: IDX_60b6a84299eeb3f671dfec7693; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX "IDX_60b6a84299eeb3f671dfec7693" ON public.insights_by_period USING btree ("periodStart", type, "periodUnit", "metaId");


--
-- Name: IDX_61448d56d61802b5dfde5cdb00; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_61448d56d61802b5dfde5cdb00" ON public.project_relation USING btree ("projectId");


--
-- Name: IDX_63d7bbae72c767cf162d459fcc; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX "IDX_63d7bbae72c767cf162d459fcc" ON public.user_api_keys USING btree ("userId", label);


--
-- Name: IDX_8e4b4774db42f1e6dda3452b2a; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_8e4b4774db42f1e6dda3452b2a" ON public.test_case_execution USING btree ("testRunId");


--
-- Name: IDX_97f863fa83c4786f1956508496; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX "IDX_97f863fa83c4786f1956508496" ON public.execution_annotations USING btree ("executionId");


--
-- Name: IDX_UniqueRoleDisplayName; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX "IDX_UniqueRoleDisplayName" ON public.role USING btree ("displayName");


--
-- Name: IDX_a3697779b366e131b2bbdae297; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_a3697779b366e131b2bbdae297" ON public.execution_annotation_tags USING btree ("tagId");


--
-- Name: IDX_a4ff2d9b9628ea988fa9e7d0bf; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_a4ff2d9b9628ea988fa9e7d0bf" ON public.workflow_dependency USING btree ("workflowId");


--
-- Name: IDX_ae51b54c4bb430cf92f48b623f; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX "IDX_ae51b54c4bb430cf92f48b623f" ON public.annotation_tag_entity USING btree (name);


--
-- Name: IDX_c1519757391996eb06064f0e7c; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_c1519757391996eb06064f0e7c" ON public.execution_annotation_tags USING btree ("annotationId");


--
-- Name: IDX_cec8eea3bf49551482ccb4933e; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX "IDX_cec8eea3bf49551482ccb4933e" ON public.execution_metadata USING btree ("executionId", key);


--
-- Name: IDX_d6870d3b6e4c185d33926f423c; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_d6870d3b6e4c185d33926f423c" ON public.test_run USING btree ("workflowId");


--
-- Name: IDX_e48a201071ab85d9d09119d640; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_e48a201071ab85d9d09119d640" ON public.workflow_dependency USING btree ("dependencyKey");


--
-- Name: IDX_e7fe1cfda990c14a445937d0b9; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_e7fe1cfda990c14a445937d0b9" ON public.workflow_dependency USING btree ("dependencyType");


--
-- Name: IDX_execution_entity_deletedAt; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_execution_entity_deletedAt" ON public.execution_entity USING btree ("deletedAt");


--
-- Name: IDX_role_scope_scopeSlug; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_role_scope_scopeSlug" ON public.role_scope USING btree ("scopeSlug");


--
-- Name: IDX_workflow_entity_name; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX "IDX_workflow_entity_name" ON public.workflow_entity USING btree (name);


--
-- Name: idx_07fde106c0b471d8cc80a64fc8; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX idx_07fde106c0b471d8cc80a64fc8 ON public.credentials_entity USING btree (type);


--
-- Name: idx_16f4436789e804e3e1c9eeb240; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX idx_16f4436789e804e3e1c9eeb240 ON public.webhook_entity USING btree ("webhookId", method, "pathLength");


--
-- Name: idx_812eb05f7451ca757fb98444ce; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX idx_812eb05f7451ca757fb98444ce ON public.tag_entity USING btree (name);


--
-- Name: idx_conversations_user; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX idx_conversations_user ON public.conversations USING btree (user_id, updated_at DESC);


--
-- Name: idx_execution_entity_stopped_at_status_deleted_at; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX idx_execution_entity_stopped_at_status_deleted_at ON public.execution_entity USING btree ("stoppedAt", status, "deletedAt") WHERE (("stoppedAt" IS NOT NULL) AND ("deletedAt" IS NULL));


--
-- Name: idx_execution_entity_wait_till_status_deleted_at; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX idx_execution_entity_wait_till_status_deleted_at ON public.execution_entity USING btree ("waitTill", status, "deletedAt") WHERE (("waitTill" IS NOT NULL) AND ("deletedAt" IS NULL));


--
-- Name: idx_execution_entity_workflow_id_started_at; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX idx_execution_entity_workflow_id_started_at ON public.execution_entity USING btree ("workflowId", "startedAt") WHERE (("startedAt" IS NOT NULL) AND ("deletedAt" IS NULL));


--
-- Name: idx_messages_conversation; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX idx_messages_conversation ON public.messages USING btree (conversation_id, created_at);


--
-- Name: idx_messages_user; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX idx_messages_user ON public.messages USING btree (user_id);


--
-- Name: idx_token_usage_user_month; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX idx_token_usage_user_month ON public.user_token_usage USING btree (user_id, month);


--
-- Name: idx_workflows_tags_workflow_id; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX idx_workflows_tags_workflow_id ON public.workflows_tags USING btree ("workflowId");


--
-- Name: pk_credentials_entity_id; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX pk_credentials_entity_id ON public.credentials_entity USING btree (id);


--
-- Name: pk_tag_entity_id; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX pk_tag_entity_id ON public.tag_entity USING btree (id);


--
-- Name: pk_workflow_entity_id; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX pk_workflow_entity_id ON public.workflow_entity USING btree (id);


--
-- Name: project_relation_role_idx; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX project_relation_role_idx ON public.project_relation USING btree (role);


--
-- Name: project_relation_role_project_idx; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX project_relation_role_project_idx ON public.project_relation USING btree ("projectId", role);


--
-- Name: user_role_idx; Type: INDEX; Schema: public; Owner: widip
--

CREATE INDEX user_role_idx ON public."user" USING btree ("roleSlug");


--
-- Name: variables_global_key_unique; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX variables_global_key_unique ON public.variables USING btree (key) WHERE ("projectId" IS NULL);


--
-- Name: variables_project_key_unique; Type: INDEX; Schema: public; Owner: widip
--

CREATE UNIQUE INDEX variables_project_key_unique ON public.variables USING btree ("projectId", key) WHERE ("projectId" IS NOT NULL);


--
-- Name: conversations update_conversation_timestamp; Type: TRIGGER; Schema: public; Owner: widip
--

CREATE TRIGGER update_conversation_timestamp BEFORE UPDATE ON public.conversations FOR EACH ROW EXECUTE FUNCTION public.update_updated_at_column();


--
-- Name: workflow_entity workflow_version_increment; Type: TRIGGER; Schema: public; Owner: widip
--

CREATE TRIGGER workflow_version_increment BEFORE UPDATE ON public.workflow_entity FOR EACH ROW EXECUTE FUNCTION public.increment_workflow_version();


--
-- Name: processed_data FK_06a69a7032c97a763c2c7599464; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.processed_data
    ADD CONSTRAINT "FK_06a69a7032c97a763c2c7599464" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- Name: workflow_entity FK_08d6c67b7f722b0039d9d5ed620; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.workflow_entity
    ADD CONSTRAINT "FK_08d6c67b7f722b0039d9d5ed620" FOREIGN KEY ("activeVersionId") REFERENCES public.workflow_history("versionId") ON DELETE RESTRICT;


--
-- Name: insights_metadata FK_1d8ab99d5861c9388d2dc1cf733; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.insights_metadata
    ADD CONSTRAINT "FK_1d8ab99d5861c9388d2dc1cf733" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE SET NULL;


--
-- Name: workflow_history FK_1e31657f5fe46816c34be7c1b4b; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.workflow_history
    ADD CONSTRAINT "FK_1e31657f5fe46816c34be7c1b4b" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- Name: chat_hub_messages FK_1f4998c8a7dec9e00a9ab15550e; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "FK_1f4998c8a7dec9e00a9ab15550e" FOREIGN KEY ("revisionOfMessageId") REFERENCES public.chat_hub_messages(id) ON DELETE CASCADE;


--
-- Name: oauth_user_consents FK_21e6c3c2d78a097478fae6aaefa; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_user_consents
    ADD CONSTRAINT "FK_21e6c3c2d78a097478fae6aaefa" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- Name: insights_metadata FK_2375a1eda085adb16b24615b69c; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.insights_metadata
    ADD CONSTRAINT "FK_2375a1eda085adb16b24615b69c" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE SET NULL;


--
-- Name: chat_hub_messages FK_25c9736e7f769f3a005eef4b372; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "FK_25c9736e7f769f3a005eef4b372" FOREIGN KEY ("retryOfMessageId") REFERENCES public.chat_hub_messages(id) ON DELETE CASCADE;


--
-- Name: execution_metadata FK_31d0b4c93fb85ced26f6005cda3; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_metadata
    ADD CONSTRAINT "FK_31d0b4c93fb85ced26f6005cda3" FOREIGN KEY ("executionId") REFERENCES public.execution_entity(id) ON DELETE CASCADE;


--
-- Name: shared_credentials FK_416f66fc846c7c442970c094ccf; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.shared_credentials
    ADD CONSTRAINT "FK_416f66fc846c7c442970c094ccf" FOREIGN KEY ("credentialsId") REFERENCES public.credentials_entity(id) ON DELETE CASCADE;


--
-- Name: variables FK_42f6c766f9f9d2edcc15bdd6e9b; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.variables
    ADD CONSTRAINT "FK_42f6c766f9f9d2edcc15bdd6e9b" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE CASCADE;


--
-- Name: chat_hub_agents FK_441ba2caba11e077ce3fbfa2cd8; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_agents
    ADD CONSTRAINT "FK_441ba2caba11e077ce3fbfa2cd8" FOREIGN KEY ("ownerId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- Name: project_relation FK_5f0643f6717905a05164090dde7; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.project_relation
    ADD CONSTRAINT "FK_5f0643f6717905a05164090dde7" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- Name: project_relation FK_61448d56d61802b5dfde5cdb002; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.project_relation
    ADD CONSTRAINT "FK_61448d56d61802b5dfde5cdb002" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE CASCADE;


--
-- Name: insights_by_period FK_6414cfed98daabbfdd61a1cfbc0; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.insights_by_period
    ADD CONSTRAINT "FK_6414cfed98daabbfdd61a1cfbc0" FOREIGN KEY ("metaId") REFERENCES public.insights_metadata("metaId") ON DELETE CASCADE;


--
-- Name: oauth_authorization_codes FK_64d965bd072ea24fb6da55468cd; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_authorization_codes
    ADD CONSTRAINT "FK_64d965bd072ea24fb6da55468cd" FOREIGN KEY ("clientId") REFERENCES public.oauth_clients(id) ON DELETE CASCADE;


--
-- Name: chat_hub_messages FK_6afb260449dd7a9b85355d4e0c9; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "FK_6afb260449dd7a9b85355d4e0c9" FOREIGN KEY ("executionId") REFERENCES public.execution_entity(id) ON DELETE SET NULL;


--
-- Name: insights_raw FK_6e2e33741adef2a7c5d66befa4e; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.insights_raw
    ADD CONSTRAINT "FK_6e2e33741adef2a7c5d66befa4e" FOREIGN KEY ("metaId") REFERENCES public.insights_metadata("metaId") ON DELETE CASCADE;


--
-- Name: oauth_access_tokens FK_7234a36d8e49a1fa85095328845; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_access_tokens
    ADD CONSTRAINT "FK_7234a36d8e49a1fa85095328845" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- Name: installed_nodes FK_73f857fc5dce682cef8a99c11dbddbc969618951; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.installed_nodes
    ADD CONSTRAINT "FK_73f857fc5dce682cef8a99c11dbddbc969618951" FOREIGN KEY (package) REFERENCES public.installed_packages("packageName") ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: oauth_access_tokens FK_78b26968132b7e5e45b75876481; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_access_tokens
    ADD CONSTRAINT "FK_78b26968132b7e5e45b75876481" FOREIGN KEY ("clientId") REFERENCES public.oauth_clients(id) ON DELETE CASCADE;


--
-- Name: chat_hub_sessions FK_7bc13b4c7e6afbfaf9be326c189; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_sessions
    ADD CONSTRAINT "FK_7bc13b4c7e6afbfaf9be326c189" FOREIGN KEY ("credentialId") REFERENCES public.credentials_entity(id) ON DELETE SET NULL;


--
-- Name: folder FK_804ea52f6729e3940498bd54d78; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.folder
    ADD CONSTRAINT "FK_804ea52f6729e3940498bd54d78" FOREIGN KEY ("parentFolderId") REFERENCES public.folder(id) ON DELETE CASCADE;


--
-- Name: shared_credentials FK_812c2852270da1247756e77f5a4; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.shared_credentials
    ADD CONSTRAINT "FK_812c2852270da1247756e77f5a4" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE CASCADE;


--
-- Name: test_case_execution FK_8e4b4774db42f1e6dda3452b2af; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.test_case_execution
    ADD CONSTRAINT "FK_8e4b4774db42f1e6dda3452b2af" FOREIGN KEY ("testRunId") REFERENCES public.test_run(id) ON DELETE CASCADE;


--
-- Name: data_table_column FK_930b6e8faaf88294cef23484160; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.data_table_column
    ADD CONSTRAINT "FK_930b6e8faaf88294cef23484160" FOREIGN KEY ("dataTableId") REFERENCES public.data_table(id) ON DELETE CASCADE;


--
-- Name: folder_tag FK_94a60854e06f2897b2e0d39edba; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.folder_tag
    ADD CONSTRAINT "FK_94a60854e06f2897b2e0d39edba" FOREIGN KEY ("folderId") REFERENCES public.folder(id) ON DELETE CASCADE;


--
-- Name: execution_annotations FK_97f863fa83c4786f19565084960; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_annotations
    ADD CONSTRAINT "FK_97f863fa83c4786f19565084960" FOREIGN KEY ("executionId") REFERENCES public.execution_entity(id) ON DELETE CASCADE;


--
-- Name: chat_hub_agents FK_9c61ad497dcbae499c96a6a78ba; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_agents
    ADD CONSTRAINT "FK_9c61ad497dcbae499c96a6a78ba" FOREIGN KEY ("credentialId") REFERENCES public.credentials_entity(id) ON DELETE SET NULL;


--
-- Name: chat_hub_sessions FK_9f9293d9f552496c40e0d1a8f80; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_sessions
    ADD CONSTRAINT "FK_9f9293d9f552496c40e0d1a8f80" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE SET NULL;


--
-- Name: execution_annotation_tags FK_a3697779b366e131b2bbdae2976; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_annotation_tags
    ADD CONSTRAINT "FK_a3697779b366e131b2bbdae2976" FOREIGN KEY ("tagId") REFERENCES public.annotation_tag_entity(id) ON DELETE CASCADE;


--
-- Name: shared_workflow FK_a45ea5f27bcfdc21af9b4188560; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.shared_workflow
    ADD CONSTRAINT "FK_a45ea5f27bcfdc21af9b4188560" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE CASCADE;


--
-- Name: workflow_dependency FK_a4ff2d9b9628ea988fa9e7d0bf8; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.workflow_dependency
    ADD CONSTRAINT "FK_a4ff2d9b9628ea988fa9e7d0bf8" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- Name: oauth_user_consents FK_a651acea2f6c97f8c4514935486; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_user_consents
    ADD CONSTRAINT "FK_a651acea2f6c97f8c4514935486" FOREIGN KEY ("clientId") REFERENCES public.oauth_clients(id) ON DELETE CASCADE;


--
-- Name: oauth_refresh_tokens FK_a699f3ed9fd0c1b19bc2608ac53; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_refresh_tokens
    ADD CONSTRAINT "FK_a699f3ed9fd0c1b19bc2608ac53" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- Name: folder FK_a8260b0b36939c6247f385b8221; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.folder
    ADD CONSTRAINT "FK_a8260b0b36939c6247f385b8221" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE CASCADE;


--
-- Name: oauth_authorization_codes FK_aa8d3560484944c19bdf79ffa16; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_authorization_codes
    ADD CONSTRAINT "FK_aa8d3560484944c19bdf79ffa16" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- Name: chat_hub_messages FK_acf8926098f063cdbbad8497fd1; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "FK_acf8926098f063cdbbad8497fd1" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE SET NULL;


--
-- Name: oauth_refresh_tokens FK_b388696ce4d8be7ffbe8d3e4b69; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.oauth_refresh_tokens
    ADD CONSTRAINT "FK_b388696ce4d8be7ffbe8d3e4b69" FOREIGN KEY ("clientId") REFERENCES public.oauth_clients(id) ON DELETE CASCADE;


--
-- Name: execution_annotation_tags FK_c1519757391996eb06064f0e7c8; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_annotation_tags
    ADD CONSTRAINT "FK_c1519757391996eb06064f0e7c8" FOREIGN KEY ("annotationId") REFERENCES public.execution_annotations(id) ON DELETE CASCADE;


--
-- Name: data_table FK_c2a794257dee48af7c9abf681de; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.data_table
    ADD CONSTRAINT "FK_c2a794257dee48af7c9abf681de" FOREIGN KEY ("projectId") REFERENCES public.project(id) ON DELETE CASCADE;


--
-- Name: project_relation FK_c6b99592dc96b0d836d7a21db91; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.project_relation
    ADD CONSTRAINT "FK_c6b99592dc96b0d836d7a21db91" FOREIGN KEY (role) REFERENCES public.role(slug);


--
-- Name: test_run FK_d6870d3b6e4c185d33926f423c8; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.test_run
    ADD CONSTRAINT "FK_d6870d3b6e4c185d33926f423c8" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- Name: shared_workflow FK_daa206a04983d47d0a9c34649ce; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.shared_workflow
    ADD CONSTRAINT "FK_daa206a04983d47d0a9c34649ce" FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- Name: folder_tag FK_dc88164176283de80af47621746; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.folder_tag
    ADD CONSTRAINT "FK_dc88164176283de80af47621746" FOREIGN KEY ("tagId") REFERENCES public.tag_entity(id) ON DELETE CASCADE;


--
-- Name: user_api_keys FK_e131705cbbc8fb589889b02d457; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.user_api_keys
    ADD CONSTRAINT "FK_e131705cbbc8fb589889b02d457" FOREIGN KEY ("userId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- Name: chat_hub_messages FK_e22538eb50a71a17954cd7e076c; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "FK_e22538eb50a71a17954cd7e076c" FOREIGN KEY ("sessionId") REFERENCES public.chat_hub_sessions(id) ON DELETE CASCADE;


--
-- Name: test_case_execution FK_e48965fac35d0f5b9e7f51d8c44; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.test_case_execution
    ADD CONSTRAINT "FK_e48965fac35d0f5b9e7f51d8c44" FOREIGN KEY ("executionId") REFERENCES public.execution_entity(id) ON DELETE SET NULL;


--
-- Name: chat_hub_messages FK_e5d1fa722c5a8d38ac204746662; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_messages
    ADD CONSTRAINT "FK_e5d1fa722c5a8d38ac204746662" FOREIGN KEY ("previousMessageId") REFERENCES public.chat_hub_messages(id) ON DELETE CASCADE;


--
-- Name: chat_hub_sessions FK_e9ecf8ede7d989fcd18790fe36a; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.chat_hub_sessions
    ADD CONSTRAINT "FK_e9ecf8ede7d989fcd18790fe36a" FOREIGN KEY ("ownerId") REFERENCES public."user"(id) ON DELETE CASCADE;


--
-- Name: user FK_eaea92ee7bfb9c1b6cd01505d56; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public."user"
    ADD CONSTRAINT "FK_eaea92ee7bfb9c1b6cd01505d56" FOREIGN KEY ("roleSlug") REFERENCES public.role(slug);


--
-- Name: role_scope FK_role; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.role_scope
    ADD CONSTRAINT "FK_role" FOREIGN KEY ("roleSlug") REFERENCES public.role(slug) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: role_scope FK_scope; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.role_scope
    ADD CONSTRAINT "FK_scope" FOREIGN KEY ("scopeSlug") REFERENCES public.scope(slug) ON UPDATE CASCADE ON DELETE CASCADE;


--
-- Name: auth_identity auth_identity_userId_fkey; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.auth_identity
    ADD CONSTRAINT "auth_identity_userId_fkey" FOREIGN KEY ("userId") REFERENCES public."user"(id);


--
-- Name: conversations conversations_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.conversations
    ADD CONSTRAINT conversations_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id) ON DELETE CASCADE;


--
-- Name: execution_data execution_data_fk; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_data
    ADD CONSTRAINT execution_data_fk FOREIGN KEY ("executionId") REFERENCES public.execution_entity(id) ON DELETE CASCADE;


--
-- Name: execution_entity fk_execution_entity_workflow_id; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.execution_entity
    ADD CONSTRAINT fk_execution_entity_workflow_id FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- Name: webhook_entity fk_webhook_entity_workflow_id; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.webhook_entity
    ADD CONSTRAINT fk_webhook_entity_workflow_id FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- Name: workflow_entity fk_workflow_parent_folder; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.workflow_entity
    ADD CONSTRAINT fk_workflow_parent_folder FOREIGN KEY ("parentFolderId") REFERENCES public.folder(id) ON DELETE CASCADE;


--
-- Name: workflow_statistics fk_workflow_statistics_workflow_id; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.workflow_statistics
    ADD CONSTRAINT fk_workflow_statistics_workflow_id FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- Name: workflows_tags fk_workflows_tags_tag_id; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.workflows_tags
    ADD CONSTRAINT fk_workflows_tags_tag_id FOREIGN KEY ("tagId") REFERENCES public.tag_entity(id) ON DELETE CASCADE;


--
-- Name: workflows_tags fk_workflows_tags_workflow_id; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.workflows_tags
    ADD CONSTRAINT fk_workflows_tags_workflow_id FOREIGN KEY ("workflowId") REFERENCES public.workflow_entity(id) ON DELETE CASCADE;


--
-- Name: messages messages_conversation_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_conversation_id_fkey FOREIGN KEY (conversation_id) REFERENCES public.conversations(conversation_id) ON DELETE CASCADE;


--
-- Name: messages messages_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.messages
    ADD CONSTRAINT messages_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id);


--
-- Name: user_token_usage user_token_usage_user_id_fkey; Type: FK CONSTRAINT; Schema: public; Owner: widip
--

ALTER TABLE ONLY public.user_token_usage
    ADD CONSTRAINT user_token_usage_user_id_fkey FOREIGN KEY (user_id) REFERENCES public.users(user_id) ON DELETE CASCADE;


--
-- PostgreSQL database dump complete
--

\unrestrict azymbu8NaLOZETVApf1RlVWgEgfkcBXGHnXCavZJCF9VLwh3Cm5Z5suuPUUaiSI

